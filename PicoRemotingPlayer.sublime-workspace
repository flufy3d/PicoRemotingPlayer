{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"else",
				"elseif"
			],
			[
				"har",
				"hardware_data"
			],
			[
				"bu",
				"button"
			],
			[
				"res",
				"response"
			]
		]
	},
	"buffers":
	[
		{
			"file": "pico_remoting_player/main.cpp",
			"settings":
			{
				"buffer_size": 7153,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					20,
					1,
					"left_delete",
					null,
					"AQAAAH8EAAAAAAAAfwQAAAAAAABTCgAAdm9pZCBTaG93SGVscCgpIHsKICAgIC8vIFRPRE86IEltcHJvdmUvdXBkYXRlIHdoZW4gdGhpbmdzIGFyZSBtb3JlIHNldHRsZWQuCiAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sCiAgICAgICAgICAgICAgICJIZWxsb1hyIC0tZ3JhcGhpY3N8LWcgPEdyYXBoaWNzIEFQST4gWy0tZm9ybWZhY3RvcnwtZmYgPEZvcm0gZmFjdG9yPl0gWy0tdmlld2NvbmZpZ3wtdmMgPFZpZXcgY29uZmlnPl0gIgogICAgICAgICAgICAgICAiWy0tYmxlbmRtb2RlfC1ibSA8QmxlbmQgbW9kZT5dIFstLXNwYWNlfC1zIDxTcGFjZT5dIFstLXZlcmJvc2V8LXZdIik7CiAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJHcmFwaGljcyBBUElzOiAgICAgICAgICAgIEQzRDExLCBEM0QxMiwgT3BlbkdMRVMsIE9wZW5HTCwgVnVsa2FuMiwgVnVsa2FuIik7CiAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJGb3JtIGZhY3RvcnM6ICAgICAgICAgICAgIEhtZCwgSGFuZGhlbGQiKTsKICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIlZpZXcgY29uZmlndXJhdGlvbnM6ICAgICAgTW9ubywgU3RlcmVvIik7CiAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJFbnZpcm9ubWVudCBibGVuZCBtb2RlczogIE9wYXF1ZSwgQWRkaXRpdmUsIEFscGhhQmxlbmQiKTsKICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIlNwYWNlczogICAgICAgICAgICAgICAgICAgVmlldywgTG9jYWwsIFN0YWdlIik7Cn0KCmJvb2wgVXBkYXRlT3B0aW9uc0Zyb21Db21tYW5kTGluZShPcHRpb25zJiBvcHRpb25zLCBpbnQgYXJnYywgY2hhciogYXJndltdKSB7CiAgICBpbnQgaSA9IDE7ICAvLyBJbmRleCAwIGlzIHRoZSBwcm9ncmFtIG5hbWUgYW5kIGlzIHNraXBwZWQuCgogICAgYXV0byBnZXROZXh0QXJnID0gWyZdIHsKICAgICAgICBpZiAoaSA+PSBhcmdjKSB7CiAgICAgICAgICAgIHRocm93IHN0ZDo6aW52YWxpZF9hcmd1bWVudCgiQXJndW1lbnQgcGFyYW1ldGVyIG1pc3NpbmciKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzdGQ6OnN0cmluZyhhcmd2W2krK10pOwogICAgfTsKCiAgICB3aGlsZSAoaSA8IGFyZ2MpIHsKICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyBhcmcgPSBnZXROZXh0QXJnKCk7CiAgICAgICAgaWYgKEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLS1ncmFwaGljcyIpIHx8IEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLWciKSkgewogICAgICAgICAgICBvcHRpb25zLkdyYXBoaWNzUGx1Z2luID0gZ2V0TmV4dEFyZygpOwogICAgICAgIH0gZWxzZSBpZiAoRXF1YWxzSWdub3JlQ2FzZShhcmcsICItLWZvcm1mYWN0b3IiKSB8fCBFcXVhbHNJZ25vcmVDYXNlKGFyZywgIi1mZiIpKSB7CiAgICAgICAgICAgIG9wdGlvbnMuRm9ybUZhY3RvciA9IGdldE5leHRBcmcoKTsKICAgICAgICB9IGVsc2UgaWYgKEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLS12aWV3Y29uZmlnIikgfHwgRXF1YWxzSWdub3JlQ2FzZShhcmcsICItdmMiKSkgewogICAgICAgICAgICBvcHRpb25zLlZpZXdDb25maWd1cmF0aW9uID0gZ2V0TmV4dEFyZygpOwogICAgICAgIH0gZWxzZSBpZiAoRXF1YWxzSWdub3JlQ2FzZShhcmcsICItLWJsZW5kbW9kZSIpIHx8IEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLWJtIikpIHsKICAgICAgICAgICAgb3B0aW9ucy5FbnZpcm9ubWVudEJsZW5kTW9kZSA9IGdldE5leHRBcmcoKTsKICAgICAgICB9IGVsc2UgaWYgKEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLS1zcGFjZSIpIHx8IEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLXMiKSkgewogICAgICAgICAgICBvcHRpb25zLkFwcFNwYWNlID0gZ2V0TmV4dEFyZygpOwogICAgICAgIH0gZWxzZSBpZiAoRXF1YWxzSWdub3JlQ2FzZShhcmcsICItLXZlcmJvc2UiKSB8fCBFcXVhbHNJZ25vcmVDYXNlKGFyZywgIi12IikpIHsKICAgICAgICAgICAgTG9nOjpTZXRMZXZlbChMb2c6OkxldmVsOjpWZXJib3NlKTsKICAgICAgICB9IGVsc2UgaWYgKEVxdWFsc0lnbm9yZUNhc2UoYXJnLCAiLS1oZWxwIikgfHwgRXF1YWxzSWdub3JlQ2FzZShhcmcsICItaCIpKSB7CiAgICAgICAgICAgIFNob3dIZWxwKCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBzdGQ6OmludmFsaWRfYXJndW1lbnQoRm10KCJVbmtub3duIGFyZ3VtZW50OiAlcyIsIGFyZy5jX3N0cigpKSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIENoZWNrIGZvciByZXF1aXJlZCBwYXJhbWV0ZXJzLgogICAgaWYgKG9wdGlvbnMuR3JhcGhpY3NQbHVnaW4uZW1wdHkoKSkgewogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsICJHcmFwaGljc1BsdWdpbiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQiKTsKICAgICAgICBTaG93SGVscCgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB0cnkgewogICAgICAgIG9wdGlvbnMuUGFyc2VTdHJpbmdzKCk7CiAgICB9IGNhdGNoIChzdGQ6OmludmFsaWRfYXJndW1lbnQmIGlhKSB7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpFcnJvciwgaWEud2hhdCgpKTsKICAgICAgICBTaG93SGVscCgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9",
					"AQAAAAAAAAABAAAA0g4AAAAAAAB/BAAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"left_delete",
					null,
					"AQAAAHkEAAAAAAAAeQQAAAAAAAANAAAAI2Vsc2UKCiNlbmRpZg",
					"AQAAAAAAAAABAAAAhgQAAAAAAAB5BAAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"left_delete",
					null,
					"AQAAABYBAAAAAAAAFgEAAAAAAAAeAAAAI2lmZGVmIFhSX1VTRV9QTEFURk9STV9BTkRST0lE",
					"AQAAAAAAAAABAAAANAEAAAAAAAAWAQAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"indent",
					null,
					"EgAAABcBAAAAAAAAGwEAAAAAAAAAAAAALQEAAAAAAAAxAQAAAAAAAAAAAACQAQAAAAAAAJQBAAAAAAAAAAAAAOwBAAAAAAAA8AEAAAAAAAAAAAAATgIAAAAAAABSAgAAAAAAAAAAAAC3AgAAAAAAALsCAAAAAAAAAAAAAL4CAAAAAAAAwgIAAAAAAAAAAAAA/QIAAAAAAAABAwAAAAAAAAAAAAAmAwAAAAAAACoDAAAAAAAAAAAAAHIDAAAAAAAAdgMAAAAAAAAAAAAAngMAAAAAAACiAwAAAAAAAAAAAACpAwAAAAAAAK0DAAAAAAAAAAAAANMDAAAAAAAA1wMAAAAAAAAAAAAAAQQAAAAAAAAFBAAAAAAAAAAAAABPBAAAAAAAAFMEAAAAAAAAAAAAAH4EAAAAAAAAggQAAAAAAAAAAAAAiAQAAAAAAACMBAAAAAAAAAAAAACdBAAAAAAAAKEEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWgQAAAAAAAAXAQAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					2,
					"right_delete",
					null,
					"AgAAAH0BAAAAAAAAfQEAAAAAAAAIAAAAT3BlbkdMRVN9AQAAAAAAAH0BAAAAAAAAAQAAAHw",
					"AQAAAAAAAAABAAAAfQEAAAAAAACFAQAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJkEAAAAAAAAmgQAAAAAAAAAAAAAmgQAAAAAAACeBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmQQAAAAAAACZBAAAAAAAAAAAAAAAAPC/"
				],
				[
					140,
					1,
					"left_delete",
					null,
					"AgAAAAYQAAAAAAAABhAAAAAAAABQAwAAQUFzc2V0TWFuYWdlciogYXNzZXRNYW5hZ2VyID0gYXBwLT5hY3Rpdml0eS0+YXNzZXRNYW5hZ2VyOwogICAgICAgIEFBc3NldCogYXNzZXQgPSBBQXNzZXRNYW5hZ2VyX29wZW4oYXNzZXRNYW5hZ2VyLCAibGVmdF9hZGp1c3RlZC5wbmciLCBBQVNTRVRfTU9ERV9CVUZGRVIpOwoKICAgICAgICBpZiAoYXNzZXQgPT0gbnVsbHB0cikgewoKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpFcnJvciwKICAgICAgICAgICAgICAgICAgICAgICBGbXQoIkFBc3NldE1hbmFnZXJfb3BlbiBmYWlsZWQiKSk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICAvLyDojrflj5blm77niYflpKflsI/vvIjlrZfoioLvvIkKICAgICAgICBvZmZfdCBsZW5ndGggPSBBQXNzZXRfZ2V0TGVuZ3RoKGFzc2V0KTsKCiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpFcnJvciwKICAgICAgICAgICAgICAgICAgIEZtdCgibGVmdF9hZGp1c3RlZC5wbmcgbGVuZ3RoPSVsZCIsIGxlbmd0aCkpOwoKICAgICAgICAvLyDliIbphY3lhoXlrZjnqbrpl7Tlubbor7vlj5bmlofku7YKICAgICAgICBjaGFyKiBidWZmZXIgPSBuZXcgY2hhcltsZW5ndGhdOwogICAgICAgIEFBc3NldF9yZWFkKGFzc2V0LCBidWZmZXIsIGxlbmd0aCk7CgogICAgICAgIC8vIOatpOaXtu+8jGJ1ZmZlcuS4reWwseWMheWQq+S6huWbvueJh+eahOaVsOaNru+8jOS9oOWPr+S7peeUqOS7u+S9leWbvuWDj+WkhOeQhuW6k+adpeWkhOeQhuWugwogICAgICAgIC8vIC4uLgoKICAgICAgICAvLyDph4rmlL7otYTmupAKICAgICAgICBBQXNzZXRfY2xvc2UoYXNzZXQpOwogICAgICAgIGRlbGV0ZVtdIGJ1ZmZlcjuaBAAAAAAAAJoEAAAAAAAABAAAACAgICA",
					"AQAAAAAAAAABAAAA6hIAAAAAAAAGEAAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAPkPAAAAAAAA+g8AAAAAAAAAAAAA+g8AAAAAAAACEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+Q8AAAAAAAD5DwAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"paste",
					null,
					"AQAAAAIQAAAAAAAALBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAhAAAAAAAAACEAAAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"paste",
					null,
					"AgAAAO8PAAAAAAAA+Q8AAAAAAAAAAAAA+Q8AAAAAAAD5DwAAAAAAAAoAAABMb2FkIEltYWdl",
					"AQAAAAAAAAABAAAA7w8AAAAAAAD5DwAAAAAAAAAAAAAAAPC/"
				],
				[
					164,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPkPAAAAAAAA+g8AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+Q8AAAAAAAD5DwAAAAAAAAAAAAAAAPC/"
				],
				[
					165,
					1,
					"paste",
					null,
					"AQAAAPoPAAAAAAAACBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+g8AAAAAAAD6DwAAAAAAAAAAAAAAAPC/"
				],
				[
					168,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAADsQAAAAAAAAPBAAAAAAAAAAAAAAPBAAAAAAAABEEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOxAAAAAAAAA7EAAAAAAAAAAAAAAAAPC/"
				],
				[
					169,
					1,
					"paste",
					null,
					"AQAAAEQQAAAAAAAAlRAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARBAAAAAAAABEEAAAAAAAAAAAAAAAAPC/"
				],
				[
					172,
					1,
					"insert",
					{
						"characters": "\n#include"
					},
					"CQAAAAUBAAAAAAAABgEAAAAAAAAAAAAABgEAAAAAAAAHAQAAAAAAAAAAAAAHAQAAAAAAAAgBAAAAAAAAAAAAAAgBAAAAAAAACQEAAAAAAAAAAAAACQEAAAAAAAAKAQAAAAAAAAAAAAAKAQAAAAAAAAsBAAAAAAAAAAAAAAsBAAAAAAAADAEAAAAAAAAAAAAADAEAAAAAAAANAQAAAAAAAAAAAAANAQAAAAAAAA4BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABQEAAAAAAAAFAQAAAAAAAAAAAAAAAPC/"
				],
				[
					173,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAA4BAAAAAAAADwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADgEAAAAAAAAOAQAAAAAAAAAAAAAAAPC/"
				],
				[
					174,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAA8BAAAAAAAAEQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADwEAAAAAAAAPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					175,
					1,
					"insert",
					{
						"characters": "my"
					},
					"AgAAABABAAAAAAAAEQEAAAAAAAAAAAAAEQEAAAAAAAASAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEAEAAAAAAAAQAQAAAAAAAAAAAAAAAPC/"
				],
				[
					176,
					1,
					"insert_completion",
					{
						"completion": "my_asset_manager",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "my_asset_manager"
					},
					"AgAAABABAAAAAAAAEAEAAAAAAAACAAAAbXkQAQAAAAAAACABAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEgEAAAAAAAASAQAAAAAAAAAAAAAAAPC/"
				],
				[
					177,
					1,
					"insert",
					{
						"characters": ".h"
					},
					"AgAAACABAAAAAAAAIQEAAAAAAAAAAAAAIQEAAAAAAAAiAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIAEAAAAAAAAgAQAAAAAAAAAAAAAAAPC/"
				],
				[
					184,
					1,
					"cut",
					null,
					"AQAAAFoQAAAAAAAAWhAAAAAAAABYAAAAICAgICAgICBBc3NldERhdGEgYXNzZXREYXRhID0gTXlBc3NldE1hbmFnZXI6Okluc3RhbmNlKCkuTG9hZEFzc2V0KCJsZWZ0X2FkanVzdGVkLnBuZyIpOw",
					"AQAAAAAAAAABAAAAshAAAAAAAABaEAAAAAAAAAAAAAAAAPC/"
				],
				[
					185,
					4,
					"right_delete",
					null,
					"BAAAAFoQAAAAAAAAWhAAAAAAAAABAAAACloQAAAAAAAAWhAAAAAAAAABAAAACloQAAAAAAAAWhAAAAAAAAAEAAAAICAgIFoQAAAAAAAAWhAAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAWhAAAAAAAABaEAAAAAAAAAAAAAAAAPC/"
				],
				[
					187,
					2,
					"right_delete",
					null,
					"AgAAAFoQAAAAAAAAWhAAAAAAAAABAAAACloQAAAAAAAAWhAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAWhAAAAAAAABbEAAAAAAAAAAAAAAAAAAA"
				],
				[
					190,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAFkQAAAAAAAAWhAAAAAAAAAAAAAAWhAAAAAAAABiEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWRAAAAAAAABZEAAAAAAAAAAAAAAAAPC/"
				],
				[
					192,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADwGwAALy8gQ29weXJpZ2h0IChjKSAyMDE3LTIwMjIsIFRoZSBLaHJvbm9zIEdyb3VwIEluYy4KLy8KLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKCiNpbmNsdWRlICJwY2guaCIKI2luY2x1ZGUgImNvbW1vbi5oIgojaW5jbHVkZSAib3B0aW9ucy5oIgojaW5jbHVkZSAicGxhdGZvcm1kYXRhLmgiCiNpbmNsdWRlICJwbGF0Zm9ybXBsdWdpbi5oIgojaW5jbHVkZSAiZ3JhcGhpY3NwbHVnaW4uaCIKI2luY2x1ZGUgIm9wZW54cl9wcm9ncmFtLmgiCiNpbmNsdWRlICJteV9hc3NldF9tYW5hZ2VyLmgiCgoKCm5hbWVzcGFjZSB7CgoKICAgIHZvaWQgU2hvd0hlbHAoKSB7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZ3JhcGhpY3NQbHVnaW4gVnVsa2FuIik7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZm9ybUZhY3RvciBIbWR8SGFuZGhlbGQiKTsKICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJhZGIgc2hlbGwgc2V0cHJvcCBkZWJ1Zy54ci52aWV3Q29uZmlndXJhdGlvbiBTdGVyZW98TW9ubyIpOwogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgImFkYiBzaGVsbCBzZXRwcm9wIGRlYnVnLnhyLmJsZW5kTW9kZSBPcGFxdWV8QWRkaXRpdmV8QWxwaGFCbGVuZCIpOwogICAgfQoKICAgIGJvb2wgVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKE9wdGlvbnMmIG9wdGlvbnMpIHsKICAgICAgICBjaGFyIHZhbHVlW1BST1BfVkFMVUVfTUFYXSA9IHt9OwogICAgICAgIGlmIChfX3N5c3RlbV9wcm9wZXJ0eV9nZXQoImRlYnVnLnhyLmdyYXBoaWNzUGx1Z2luIiwgdmFsdWUpICE9IDApIHsKICAgICAgICAgICAgb3B0aW9ucy5HcmFwaGljc1BsdWdpbiA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHBhcmFtZXRlcnMuCiAgICAgICAgaWYgKG9wdGlvbnMuR3JhcGhpY3NQbHVnaW4uZW1wdHkoKSkgewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6Oldhcm5pbmcsICJHcmFwaGljc1BsdWdpbiBEZWZhdWx0IFZ1bGthbiIpOwogICAgICAgICAgICBvcHRpb25zLkdyYXBoaWNzUGx1Z2luID0gIlZ1bGthbiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCn0gIC8vIG5hbWVzcGFjZQoKCnN0cnVjdCBBbmRyb2lkQXBwU3RhdGUgewogICAgQU5hdGl2ZVdpbmRvdyogTmF0aXZlV2luZG93ID0gbnVsbHB0cjsKICAgIGJvb2wgUmVzdW1lZCA9IGZhbHNlOwp9OwoKLyoqCiAqIFByb2Nlc3MgdGhlIG5leHQgbWFpbiBjb21tYW5kLgogKi8Kc3RhdGljIHZvaWQgYXBwX2hhbmRsZV9jbWQoc3RydWN0IGFuZHJvaWRfYXBwKiBhcHAsIGludDMyX3QgY21kKSB7CiAgICBBbmRyb2lkQXBwU3RhdGUqIGFwcFN0YXRlID0gKEFuZHJvaWRBcHBTdGF0ZSopYXBwLT51c2VyRGF0YTsKCiAgICBzd2l0Y2ggKGNtZCkgewogICAgICAgIC8vIFRoZXJlIGlzIG5vIEFQUF9DTURfQ1JFQVRFLiBUaGUgQU5hdGl2ZUFjdGl2aXR5IGNyZWF0ZXMgdGhlCiAgICAgICAgLy8gYXBwbGljYXRpb24gdGhyZWFkIGZyb20gb25DcmVhdGUoKS4gVGhlIGFwcGxpY2F0aW9uIHRocmVhZAogICAgICAgIC8vIHRoZW4gY2FsbHMgYW5kcm9pZF9tYWluKCkuCiAgICAgICAgY2FzZSBBUFBfQ01EX1NUQVJUOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1NUQVJUIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIm9uU3RhcnQoKSIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1JFU1VNRTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblJlc3VtZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1JFU1VNRSIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+UmVzdW1lZCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfUEFVU0U6IHsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAib25QYXVzZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1BBVVNFIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5SZXN1bWVkID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfU1RPUDogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblN0b3AoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9TVE9QIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfREVTVFJPWTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvbkRlc3Ryb3koKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9ERVNUUk9ZIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5OYXRpdmVXaW5kb3cgPSBOVUxMOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX0lOSVRfV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VDcmVhdGVkKCkiKTsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiICAgIEFQUF9DTURfSU5JVF9XSU5ET1ciKTsKICAgICAgICAgICAgYXBwU3RhdGUtPk5hdGl2ZVdpbmRvdyA9IGFwcC0+d2luZG93OwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1RFUk1fV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VEZXN0cm95ZWQoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9URVJNX1dJTkRPVyIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+TmF0aXZlV2luZG93ID0gTlVMTDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQp9CgovKioKICogVGhpcyBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBvZiBhIG5hdGl2ZSBhcHBsaWNhdGlvbiB0aGF0IGlzIHVzaW5nCiAqIGFuZHJvaWRfbmF0aXZlX2FwcF9nbHVlLiAgSXQgcnVucyBpbiBpdHMgb3duIHRocmVhZCwgd2l0aCBpdHMgb3duCiAqIGV2ZW50IGxvb3AgZm9yIHJlY2VpdmluZyBpbnB1dCBldmVudHMgYW5kIGRvaW5nIG90aGVyIHRoaW5ncy4KICovCnZvaWQgYW5kcm9pZF9tYWluKHN0cnVjdCBhbmRyb2lkX2FwcCogYXBwKSB7CiAgICB0cnkgewogICAgICAgIEpOSUVudiogRW52OwogICAgICAgIGFwcC0+YWN0aXZpdHktPnZtLT5BdHRhY2hDdXJyZW50VGhyZWFkKCZFbnYsIG51bGxwdHIpOwoKICAgICAgICBBbmRyb2lkQXBwU3RhdGUgYXBwU3RhdGUgPSB7fTsKCiAgICAgICAgYXBwLT51c2VyRGF0YSA9ICZhcHBTdGF0ZTsKICAgICAgICBhcHAtPm9uQXBwQ21kID0gYXBwX2hhbmRsZV9jbWQ7CgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxPcHRpb25zPiBvcHRpb25zID0gc3RkOjptYWtlX3NoYXJlZDxPcHRpb25zPigpOwogICAgICAgIGlmICghVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKCpvcHRpb25zKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8UGxhdGZvcm1EYXRhPiBkYXRhID0gc3RkOjptYWtlX3NoYXJlZDxQbGF0Zm9ybURhdGE+KCk7CiAgICAgICAgZGF0YS0+YXBwbGljYXRpb25WTSA9IGFwcC0+YWN0aXZpdHktPnZtOwogICAgICAgIGRhdGEtPmFwcGxpY2F0aW9uQWN0aXZpdHkgPSBhcHAtPmFjdGl2aXR5LT5jbGF6ejsKCiAgICAgICAgYm9vbCByZXF1ZXN0UmVzdGFydCA9IGZhbHNlOwogICAgICAgIGJvb2wgZXhpdFJlbmRlckxvb3AgPSBmYWxzZTsKCiAgICAgICAgLy9Jbml0aWFsaXplIE15QXNzZXRNYW5hZ2VyCiAgICAgICAgTXlBc3NldE1hbmFnZXI6Okluc3RhbmNlKCkuSW5pdGlhbGl6ZShhcHApCiAgICAgICAgCiAgICAgICAgLy8gQ3JlYXRlIHBsYXRmb3JtLXNwZWNpZmljIGltcGxlbWVudGF0aW9uLgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxJUGxhdGZvcm1QbHVnaW4+IHBsYXRmb3JtUGx1Z2luID0gQ3JlYXRlUGxhdGZvcm1QbHVnaW4ob3B0aW9ucywgZGF0YSk7CiAgICAgICAgLy8gQ3JlYXRlIGdyYXBoaWNzIEFQSSBpbXBsZW1lbnRhdGlvbi4KICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8SUdyYXBoaWNzUGx1Z2luPiBncmFwaGljc1BsdWdpbiA9IENyZWF0ZUdyYXBoaWNzUGx1Z2luKG9wdGlvbnMsIHBsYXRmb3JtUGx1Z2luKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgT3BlblhSIHByb2dyYW0uCiAgICAgICAgc3RkOjpzaGFyZWRfcHRyPElPcGVuWHJQcm9ncmFtPiBwcm9ncmFtID0gQ3JlYXRlT3BlblhyUHJvZ3JhbShvcHRpb25zLCBwbGF0Zm9ybVBsdWdpbiwgZ3JhcGhpY3NQbHVnaW4pOwoKICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBsb2FkZXIgZm9yIHRoaXMgcGxhdGZvcm0KICAgICAgICBQRk5feHJJbml0aWFsaXplTG9hZGVyS0hSIGluaXRpYWxpemVMb2FkZXIgPSBudWxscHRyOwogICAgICAgIGlmIChYUl9TVUNDRUVERUQoCiAgICAgICAgICAgICAgICB4ckdldEluc3RhbmNlUHJvY0FkZHIoWFJfTlVMTF9IQU5ETEUsICJ4ckluaXRpYWxpemVMb2FkZXJLSFIiLCAoUEZOX3hyVm9pZEZ1bmN0aW9uKikoJmluaXRpYWxpemVMb2FkZXIpKSkpIHsKICAgICAgICAgICAgWHJMb2FkZXJJbml0SW5mb0FuZHJvaWRLSFIgbG9hZGVySW5pdEluZm9BbmRyb2lkOwogICAgICAgICAgICBtZW1zZXQoJmxvYWRlckluaXRJbmZvQW5kcm9pZCwgMCwgc2l6ZW9mKGxvYWRlckluaXRJbmZvQW5kcm9pZCkpOwogICAgICAgICAgICBsb2FkZXJJbml0SW5mb0FuZHJvaWQudHlwZSA9IFhSX1RZUEVfTE9BREVSX0lOSVRfSU5GT19BTkRST0lEX0tIUjsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLm5leHQgPSBOVUxMOwogICAgICAgICAgICBsb2FkZXJJbml0SW5mb0FuZHJvaWQuYXBwbGljYXRpb25WTSA9IGFwcC0+YWN0aXZpdHktPnZtOwogICAgICAgICAgICBsb2FkZXJJbml0SW5mb0FuZHJvaWQuYXBwbGljYXRpb25Db250ZXh0ID0gYXBwLT5hY3Rpdml0eS0+Y2xheno7CiAgICAgICAgICAgIGluaXRpYWxpemVMb2FkZXIoKGNvbnN0IFhyTG9hZGVySW5pdEluZm9CYXNlSGVhZGVyS0hSKikmbG9hZGVySW5pdEluZm9BbmRyb2lkKTsKICAgICAgICB9CgogICAgICAgIHByb2dyYW0tPkNyZWF0ZUluc3RhbmNlKCk7CiAgICAgICAgcHJvZ3JhbS0+SW5pdGlhbGl6ZVN5c3RlbSgpOwogICAgICAgIHByb2dyYW0tPkluaXRpYWxpemVTZXNzaW9uKCk7CiAgICAgICAgcHJvZ3JhbS0+Q3JlYXRlU3dhcGNoYWlucygpOwoKICAgICAgICB3aGlsZSAoYXBwLT5kZXN0cm95UmVxdWVzdGVkID09IDApIHsKICAgICAgICAgICAgLy8gUmVhZCBhbGwgcGVuZGluZyBldmVudHMuCiAgICAgICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgICAgIGludCBldmVudHM7CiAgICAgICAgICAgICAgICBzdHJ1Y3QgYW5kcm9pZF9wb2xsX3NvdXJjZSogc291cmNlOwogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgaXMgemVybywgcmV0dXJucyBpbW1lZGlhdGVseSB3aXRob3V0IGJsb2NraW5nLgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgaXMgbmVnYXRpdmUsIHdhaXRzIGluZGVmaW5pdGVseSB1bnRpbCBhbiBldmVudCBhcHBlYXJzLgogICAgICAgICAgICAgICAgY29uc3QgaW50IHRpbWVvdXRNaWxsaXNlY29uZHMgPQogICAgICAgICAgICAgICAgICAgICghYXBwU3RhdGUuUmVzdW1lZCAmJiAhcHJvZ3JhbS0+SXNTZXNzaW9uUnVubmluZygpICYmIGFwcC0+ZGVzdHJveVJlcXVlc3RlZCA9PSAwKSA/IC0xIDogMDsKICAgICAgICAgICAgICAgIGlmIChBTG9vcGVyX3BvbGxBbGwodGltZW91dE1pbGxpc2Vjb25kcywgbnVsbHB0ciwgJmV2ZW50cywgKHZvaWQqKikmc291cmNlKSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoaXMgZXZlbnQuCiAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2UtPnByb2Nlc3MoYXBwLCBzb3VyY2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwcm9ncmFtLT5Qb2xsRXZlbnRzKCZleGl0UmVuZGVyTG9vcCwgJnJlcXVlc3RSZXN0YXJ0KTsKCiAgICAgICAgICAgIGlmIChleGl0UmVuZGVyTG9vcCAmJiAhcmVxdWVzdFJlc3RhcnQpIHsKICAgICAgICAgICAgICAgIEFOYXRpdmVBY3Rpdml0eV9maW5pc2goYXBwLT5hY3Rpdml0eSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghcHJvZ3JhbS0+SXNTZXNzaW9uUnVubmluZygpKSB7CiAgICAgICAgICAgICAgICAvLyBUaHJvdHRsZSBsb29wIHNpbmNlIHhyV2FpdEZyYW1lIHdvbid0IGJlIGNhbGxlZC4KICAgICAgICAgICAgICAgIHN0ZDo6dGhpc190aHJlYWQ6OnNsZWVwX2ZvcihzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDI1MCkpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHByb2dyYW0tPlBvbGxBY3Rpb25zKCk7CiAgICAgICAgICAgIHByb2dyYW0tPlJlbmRlckZyYW1lKCk7CiAgICAgICAgfQogICAgICAgIGFwcC0+YWN0aXZpdHktPnZtLT5EZXRhY2hDdXJyZW50VGhyZWFkKCk7CiAgICB9CiAgICBjYXRjaCAoY29uc3Qgc3RkOjpleGNlcHRpb24gJmV4KQogICAgewogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsIGV4LndoYXQoKSk7CiAgICB9CiAgICBjYXRjaCAoLi4uKQogICAgewogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsICJVbmtub3duIEVycm9yIik7CiAgICB9Cn0KAAAAAAAAAADxGwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeRAAAAAAAAB6EAAAAAAAAAAAAAAAAPC/"
				],
				[
					200,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADxGwAALy8gQ29weXJpZ2h0IChjKSAyMDE3LTIwMjIsIFRoZSBLaHJvbm9zIEdyb3VwIEluYy4KLy8KLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKCiNpbmNsdWRlICJwY2guaCIKI2luY2x1ZGUgImNvbW1vbi5oIgojaW5jbHVkZSAib3B0aW9ucy5oIgojaW5jbHVkZSAicGxhdGZvcm1kYXRhLmgiCiNpbmNsdWRlICJwbGF0Zm9ybXBsdWdpbi5oIgojaW5jbHVkZSAiZ3JhcGhpY3NwbHVnaW4uaCIKI2luY2x1ZGUgIm9wZW54cl9wcm9ncmFtLmgiCiNpbmNsdWRlICJteV9hc3NldF9tYW5hZ2VyLmgiCgoKCm5hbWVzcGFjZSB7CgoKICAgIHZvaWQgU2hvd0hlbHAoKSB7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZ3JhcGhpY3NQbHVnaW4gVnVsa2FuIik7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZm9ybUZhY3RvciBIbWR8SGFuZGhlbGQiKTsKICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJhZGIgc2hlbGwgc2V0cHJvcCBkZWJ1Zy54ci52aWV3Q29uZmlndXJhdGlvbiBTdGVyZW98TW9ubyIpOwogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgImFkYiBzaGVsbCBzZXRwcm9wIGRlYnVnLnhyLmJsZW5kTW9kZSBPcGFxdWV8QWRkaXRpdmV8QWxwaGFCbGVuZCIpOwogICAgfQoKICAgIGJvb2wgVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKE9wdGlvbnMmIG9wdGlvbnMpIHsKICAgICAgICBjaGFyIHZhbHVlW1BST1BfVkFMVUVfTUFYXSA9IHt9OwogICAgICAgIGlmIChfX3N5c3RlbV9wcm9wZXJ0eV9nZXQoImRlYnVnLnhyLmdyYXBoaWNzUGx1Z2luIiwgdmFsdWUpICE9IDApIHsKICAgICAgICAgICAgb3B0aW9ucy5HcmFwaGljc1BsdWdpbiA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHBhcmFtZXRlcnMuCiAgICAgICAgaWYgKG9wdGlvbnMuR3JhcGhpY3NQbHVnaW4uZW1wdHkoKSkgewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6Oldhcm5pbmcsICJHcmFwaGljc1BsdWdpbiBEZWZhdWx0IFZ1bGthbiIpOwogICAgICAgICAgICBvcHRpb25zLkdyYXBoaWNzUGx1Z2luID0gIlZ1bGthbiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCn0gIC8vIG5hbWVzcGFjZQoKCnN0cnVjdCBBbmRyb2lkQXBwU3RhdGUgewogICAgQU5hdGl2ZVdpbmRvdyogTmF0aXZlV2luZG93ID0gbnVsbHB0cjsKICAgIGJvb2wgUmVzdW1lZCA9IGZhbHNlOwp9OwoKLyoqCiAqIFByb2Nlc3MgdGhlIG5leHQgbWFpbiBjb21tYW5kLgogKi8Kc3RhdGljIHZvaWQgYXBwX2hhbmRsZV9jbWQoc3RydWN0IGFuZHJvaWRfYXBwKiBhcHAsIGludDMyX3QgY21kKSB7CiAgICBBbmRyb2lkQXBwU3RhdGUqIGFwcFN0YXRlID0gKEFuZHJvaWRBcHBTdGF0ZSopYXBwLT51c2VyRGF0YTsKCiAgICBzd2l0Y2ggKGNtZCkgewogICAgICAgIC8vIFRoZXJlIGlzIG5vIEFQUF9DTURfQ1JFQVRFLiBUaGUgQU5hdGl2ZUFjdGl2aXR5IGNyZWF0ZXMgdGhlCiAgICAgICAgLy8gYXBwbGljYXRpb24gdGhyZWFkIGZyb20gb25DcmVhdGUoKS4gVGhlIGFwcGxpY2F0aW9uIHRocmVhZAogICAgICAgIC8vIHRoZW4gY2FsbHMgYW5kcm9pZF9tYWluKCkuCiAgICAgICAgY2FzZSBBUFBfQ01EX1NUQVJUOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1NUQVJUIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIm9uU3RhcnQoKSIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1JFU1VNRTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblJlc3VtZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1JFU1VNRSIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+UmVzdW1lZCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfUEFVU0U6IHsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAib25QYXVzZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1BBVVNFIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5SZXN1bWVkID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfU1RPUDogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblN0b3AoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9TVE9QIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfREVTVFJPWTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvbkRlc3Ryb3koKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9ERVNUUk9ZIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5OYXRpdmVXaW5kb3cgPSBOVUxMOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX0lOSVRfV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VDcmVhdGVkKCkiKTsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiICAgIEFQUF9DTURfSU5JVF9XSU5ET1ciKTsKICAgICAgICAgICAgYXBwU3RhdGUtPk5hdGl2ZVdpbmRvdyA9IGFwcC0+d2luZG93OwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1RFUk1fV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VEZXN0cm95ZWQoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9URVJNX1dJTkRPVyIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+TmF0aXZlV2luZG93ID0gTlVMTDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQp9CgovKioKICogVGhpcyBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBvZiBhIG5hdGl2ZSBhcHBsaWNhdGlvbiB0aGF0IGlzIHVzaW5nCiAqIGFuZHJvaWRfbmF0aXZlX2FwcF9nbHVlLiAgSXQgcnVucyBpbiBpdHMgb3duIHRocmVhZCwgd2l0aCBpdHMgb3duCiAqIGV2ZW50IGxvb3AgZm9yIHJlY2VpdmluZyBpbnB1dCBldmVudHMgYW5kIGRvaW5nIG90aGVyIHRoaW5ncy4KICovCnZvaWQgYW5kcm9pZF9tYWluKHN0cnVjdCBhbmRyb2lkX2FwcCogYXBwKSB7CiAgICB0cnkgewogICAgICAgIEpOSUVudiogRW52OwogICAgICAgIGFwcC0+YWN0aXZpdHktPnZtLT5BdHRhY2hDdXJyZW50VGhyZWFkKCZFbnYsIG51bGxwdHIpOwoKICAgICAgICBBbmRyb2lkQXBwU3RhdGUgYXBwU3RhdGUgPSB7fTsKCiAgICAgICAgYXBwLT51c2VyRGF0YSA9ICZhcHBTdGF0ZTsKICAgICAgICBhcHAtPm9uQXBwQ21kID0gYXBwX2hhbmRsZV9jbWQ7CgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxPcHRpb25zPiBvcHRpb25zID0gc3RkOjptYWtlX3NoYXJlZDxPcHRpb25zPigpOwogICAgICAgIGlmICghVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKCpvcHRpb25zKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8UGxhdGZvcm1EYXRhPiBkYXRhID0gc3RkOjptYWtlX3NoYXJlZDxQbGF0Zm9ybURhdGE+KCk7CiAgICAgICAgZGF0YS0+YXBwbGljYXRpb25WTSA9IGFwcC0+YWN0aXZpdHktPnZtOwogICAgICAgIGRhdGEtPmFwcGxpY2F0aW9uQWN0aXZpdHkgPSBhcHAtPmFjdGl2aXR5LT5jbGF6ejsKCiAgICAgICAgYm9vbCByZXF1ZXN0UmVzdGFydCA9IGZhbHNlOwogICAgICAgIGJvb2wgZXhpdFJlbmRlckxvb3AgPSBmYWxzZTsKCiAgICAgICAgLy9Jbml0aWFsaXplIE15QXNzZXRNYW5hZ2VyCiAgICAgICAgTXlBc3NldE1hbmFnZXI6Okluc3RhbmNlKCkuSW5pdGlhbGl6ZShhcHApOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbi4KICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8SVBsYXRmb3JtUGx1Z2luPiBwbGF0Zm9ybVBsdWdpbiA9IENyZWF0ZVBsYXRmb3JtUGx1Z2luKG9wdGlvbnMsIGRhdGEpOwogICAgICAgIC8vIENyZWF0ZSBncmFwaGljcyBBUEkgaW1wbGVtZW50YXRpb24uCiAgICAgICAgc3RkOjpzaGFyZWRfcHRyPElHcmFwaGljc1BsdWdpbj4gZ3JhcGhpY3NQbHVnaW4gPSBDcmVhdGVHcmFwaGljc1BsdWdpbihvcHRpb25zLCBwbGF0Zm9ybVBsdWdpbik7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIE9wZW5YUiBwcm9ncmFtLgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxJT3BlblhyUHJvZ3JhbT4gcHJvZ3JhbSA9IENyZWF0ZU9wZW5YclByb2dyYW0ob3B0aW9ucywgcGxhdGZvcm1QbHVnaW4sIGdyYXBoaWNzUGx1Z2luKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbG9hZGVyIGZvciB0aGlzIHBsYXRmb3JtCiAgICAgICAgUEZOX3hySW5pdGlhbGl6ZUxvYWRlcktIUiBpbml0aWFsaXplTG9hZGVyID0gbnVsbHB0cjsKICAgICAgICBpZiAoWFJfU1VDQ0VFREVEKAogICAgICAgICAgICAgICAgeHJHZXRJbnN0YW5jZVByb2NBZGRyKFhSX05VTExfSEFORExFLCAieHJJbml0aWFsaXplTG9hZGVyS0hSIiwgKFBGTl94clZvaWRGdW5jdGlvbiopKCZpbml0aWFsaXplTG9hZGVyKSkpKSB7CiAgICAgICAgICAgIFhyTG9hZGVySW5pdEluZm9BbmRyb2lkS0hSIGxvYWRlckluaXRJbmZvQW5kcm9pZDsKICAgICAgICAgICAgbWVtc2V0KCZsb2FkZXJJbml0SW5mb0FuZHJvaWQsIDAsIHNpemVvZihsb2FkZXJJbml0SW5mb0FuZHJvaWQpKTsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLnR5cGUgPSBYUl9UWVBFX0xPQURFUl9JTklUX0lORk9fQU5EUk9JRF9LSFI7CiAgICAgICAgICAgIGxvYWRlckluaXRJbmZvQW5kcm9pZC5uZXh0ID0gTlVMTDsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLmFwcGxpY2F0aW9uVk0gPSBhcHAtPmFjdGl2aXR5LT52bTsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLmFwcGxpY2F0aW9uQ29udGV4dCA9IGFwcC0+YWN0aXZpdHktPmNsYXp6OwogICAgICAgICAgICBpbml0aWFsaXplTG9hZGVyKChjb25zdCBYckxvYWRlckluaXRJbmZvQmFzZUhlYWRlcktIUiopJmxvYWRlckluaXRJbmZvQW5kcm9pZCk7CiAgICAgICAgfQoKICAgICAgICBwcm9ncmFtLT5DcmVhdGVJbnN0YW5jZSgpOwogICAgICAgIHByb2dyYW0tPkluaXRpYWxpemVTeXN0ZW0oKTsKICAgICAgICBwcm9ncmFtLT5Jbml0aWFsaXplU2Vzc2lvbigpOwogICAgICAgIHByb2dyYW0tPkNyZWF0ZVN3YXBjaGFpbnMoKTsKCiAgICAgICAgd2hpbGUgKGFwcC0+ZGVzdHJveVJlcXVlc3RlZCA9PSAwKSB7CiAgICAgICAgICAgIC8vIFJlYWQgYWxsIHBlbmRpbmcgZXZlbnRzLgogICAgICAgICAgICBmb3IgKDs7KSB7CiAgICAgICAgICAgICAgICBpbnQgZXZlbnRzOwogICAgICAgICAgICAgICAgc3RydWN0IGFuZHJvaWRfcG9sbF9zb3VyY2UqIHNvdXJjZTsKICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0aW1lb3V0IGlzIHplcm8sIHJldHVybnMgaW1tZWRpYXRlbHkgd2l0aG91dCBibG9ja2luZy4KICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0aW1lb3V0IGlzIG5lZ2F0aXZlLCB3YWl0cyBpbmRlZmluaXRlbHkgdW50aWwgYW4gZXZlbnQgYXBwZWFycy4KICAgICAgICAgICAgICAgIGNvbnN0IGludCB0aW1lb3V0TWlsbGlzZWNvbmRzID0KICAgICAgICAgICAgICAgICAgICAoIWFwcFN0YXRlLlJlc3VtZWQgJiYgIXByb2dyYW0tPklzU2Vzc2lvblJ1bm5pbmcoKSAmJiBhcHAtPmRlc3Ryb3lSZXF1ZXN0ZWQgPT0gMCkgPyAtMSA6IDA7CiAgICAgICAgICAgICAgICBpZiAoQUxvb3Blcl9wb2xsQWxsKHRpbWVvdXRNaWxsaXNlY29uZHMsIG51bGxwdHIsICZldmVudHMsICh2b2lkKiopJnNvdXJjZSkgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGlzIGV2ZW50LgogICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAhPSBudWxscHRyKSB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlLT5wcm9jZXNzKGFwcCwgc291cmNlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHJvZ3JhbS0+UG9sbEV2ZW50cygmZXhpdFJlbmRlckxvb3AsICZyZXF1ZXN0UmVzdGFydCk7CgogICAgICAgICAgICBpZiAoZXhpdFJlbmRlckxvb3AgJiYgIXJlcXVlc3RSZXN0YXJ0KSB7CiAgICAgICAgICAgICAgICBBTmF0aXZlQWN0aXZpdHlfZmluaXNoKGFwcC0+YWN0aXZpdHkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXByb2dyYW0tPklzU2Vzc2lvblJ1bm5pbmcoKSkgewogICAgICAgICAgICAgICAgLy8gVGhyb3R0bGUgbG9vcCBzaW5jZSB4cldhaXRGcmFtZSB3b24ndCBiZSBjYWxsZWQuCiAgICAgICAgICAgICAgICBzdGQ6OnRoaXNfdGhyZWFkOjpzbGVlcF9mb3Ioc3RkOjpjaHJvbm86Om1pbGxpc2Vjb25kcygyNTApKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwcm9ncmFtLT5Qb2xsQWN0aW9ucygpOwogICAgICAgICAgICBwcm9ncmFtLT5SZW5kZXJGcmFtZSgpOwogICAgICAgIH0KICAgICAgICBhcHAtPmFjdGl2aXR5LT52bS0+RGV0YWNoQ3VycmVudFRocmVhZCgpOwogICAgfQogICAgY2F0Y2ggKGNvbnN0IHN0ZDo6ZXhjZXB0aW9uICZleCkKICAgIHsKICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkVycm9yLCBleC53aGF0KCkpOwogICAgfQogICAgY2F0Y2ggKC4uLikKICAgIHsKICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkVycm9yLCAiVW5rbm93biBFcnJvciIpOwogICAgfQp9CgAAAAAAAAAApxwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbgAAAAAAAABeAAAAAAAAAAAAAAAAAPC/"
				],
				[
					201,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACnHAAALy8gQ29weXJpZ2h0IChjKSAyMDE3LTIwMjIsIFRoZSBLaHJvbm9zIEdyb3VwIEluYy4KLy8KLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAKCiNpbmNsdWRlICJwY2guaCIKI2luY2x1ZGUgImNvbW1vbi5oIgojaW5jbHVkZSAib3B0aW9ucy5oIgojaW5jbHVkZSAicGxhdGZvcm1kYXRhLmgiCiNpbmNsdWRlICJwbGF0Zm9ybXBsdWdpbi5oIgojaW5jbHVkZSAiZ3JhcGhpY3NwbHVnaW4uaCIKI2luY2x1ZGUgIm9wZW54cl9wcm9ncmFtLmgiCiNpbmNsdWRlICJteV9hc3NldF9tYW5hZ2VyLmgiCgoKCm5hbWVzcGFjZSB7CgoKICAgIHZvaWQgU2hvd0hlbHAoKSB7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZ3JhcGhpY3NQbHVnaW4gVnVsa2FuIik7CiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiYWRiIHNoZWxsIHNldHByb3AgZGVidWcueHIuZm9ybUZhY3RvciBIbWR8SGFuZGhlbGQiKTsKICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJhZGIgc2hlbGwgc2V0cHJvcCBkZWJ1Zy54ci52aWV3Q29uZmlndXJhdGlvbiBTdGVyZW98TW9ubyIpOwogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgImFkYiBzaGVsbCBzZXRwcm9wIGRlYnVnLnhyLmJsZW5kTW9kZSBPcGFxdWV8QWRkaXRpdmV8QWxwaGFCbGVuZCIpOwogICAgfQoKICAgIGJvb2wgVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKE9wdGlvbnMmIG9wdGlvbnMpIHsKICAgICAgICBjaGFyIHZhbHVlW1BST1BfVkFMVUVfTUFYXSA9IHt9OwogICAgICAgIGlmIChfX3N5c3RlbV9wcm9wZXJ0eV9nZXQoImRlYnVnLnhyLmdyYXBoaWNzUGx1Z2luIiwgdmFsdWUpICE9IDApIHsKICAgICAgICAgICAgb3B0aW9ucy5HcmFwaGljc1BsdWdpbiA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHBhcmFtZXRlcnMuCiAgICAgICAgaWYgKG9wdGlvbnMuR3JhcGhpY3NQbHVnaW4uZW1wdHkoKSkgewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6Oldhcm5pbmcsICJHcmFwaGljc1BsdWdpbiBEZWZhdWx0IFZ1bGthbiIpOwogICAgICAgICAgICBvcHRpb25zLkdyYXBoaWNzUGx1Z2luID0gIlZ1bGthbiI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKCn0gIC8vIG5hbWVzcGFjZQoKCnN0cnVjdCBBbmRyb2lkQXBwU3RhdGUgewogICAgQU5hdGl2ZVdpbmRvdyogTmF0aXZlV2luZG93ID0gbnVsbHB0cjsKICAgIGJvb2wgUmVzdW1lZCA9IGZhbHNlOwp9OwoKLyoqCiAqIFByb2Nlc3MgdGhlIG5leHQgbWFpbiBjb21tYW5kLgogKi8Kc3RhdGljIHZvaWQgYXBwX2hhbmRsZV9jbWQoc3RydWN0IGFuZHJvaWRfYXBwKiBhcHAsIGludDMyX3QgY21kKSB7CiAgICBBbmRyb2lkQXBwU3RhdGUqIGFwcFN0YXRlID0gKEFuZHJvaWRBcHBTdGF0ZSopYXBwLT51c2VyRGF0YTsKCiAgICBzd2l0Y2ggKGNtZCkgewogICAgICAgIC8vIFRoZXJlIGlzIG5vIEFQUF9DTURfQ1JFQVRFLiBUaGUgQU5hdGl2ZUFjdGl2aXR5IGNyZWF0ZXMgdGhlCiAgICAgICAgLy8gYXBwbGljYXRpb24gdGhyZWFkIGZyb20gb25DcmVhdGUoKS4gVGhlIGFwcGxpY2F0aW9uIHRocmVhZAogICAgICAgIC8vIHRoZW4gY2FsbHMgYW5kcm9pZF9tYWluKCkuCiAgICAgICAgY2FzZSBBUFBfQ01EX1NUQVJUOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1NUQVJUIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIm9uU3RhcnQoKSIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1JFU1VNRTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblJlc3VtZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1JFU1VNRSIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+UmVzdW1lZCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfUEFVU0U6IHsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAib25QYXVzZSgpIik7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgIiAgICBBUFBfQ01EX1BBVVNFIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5SZXN1bWVkID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfU1RPUDogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvblN0b3AoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9TVE9QIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIEFQUF9DTURfREVTVFJPWTogewogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICJvbkRlc3Ryb3koKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9ERVNUUk9ZIik7CiAgICAgICAgICAgIGFwcFN0YXRlLT5OYXRpdmVXaW5kb3cgPSBOVUxMOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX0lOSVRfV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VDcmVhdGVkKCkiKTsKICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiICAgIEFQUF9DTURfSU5JVF9XSU5ET1ciKTsKICAgICAgICAgICAgYXBwU3RhdGUtPk5hdGl2ZVdpbmRvdyA9IGFwcC0+d2luZG93OwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBBUFBfQ01EX1RFUk1fV0lORE9XOiB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgInN1cmZhY2VEZXN0cm95ZWQoKSIpOwogICAgICAgICAgICBMb2c6OldyaXRlKExvZzo6TGV2ZWw6OkluZm8sICIgICAgQVBQX0NNRF9URVJNX1dJTkRPVyIpOwogICAgICAgICAgICBhcHBTdGF0ZS0+TmF0aXZlV2luZG93ID0gTlVMTDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQp9CgovKioKICogVGhpcyBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBvZiBhIG5hdGl2ZSBhcHBsaWNhdGlvbiB0aGF0IGlzIHVzaW5nCiAqIGFuZHJvaWRfbmF0aXZlX2FwcF9nbHVlLiAgSXQgcnVucyBpbiBpdHMgb3duIHRocmVhZCwgd2l0aCBpdHMgb3duCiAqIGV2ZW50IGxvb3AgZm9yIHJlY2VpdmluZyBpbnB1dCBldmVudHMgYW5kIGRvaW5nIG90aGVyIHRoaW5ncy4KICovCnZvaWQgYW5kcm9pZF9tYWluKHN0cnVjdCBhbmRyb2lkX2FwcCogYXBwKSB7CiAgICB0cnkgewogICAgICAgIEpOSUVudiogRW52OwogICAgICAgIGFwcC0+YWN0aXZpdHktPnZtLT5BdHRhY2hDdXJyZW50VGhyZWFkKCZFbnYsIG51bGxwdHIpOwoKICAgICAgICBBbmRyb2lkQXBwU3RhdGUgYXBwU3RhdGUgPSB7fTsKCiAgICAgICAgYXBwLT51c2VyRGF0YSA9ICZhcHBTdGF0ZTsKICAgICAgICBhcHAtPm9uQXBwQ21kID0gYXBwX2hhbmRsZV9jbWQ7CgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxPcHRpb25zPiBvcHRpb25zID0gc3RkOjptYWtlX3NoYXJlZDxPcHRpb25zPigpOwogICAgICAgIGlmICghVXBkYXRlT3B0aW9uc0Zyb21TeXN0ZW1Qcm9wZXJ0aWVzKCpvcHRpb25zKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8UGxhdGZvcm1EYXRhPiBkYXRhID0gc3RkOjptYWtlX3NoYXJlZDxQbGF0Zm9ybURhdGE+KCk7CiAgICAgICAgZGF0YS0+YXBwbGljYXRpb25WTSA9IGFwcC0+YWN0aXZpdHktPnZtOwogICAgICAgIGRhdGEtPmFwcGxpY2F0aW9uQWN0aXZpdHkgPSBhcHAtPmFjdGl2aXR5LT5jbGF6ejsKCiAgICAgICAgYm9vbCByZXF1ZXN0UmVzdGFydCA9IGZhbHNlOwogICAgICAgIGJvb2wgZXhpdFJlbmRlckxvb3AgPSBmYWxzZTsKCiAgICAgICAgLy9Jbml0aWFsaXplIE15QXNzZXRNYW5hZ2VyCiAgICAgICAgTXlBc3NldE1hbmFnZXI6Okluc3RhbmNlKCkuSW5pdGlhbGl6ZShhcHApOwogICAgICAgIAogICAgICAgIC8vIENyZWF0ZSBwbGF0Zm9ybS1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbi4KICAgICAgICBzdGQ6OnNoYXJlZF9wdHI8SVBsYXRmb3JtUGx1Z2luPiBwbGF0Zm9ybVBsdWdpbiA9IENyZWF0ZVBsYXRmb3JtUGx1Z2luKG9wdGlvbnMsIGRhdGEpOwogICAgICAgIC8vIENyZWF0ZSBncmFwaGljcyBBUEkgaW1wbGVtZW50YXRpb24uCiAgICAgICAgc3RkOjpzaGFyZWRfcHRyPElHcmFwaGljc1BsdWdpbj4gZ3JhcGhpY3NQbHVnaW4gPSBDcmVhdGVHcmFwaGljc1BsdWdpbihvcHRpb25zLCBwbGF0Zm9ybVBsdWdpbik7CgogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIE9wZW5YUiBwcm9ncmFtLgogICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxJT3BlblhyUHJvZ3JhbT4gcHJvZ3JhbSA9IENyZWF0ZU9wZW5YclByb2dyYW0ob3B0aW9ucywgcGxhdGZvcm1QbHVnaW4sIGdyYXBoaWNzUGx1Z2luKTsKCiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbG9hZGVyIGZvciB0aGlzIHBsYXRmb3JtCiAgICAgICAgUEZOX3hySW5pdGlhbGl6ZUxvYWRlcktIUiBpbml0aWFsaXplTG9hZGVyID0gbnVsbHB0cjsKICAgICAgICBpZiAoWFJfU1VDQ0VFREVEKAogICAgICAgICAgICAgICAgeHJHZXRJbnN0YW5jZVByb2NBZGRyKFhSX05VTExfSEFORExFLCAieHJJbml0aWFsaXplTG9hZGVyS0hSIiwgKFBGTl94clZvaWRGdW5jdGlvbiopKCZpbml0aWFsaXplTG9hZGVyKSkpKSB7CiAgICAgICAgICAgIFhyTG9hZGVySW5pdEluZm9BbmRyb2lkS0hSIGxvYWRlckluaXRJbmZvQW5kcm9pZDsKICAgICAgICAgICAgbWVtc2V0KCZsb2FkZXJJbml0SW5mb0FuZHJvaWQsIDAsIHNpemVvZihsb2FkZXJJbml0SW5mb0FuZHJvaWQpKTsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLnR5cGUgPSBYUl9UWVBFX0xPQURFUl9JTklUX0lORk9fQU5EUk9JRF9LSFI7CiAgICAgICAgICAgIGxvYWRlckluaXRJbmZvQW5kcm9pZC5uZXh0ID0gTlVMTDsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLmFwcGxpY2F0aW9uVk0gPSBhcHAtPmFjdGl2aXR5LT52bTsKICAgICAgICAgICAgbG9hZGVySW5pdEluZm9BbmRyb2lkLmFwcGxpY2F0aW9uQ29udGV4dCA9IGFwcC0+YWN0aXZpdHktPmNsYXp6OwogICAgICAgICAgICBpbml0aWFsaXplTG9hZGVyKChjb25zdCBYckxvYWRlckluaXRJbmZvQmFzZUhlYWRlcktIUiopJmxvYWRlckluaXRJbmZvQW5kcm9pZCk7CiAgICAgICAgfQoKICAgICAgICBwcm9ncmFtLT5DcmVhdGVJbnN0YW5jZSgpOwogICAgICAgIHByb2dyYW0tPkluaXRpYWxpemVTeXN0ZW0oKTsKICAgICAgICBBc3NldERhdGEgYXNzZXREYXRhID0gTXlBc3NldE1hbmFnZXI6Okluc3RhbmNlKCkuTG9hZEFzc2V0KCJsZWZ0X2FkanVzdGVkLnBuZyIpOwogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6SW5mbywgRm10KCJMb2FkZWQgbGVmdF9hZGp1c3RlZC5wbmcgOiVkIiwgYXNzZXREYXRhLmxlbmd0aCkpOwogICAgICAgIHByb2dyYW0tPkluaXRpYWxpemVTZXNzaW9uKCk7CiAgICAgICAgcHJvZ3JhbS0+Q3JlYXRlU3dhcGNoYWlucygpOwoKICAgICAgICB3aGlsZSAoYXBwLT5kZXN0cm95UmVxdWVzdGVkID09IDApIHsKICAgICAgICAgICAgLy8gUmVhZCBhbGwgcGVuZGluZyBldmVudHMuCiAgICAgICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgICAgIGludCBldmVudHM7CiAgICAgICAgICAgICAgICBzdHJ1Y3QgYW5kcm9pZF9wb2xsX3NvdXJjZSogc291cmNlOwogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgaXMgemVybywgcmV0dXJucyBpbW1lZGlhdGVseSB3aXRob3V0IGJsb2NraW5nLgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgaXMgbmVnYXRpdmUsIHdhaXRzIGluZGVmaW5pdGVseSB1bnRpbCBhbiBldmVudCBhcHBlYXJzLgogICAgICAgICAgICAgICAgY29uc3QgaW50IHRpbWVvdXRNaWxsaXNlY29uZHMgPQogICAgICAgICAgICAgICAgICAgICghYXBwU3RhdGUuUmVzdW1lZCAmJiAhcHJvZ3JhbS0+SXNTZXNzaW9uUnVubmluZygpICYmIGFwcC0+ZGVzdHJveVJlcXVlc3RlZCA9PSAwKSA/IC0xIDogMDsKICAgICAgICAgICAgICAgIGlmIChBTG9vcGVyX3BvbGxBbGwodGltZW91dE1pbGxpc2Vjb25kcywgbnVsbHB0ciwgJmV2ZW50cywgKHZvaWQqKikmc291cmNlKSA8IDApIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoaXMgZXZlbnQuCiAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2UtPnByb2Nlc3MoYXBwLCBzb3VyY2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwcm9ncmFtLT5Qb2xsRXZlbnRzKCZleGl0UmVuZGVyTG9vcCwgJnJlcXVlc3RSZXN0YXJ0KTsKCiAgICAgICAgICAgIGlmIChleGl0UmVuZGVyTG9vcCAmJiAhcmVxdWVzdFJlc3RhcnQpIHsKICAgICAgICAgICAgICAgIEFOYXRpdmVBY3Rpdml0eV9maW5pc2goYXBwLT5hY3Rpdml0eSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghcHJvZ3JhbS0+SXNTZXNzaW9uUnVubmluZygpKSB7CiAgICAgICAgICAgICAgICAvLyBUaHJvdHRsZSBsb29wIHNpbmNlIHhyV2FpdEZyYW1lIHdvbid0IGJlIGNhbGxlZC4KICAgICAgICAgICAgICAgIHN0ZDo6dGhpc190aHJlYWQ6OnNsZWVwX2ZvcihzdGQ6OmNocm9ubzo6bWlsbGlzZWNvbmRzKDI1MCkpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHByb2dyYW0tPlBvbGxBY3Rpb25zKCk7CiAgICAgICAgICAgIHByb2dyYW0tPlJlbmRlckZyYW1lKCk7CiAgICAgICAgfQogICAgICAgIGFwcC0+YWN0aXZpdHktPnZtLT5EZXRhY2hDdXJyZW50VGhyZWFkKCk7CiAgICB9CiAgICBjYXRjaCAoY29uc3Qgc3RkOjpleGNlcHRpb24gJmV4KQogICAgewogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsIGV4LndoYXQoKSk7CiAgICB9CiAgICBjYXRjaCAoLi4uKQogICAgewogICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsICJVbmtub3duIEVycm9yIik7CiAgICB9Cn0KAAAAAAAAAADxGwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbgAAAAAAAABeAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "CMakeLists.txt",
			"settings":
			{
				"buffer_size": 2096,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					40,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAvCAAAIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB1c2luZyBDTWFrZSB3aXRoIEFuZHJvaWQgU3R1ZGlvLCByZWFkIHRoZQojIGRvY3VtZW50YXRpb246IGh0dHBzOi8vZC5hbmRyb2lkLmNvbS9zdHVkaW8vcHJvamVjdHMvYWRkLW5hdGl2ZS1jb2RlLmh0bWwKCiMgU2V0cyB0aGUgbWluaW11bSB2ZXJzaW9uIG9mIENNYWtlIHJlcXVpcmVkIHRvIGJ1aWxkIHRoZSBuYXRpdmUgbGlicmFyeS4KCmNtYWtlX21pbmltdW1fcmVxdWlyZWQoVkVSU0lPTiAzLjQuMSkKCiMgYnVpbGQgbmF0aXZlX2FwcF9nbHVlIGFzIGEgc3RhdGljIGxpYgpzZXQoQVBQX0dMVUVfRElSICR7QU5EUk9JRF9OREt9L3NvdXJjZXMvYW5kcm9pZC9uYXRpdmVfYXBwX2dsdWUpCmluY2x1ZGVfZGlyZWN0b3JpZXMoJHtBUFBfR0xVRV9ESVJ9KQphZGRfbGlicmFyeSggYXBwLWdsdWUgU1RBVElDICR7QVBQX0dMVUVfRElSfS9hbmRyb2lkX25hdGl2ZV9hcHBfZ2x1ZS5jKQoKCmFkZF9kZWZpbml0aW9ucygtRFhSX1VTRV9QTEFURk9STV9BTkRST0lEKQphZGRfZGVmaW5pdGlvbnMoLURYUl9VU0VfR1JBUEhJQ1NfQVBJX09QRU5HTF9FUykKYWRkX2RlZmluaXRpb25zKC1EWFJfVVNFX0dSQVBISUNTX0FQSV9WVUxLQU4pCnNldChDTUFLRV9TSEFSRURfTElOS0VSX0ZMQUdTICIke0NNQUtFX1NIQVJFRF9MSU5LRVJfRkxBR1N9IC11IEFOYXRpdmVBY3Rpdml0eV9vbkNyZWF0ZSIpCgoKZmlsZShHTE9CIExPQ0FMX0hFQURFUlMgICJwaWNvX3JlbW90aW5nX3BsYXllci8qLmgiKQpmaWxlKEdMT0IgTE9DQUxfU09VUkNFICAgInBpY29fcmVtb3RpbmdfcGxheWVyLyouY3BwIikKZmlsZShHTE9CIFZVTEtBTl9TSEFERVJTICJwaWNvX3JlbW90aW5nX3BsYXllci92dWxrYW5fc2hhZGVycy8qLmdsc2wiKQoKTElOS19ESVJFQ1RPUklFUyhvcGVueHJfbG9hZGVyLyR7QU5EUk9JRF9BQkl9KQppbmNsdWRlX2RpcmVjdG9yaWVzKG9wZW54cl9sb2FkZXIvaW5jbHVkZSkKCmFkZF9saWJyYXJ5KCAjIFNldHMgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkuCiAgICAgICAgcGljb19yZW1vdGluZ19wbGF5ZXIKCQlTSEFSRUQKICAgICAgICAke0xPQ0FMX1NPVVJDRX0KICAgICAgICAke0xPQ0FMX0hFQURFUlN9CgkJJHtWVUxLQU5fU0hBREVSU30KICAgICAgICBvcGVueHJfbG9hZGVyL2luY2x1ZGUvY29tbW9uL2dmeHdyYXBwZXJfb3BlbmdsLmMKCQkpCgpzb3VyY2VfZ3JvdXAoIkhlYWRlcnMiIEZJTEVTICR7TE9DQUxfSEVBREVSU30pCnNvdXJjZV9ncm91cCgiU2hhZGVycyIgRklMRVMgJHtWVUxLQU5fU0hBREVSU30pCgoKaWYoVnVsa2FuSGVhZGVyc19JTkNMVURFX0RJUlMpCiAgICB0YXJnZXRfaW5jbHVkZV9kaXJlY3RvcmllcyhwaWNvX3JlbW90aW5nX3BsYXllcgogICAgICAgICAgICBQUklWQVRFCiAgICAgICAgICAgICR7VnVsa2FuSGVhZGVyc19JTkNMVURFX0RJUlN9CiAgICAgICAgICAgICkKZW5kaWYoKQoKaWYoVnVsa2FuX0xJQlJBUlkpCiAgICB0YXJnZXRfbGlua19saWJyYXJpZXMocGljb19yZW1vdGluZ19wbGF5ZXIgJHtWdWxrYW5fTElCUkFSWX0pCmVuZGlmKCkKCiMgU3BlY2lmaWVzIGxpYnJhcmllcyBDTWFrZSBzaG91bGQgbGluayB0byB5b3VyIHRhcmdldCBsaWJyYXJ5LiBZb3UKIyBjYW4gbGluayBtdWx0aXBsZSBsaWJyYXJpZXMsIHN1Y2ggYXMgbGlicmFyaWVzIHlvdSBkZWZpbmUgaW4gdGhpcwojIGJ1aWxkIHNjcmlwdCwgcHJlYnVpbHQgdGhpcmQtcGFydHkgbGlicmFyaWVzLCBvciBzeXN0ZW0gbGlicmFyaWVzLgoKdGFyZ2V0X2xpbmtfbGlicmFyaWVzKCAjIFNwZWNpZmllcyB0aGUgdGFyZ2V0IGxpYnJhcnkuCiAgICAgICAgICAgICAgICAgICAgICAgcGljb19yZW1vdGluZ19wbGF5ZXIKICAgICAgICAgICAgICAgICAgICAgICBvcGVueHJfbG9hZGVyCiAgICAgICAgICAgICAgICAgICAgICAgYW5kcm9pZAogICAgICAgICAgICAgICAgICAgICAgIHZ1bGthbgogICAgICAgICAgICAgICAgICAgICAgIEVHTAogICAgICAgICAgICAgICAgICAgICAgIEdMRVN2MwogICAgICAgICAgICAgICAgICAgICAgIGFwcC1nbHVlCiAgICAgICAgICAgICAgICAgICAgICAgbG9nCiAgICAgICAgICAgICAgICAgICAgICAgKQAAAAAAAAAAMAgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMAQAAAAAAAA8BAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pico_remoting_player/graphicsplugin.h",
			"redo_stack":
			[
				[
					70,
					1,
					"paste",
					null,
					"AgAAAHkFAAAAAAAAmQUAAAAAAAAAAAAAWQUAAAAAAABZBQAAAAAAACAAAABYckNvbXBvc2l0aW9uTGF5ZXJQcm9qZWN0aW9uVmlldw",
					"AQAAAAAAAAABAAAAeQUAAAAAAAB5BQAAAAAAAAAAAAAAAPC/"
				]
			],
			"settings":
			{
				"buffer_size": 2172,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "pico_remoting_player/graphicsplugin_vulkan.cpp",
			"settings":
			{
				"buffer_size": 59865,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					358,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAj6QAALy8gQ29weXJpZ2h0IChjKSAyMDE3LTIwMjAgVGhlIEtocm9ub3MgR3JvdXAgSW5jLgovLwovLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMAoKI2luY2x1ZGUgInBjaC5oIgojaW5jbHVkZSAiY29tbW9uLmgiCiNpbmNsdWRlICJnZW9tZXRyeS5oIgojaW5jbHVkZSAiZ3JhcGhpY3NwbHVnaW4uaCIKI2luY2x1ZGUgIm15X2Fzc2V0X21hbmFnZXIuaCIKCiNpZmRlZiBYUl9VU0VfR1JBUEhJQ1NfQVBJX1ZVTEtBTgoKI2luY2x1ZGUgPGNvbW1vbi94cl9saW5lYXIuaD4KI2luY2x1ZGUgPGFycmF5PgoKCgoKbmFtZXNwYWNlIHsKCnN0YXRpYyBzdGQ6OnN0cmluZyB2a1Jlc3VsdFN0cmluZyhWa1Jlc3VsdCByZXMpIHsKICAgIHN3aXRjaCAocmVzKSB7CiAgICAgICAgY2FzZSBWS19TVUNDRVNTOgogICAgICAgICAgICByZXR1cm4gIlNVQ0NFU1MiOwogICAgICAgIGNhc2UgVktfTk9UX1JFQURZOgogICAgICAgICAgICByZXR1cm4gIk5PVF9SRUFEWSI7CiAgICAgICAgY2FzZSBWS19USU1FT1VUOgogICAgICAgICAgICByZXR1cm4gIlRJTUVPVVQiOwogICAgICAgIGNhc2UgVktfRVZFTlRfU0VUOgogICAgICAgICAgICByZXR1cm4gIkVWRU5UX1NFVCI7CiAgICAgICAgY2FzZSBWS19FVkVOVF9SRVNFVDoKICAgICAgICAgICAgcmV0dXJuICJFVkVOVF9SRVNFVCI7CiAgICAgICAgY2FzZSBWS19JTkNPTVBMRVRFOgogICAgICAgICAgICByZXR1cm4gIklOQ09NUExFVEUiOwogICAgICAgIGNhc2UgVktfRVJST1JfT1VUX09GX0hPU1RfTUVNT1JZOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX09VVF9PRl9IT1NUX01FTU9SWSI7CiAgICAgICAgY2FzZSBWS19FUlJPUl9PVVRfT0ZfREVWSUNFX01FTU9SWToKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9PVVRfT0ZfREVWSUNFX01FTU9SWSI7CiAgICAgICAgY2FzZSBWS19FUlJPUl9JTklUSUFMSVpBVElPTl9GQUlMRUQ6CiAgICAgICAgICAgIHJldHVybiAiRVJST1JfSU5JVElBTElaQVRJT05fRkFJTEVEIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX0RFVklDRV9MT1NUOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX0RFVklDRV9MT1NUIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX01FTU9SWV9NQVBfRkFJTEVEOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX01FTU9SWV9NQVBfRkFJTEVEIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX0xBWUVSX05PVF9QUkVTRU5UOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX0xBWUVSX05PVF9QUkVTRU5UIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX0VYVEVOU0lPTl9OT1RfUFJFU0VOVDoKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9FWFRFTlNJT05fTk9UX1BSRVNFTlQiOwogICAgICAgIGNhc2UgVktfRVJST1JfRkVBVFVSRV9OT1RfUFJFU0VOVDoKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9GRUFUVVJFX05PVF9QUkVTRU5UIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX0lOQ09NUEFUSUJMRV9EUklWRVI6CiAgICAgICAgICAgIHJldHVybiAiRVJST1JfSU5DT01QQVRJQkxFX0RSSVZFUiI7CiAgICAgICAgY2FzZSBWS19FUlJPUl9UT09fTUFOWV9PQkpFQ1RTOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX1RPT19NQU5ZX09CSkVDVFMiOwogICAgICAgIGNhc2UgVktfRVJST1JfRk9STUFUX05PVF9TVVBQT1JURUQ6CiAgICAgICAgICAgIHJldHVybiAiRVJST1JfRk9STUFUX05PVF9TVVBQT1JURUQiOwogICAgICAgIGNhc2UgVktfRVJST1JfU1VSRkFDRV9MT1NUX0tIUjoKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9TVVJGQUNFX0xPU1RfS0hSIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX05BVElWRV9XSU5ET1dfSU5fVVNFX0tIUjoKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9OQVRJVkVfV0lORE9XX0lOX1VTRV9LSFIiOwogICAgICAgIGNhc2UgVktfU1VCT1BUSU1BTF9LSFI6CiAgICAgICAgICAgIHJldHVybiAiU1VCT1BUSU1BTF9LSFIiOwogICAgICAgIGNhc2UgVktfRVJST1JfT1VUX09GX0RBVEVfS0hSOgogICAgICAgICAgICByZXR1cm4gIkVSUk9SX09VVF9PRl9EQVRFX0tIUiI7CiAgICAgICAgY2FzZSBWS19FUlJPUl9JTkNPTVBBVElCTEVfRElTUExBWV9LSFI6CiAgICAgICAgICAgIHJldHVybiAiRVJST1JfSU5DT01QQVRJQkxFX0RJU1BMQVlfS0hSIjsKICAgICAgICBjYXNlIFZLX0VSUk9SX1ZBTElEQVRJT05fRkFJTEVEX0VYVDoKICAgICAgICAgICAgcmV0dXJuICJFUlJPUl9WQUxJREFUSU9OX0ZBSUxFRF9FWFQiOwogICAgICAgIGNhc2UgVktfRVJST1JfSU5WQUxJRF9TSEFERVJfTlY6CiAgICAgICAgICAgIHJldHVybiAiRVJST1JfSU5WQUxJRF9TSEFERVJfTlYiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBzdGQ6OnRvX3N0cmluZyhyZXMpOwogICAgfQp9CgpbW25vcmV0dXJuXV0gaW5saW5lIHZvaWQgVGhyb3dWa1Jlc3VsdChWa1Jlc3VsdCByZXMsIGNvbnN0IGNoYXIqIG9yaWdpbmF0b3IgPSBudWxscHRyLCBjb25zdCBjaGFyKiBzb3VyY2VMb2NhdGlvbiA9IG51bGxwdHIpIHsKICAgIFRocm93KEZtdCgiVmtSZXN1bHQgZmFpbHVyZSBbJXNdIiwgdmtSZXN1bHRTdHJpbmcocmVzKS5jX3N0cigpKSwgb3JpZ2luYXRvciwgc291cmNlTG9jYXRpb24pOwp9CgppbmxpbmUgVmtSZXN1bHQgQ2hlY2tWa1Jlc3VsdChWa1Jlc3VsdCByZXMsIGNvbnN0IGNoYXIqIG9yaWdpbmF0b3IgPSBudWxscHRyLCBjb25zdCBjaGFyKiBzb3VyY2VMb2NhdGlvbiA9IG51bGxwdHIpIHsKICAgIGlmICgocmVzKSA8IFZLX1NVQ0NFU1MpIHsKICAgICAgICBUaHJvd1ZrUmVzdWx0KHJlcywgb3JpZ2luYXRvciwgc291cmNlTG9jYXRpb24pOwogICAgfQoKICAgIHJldHVybiByZXM7Cn0KCi8vIFhYWCBUaGVzZSByZWFsbHkgc2hvdWxkbid0IGhhdmUgdHJhaWxpbmcgJzsncwojZGVmaW5lIFRIUk9XX1ZLKHJlcywgY21kKSBUaHJvd1ZrUmVzdWx0KHJlcywgI2NtZCwgRklMRV9BTkRfTElORSk7CiNkZWZpbmUgQ0hFQ0tfVktDTUQoY21kKSBDaGVja1ZrUmVzdWx0KGNtZCwgI2NtZCwgRklMRV9BTkRfTElORSk7CiNkZWZpbmUgQ0hFQ0tfVktSRVNVTFQocmVzLCBjbWRTdHIpIENoZWNrVmtSZXN1bHQocmVzLCBjbWRTdHIsIEZJTEVfQU5EX0xJTkUpOwoKCnN0cnVjdCBNZW1vcnlBbGxvY2F0b3IgewogICAgdm9pZCBJbml0KFZrUGh5c2ljYWxEZXZpY2UgcGh5c2ljYWxEZXZpY2UsIFZrRGV2aWNlIGRldmljZSkgewogICAgICAgIG1fdmtEZXZpY2UgPSBkZXZpY2U7CiAgICAgICAgdmtHZXRQaHlzaWNhbERldmljZU1lbW9yeVByb3BlcnRpZXMocGh5c2ljYWxEZXZpY2UsICZtX21lbVByb3BzKTsKICAgIH0KCiAgICBzdGF0aWMgY29uc3QgVmtGbGFncyBkZWZhdWx0RmxhZ3MgPSBWS19NRU1PUllfUFJPUEVSVFlfSE9TVF9WSVNJQkxFX0JJVCB8IFZLX01FTU9SWV9QUk9QRVJUWV9IT1NUX0NPSEVSRU5UX0JJVDsKCiAgICB2b2lkIEFsbG9jYXRlKFZrTWVtb3J5UmVxdWlyZW1lbnRzIGNvbnN0JiBtZW1SZXFzLCBWa0RldmljZU1lbW9yeSogbWVtLCBWa0ZsYWdzIGZsYWdzID0gZGVmYXVsdEZsYWdzLAogICAgICAgICAgICAgICAgICBjb25zdCB2b2lkKiBwTmV4dCA9IG51bGxwdHIpIGNvbnN0IHsKICAgICAgICAvLyBTZWFyY2ggbWVtdHlwZXMgdG8gZmluZCBmaXJzdCBpbmRleCB3aXRoIHRob3NlIHByb3BlcnRpZXMKICAgICAgICBmb3IgKHVpbnQzMl90IGkgPSAwOyBpIDwgbV9tZW1Qcm9wcy5tZW1vcnlUeXBlQ291bnQ7ICsraSkgewogICAgICAgICAgICBpZiAoKG1lbVJlcXMubWVtb3J5VHlwZUJpdHMgJiAoMSA8PCBpKSkgIT0gMHUpIHsKICAgICAgICAgICAgICAgIC8vIFR5cGUgaXMgYXZhaWxhYmxlLCBkb2VzIGl0IG1hdGNoIHVzZXIgcHJvcGVydGllcz8KICAgICAgICAgICAgICAgIGlmICgobV9tZW1Qcm9wcy5tZW1vcnlUeXBlc1tpXS5wcm9wZXJ0eUZsYWdzICYgZmxhZ3MpID09IGZsYWdzKSB7CiAgICAgICAgICAgICAgICAgICAgVmtNZW1vcnlBbGxvY2F0ZUluZm8gbWVtQWxsb2N7VktfU1RSVUNUVVJFX1RZUEVfTUVNT1JZX0FMTE9DQVRFX0lORk8sIHBOZXh0fTsKICAgICAgICAgICAgICAgICAgICBtZW1BbGxvYy5hbGxvY2F0aW9uU2l6ZSA9IG1lbVJlcXMuc2l6ZTsKICAgICAgICAgICAgICAgICAgICBtZW1BbGxvYy5tZW1vcnlUeXBlSW5kZXggPSBpOwogICAgICAgICAgICAgICAgICAgIENIRUNLX1ZLQ01EKHZrQWxsb2NhdGVNZW1vcnkobV92a0RldmljZSwgJm1lbUFsbG9jLCBudWxscHRyLCBtZW0pKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgVEhST1coIk1lbW9yeSBmb3JtYXQgbm90IHN1cHBvcnRlZCIpOwogICAgfQoKICAgcHJpdmF0ZToKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9OwogICAgVmtQaHlzaWNhbERldmljZU1lbW9yeVByb3BlcnRpZXMgbV9tZW1Qcm9wc3t9Owp9OwoKLy8gQ21kQnVmZmVyIC0gbWFuYWdlIFZrQ29tbWFuZEJ1ZmZlciBzdGF0ZQpzdHJ1Y3QgQ21kQnVmZmVyIHsKI2RlZmluZSBMSVNUX0NNREJVRkZFUl9TVEFURVMoXykgXAogICAgXyhVbmRlZmluZWQpICAgICAgICAgICAgICAgICBcCiAgICBfKEluaXRpYWxpemVkKSAgICAgICAgICAgICAgIFwKICAgIF8oUmVjb3JkaW5nKSAgICAgICAgICAgICAgICAgXAogICAgXyhFeGVjdXRhYmxlKSAgICAgICAgICAgICAgICBcCiAgICBfKEV4ZWN1dGluZykKICAgIGVudW0gY2xhc3MgQ21kQnVmZmVyU3RhdGUgewojZGVmaW5lIE1LX0VOVU0obmFtZSkgbmFtZSwKICAgICAgICBMSVNUX0NNREJVRkZFUl9TVEFURVMoTUtfRU5VTSkKI3VuZGVmIE1LX0VOVU0KICAgIH07CiAgICBDbWRCdWZmZXJTdGF0ZSBzdGF0ZXtDbWRCdWZmZXJTdGF0ZTo6VW5kZWZpbmVkfTsKICAgIFZrQ29tbWFuZFBvb2wgcG9vbHtWS19OVUxMX0hBTkRMRX07CiAgICBWa0NvbW1hbmRCdWZmZXIgYnVme1ZLX05VTExfSEFORExFfTsKICAgIFZrRmVuY2UgZXhlY0ZlbmNle1ZLX05VTExfSEFORExFfTsKCiAgICBDbWRCdWZmZXIoKSA9IGRlZmF1bHQ7CgogICAgQ21kQnVmZmVyKGNvbnN0IENtZEJ1ZmZlciYpID0gZGVsZXRlOwogICAgQ21kQnVmZmVyJiBvcGVyYXRvcj0oY29uc3QgQ21kQnVmZmVyJikgPSBkZWxldGU7CiAgICBDbWRCdWZmZXIoQ21kQnVmZmVyJiYpID0gZGVsZXRlOwogICAgQ21kQnVmZmVyJiBvcGVyYXRvcj0oQ21kQnVmZmVyJiYpID0gZGVsZXRlOwoKICAgIH5DbWRCdWZmZXIoKSB7CiAgICAgICAgU2V0U3RhdGUoQ21kQnVmZmVyU3RhdGU6OlVuZGVmaW5lZCk7CiAgICAgICAgaWYgKG1fdmtEZXZpY2UgIT0gbnVsbHB0cikgewogICAgICAgICAgICBpZiAoYnVmICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgICAgICB2a0ZyZWVDb21tYW5kQnVmZmVycyhtX3ZrRGV2aWNlLCBwb29sLCAxLCAmYnVmKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocG9vbCAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95Q29tbWFuZFBvb2wobV92a0RldmljZSwgcG9vbCwgbnVsbHB0cik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGV4ZWNGZW5jZSAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95RmVuY2UobV92a0RldmljZSwgZXhlY0ZlbmNlLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBidWYgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBwb29sID0gVktfTlVMTF9IQU5ETEU7CiAgICAgICAgZXhlY0ZlbmNlID0gVktfTlVMTF9IQU5ETEU7CiAgICAgICAgbV92a0RldmljZSA9IG51bGxwdHI7CiAgICB9CgogICAgc3RkOjpzdHJpbmcgU3RhdGVTdHJpbmcoQ21kQnVmZmVyU3RhdGUgcykgewogICAgICAgIHN3aXRjaCAocykgewojZGVmaW5lIE1LX0NBU0UobmFtZSkgICAgICAgICAgXAogICAgY2FzZSBDbWRCdWZmZXJTdGF0ZTo6bmFtZTogXAogICAgICAgIHJldHVybiAjbmFtZTsKICAgICAgICAgICAgTElTVF9DTURCVUZGRVJfU1RBVEVTKE1LX0NBU0UpCiN1bmRlZiBNS19DQVNFCiAgICAgICAgfQogICAgICAgIHJldHVybiAiKFVua25vd24pIjsKICAgIH0KCiNkZWZpbmUgQ0hFQ0tfQ0JTVEFURShzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICBkbyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgICAgaWYgKHN0YXRlICE9IChzKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6RXJyb3IsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpzdHJpbmcoIkV4cGVjdGluZyBzdGF0ZSAiICNzICIgZnJvbSAiKSArIF9fRlVOQ1RJT05fXyArICIsIGluICIgKyBTdGF0ZVN0cmluZyhzdGF0ZSkpOyBcCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICB3aGlsZSAoMCkKCiAgICBib29sIEluaXQoVmtEZXZpY2UgZGV2aWNlLCB1aW50MzJfdCBxdWV1ZUZhbWlseUluZGV4KSB7CiAgICAgICAgQ0hFQ0tfQ0JTVEFURShDbWRCdWZmZXJTdGF0ZTo6VW5kZWZpbmVkKTsKCiAgICAgICAgbV92a0RldmljZSA9IGRldmljZTsKCiAgICAgICAgLy8gQ3JlYXRlIGEgY29tbWFuZCBwb29sIHRvIGFsbG9jYXRlIG91ciBjb21tYW5kIGJ1ZmZlciBmcm9tCiAgICAgICAgVmtDb21tYW5kUG9vbENyZWF0ZUluZm8gY21kUG9vbEluZm97VktfU1RSVUNUVVJFX1RZUEVfQ09NTUFORF9QT09MX0NSRUFURV9JTkZPfTsKICAgICAgICBjbWRQb29sSW5mby5mbGFncyA9IFZLX0NPTU1BTkRfUE9PTF9DUkVBVEVfUkVTRVRfQ09NTUFORF9CVUZGRVJfQklUOwogICAgICAgIGNtZFBvb2xJbmZvLnF1ZXVlRmFtaWx5SW5kZXggPSBxdWV1ZUZhbWlseUluZGV4OwogICAgICAgIENIRUNLX1ZLQ01EKHZrQ3JlYXRlQ29tbWFuZFBvb2wobV92a0RldmljZSwgJmNtZFBvb2xJbmZvLCBudWxscHRyLCAmcG9vbCkpOwoKICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbW1hbmQgYnVmZmVyIGZyb20gdGhlIGNvbW1hbmQgcG9vbAogICAgICAgIFZrQ29tbWFuZEJ1ZmZlckFsbG9jYXRlSW5mbyBjbWR7VktfU1RSVUNUVVJFX1RZUEVfQ09NTUFORF9CVUZGRVJfQUxMT0NBVEVfSU5GT307CiAgICAgICAgY21kLmNvbW1hbmRQb29sID0gcG9vbDsKICAgICAgICBjbWQubGV2ZWwgPSBWS19DT01NQU5EX0JVRkZFUl9MRVZFTF9QUklNQVJZOwogICAgICAgIGNtZC5jb21tYW5kQnVmZmVyQ291bnQgPSAxOwogICAgICAgIENIRUNLX1ZLQ01EKHZrQWxsb2NhdGVDb21tYW5kQnVmZmVycyhtX3ZrRGV2aWNlLCAmY21kLCAmYnVmKSk7CgogICAgICAgIFZrRmVuY2VDcmVhdGVJbmZvIGZlbmNlSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9GRU5DRV9DUkVBVEVfSU5GT307CiAgICAgICAgQ0hFQ0tfVktDTUQodmtDcmVhdGVGZW5jZShtX3ZrRGV2aWNlLCAmZmVuY2VJbmZvLCBudWxscHRyLCAmZXhlY0ZlbmNlKSk7CgogICAgICAgIFNldFN0YXRlKENtZEJ1ZmZlclN0YXRlOjpJbml0aWFsaXplZCk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgYm9vbCBCZWdpbigpIHsKICAgICAgICBDSEVDS19DQlNUQVRFKENtZEJ1ZmZlclN0YXRlOjpJbml0aWFsaXplZCk7CiAgICAgICAgVmtDb21tYW5kQnVmZmVyQmVnaW5JbmZvIGNtZEJlZ2luSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9DT01NQU5EX0JVRkZFUl9CRUdJTl9JTkZPfTsKICAgICAgICBDSEVDS19WS0NNRCh2a0JlZ2luQ29tbWFuZEJ1ZmZlcihidWYsICZjbWRCZWdpbkluZm8pKTsKICAgICAgICBTZXRTdGF0ZShDbWRCdWZmZXJTdGF0ZTo6UmVjb3JkaW5nKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBib29sIEVuZCgpIHsKICAgICAgICBDSEVDS19DQlNUQVRFKENtZEJ1ZmZlclN0YXRlOjpSZWNvcmRpbmcpOwogICAgICAgIENIRUNLX1ZLQ01EKHZrRW5kQ29tbWFuZEJ1ZmZlcihidWYpKTsKICAgICAgICBTZXRTdGF0ZShDbWRCdWZmZXJTdGF0ZTo6RXhlY3V0YWJsZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgYm9vbCBFeGVjKFZrUXVldWUgcXVldWUpIHsKICAgICAgICBDSEVDS19DQlNUQVRFKENtZEJ1ZmZlclN0YXRlOjpFeGVjdXRhYmxlKTsKCiAgICAgICAgVmtTdWJtaXRJbmZvIHN1Ym1pdEluZm97VktfU1RSVUNUVVJFX1RZUEVfU1VCTUlUX0lORk99OwogICAgICAgIHN1Ym1pdEluZm8uY29tbWFuZEJ1ZmZlckNvdW50ID0gMTsKICAgICAgICBzdWJtaXRJbmZvLnBDb21tYW5kQnVmZmVycyA9ICZidWY7CiAgICAgICAgQ0hFQ0tfVktDTUQodmtRdWV1ZVN1Ym1pdChxdWV1ZSwgMSwgJnN1Ym1pdEluZm8sIGV4ZWNGZW5jZSkpOwoKICAgICAgICBTZXRTdGF0ZShDbWRCdWZmZXJTdGF0ZTo6RXhlY3V0aW5nKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBib29sIFdhaXQoKSB7CiAgICAgICAgLy8gV2FpdGluZyBvbiBhIG5vdC1pbi1mbGlnaHQgY29tbWFuZCBidWZmZXIgaXMgYSBuby1vcAogICAgICAgIGlmIChzdGF0ZSA9PSBDbWRCdWZmZXJTdGF0ZTo6SW5pdGlhbGl6ZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBDSEVDS19DQlNUQVRFKENtZEJ1ZmZlclN0YXRlOjpFeGVjdXRpbmcpOwoKICAgICAgICBjb25zdCB1aW50MzJfdCB0aW1lb3V0TnMgPSAxICogMTAwMCAqIDEwMDAgKiAxMDAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgNTsgKytpKSB7CiAgICAgICAgICAgIGF1dG8gcmVzID0gdmtXYWl0Rm9yRmVuY2VzKG1fdmtEZXZpY2UsIDEsICZleGVjRmVuY2UsIFZLX1RSVUUsIHRpbWVvdXROcyk7CiAgICAgICAgICAgIGlmIChyZXMgPT0gVktfU1VDQ0VTUykgewogICAgICAgICAgICAgICAgLy8gQnVmZmVyIGNhbiBiZSBleGVjdXRlZCBtdWx0aXBsZSB0aW1lcy4uLgogICAgICAgICAgICAgICAgU2V0U3RhdGUoQ21kQnVmZmVyU3RhdGU6OkV4ZWN1dGFibGUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCAiV2FpdGluZyBmb3IgQ21kQnVmZmVyIGZlbmNlIHRpbWVkIG91dCwgcmV0cnlpbmcuLi4iKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBib29sIFJlc2V0KCkgewogICAgICAgIGlmIChzdGF0ZSAhPSBDbWRCdWZmZXJTdGF0ZTo6SW5pdGlhbGl6ZWQpIHsKICAgICAgICAgICAgQ0hFQ0tfQ0JTVEFURShDbWRCdWZmZXJTdGF0ZTo6RXhlY3V0YWJsZSk7CgogICAgICAgICAgICBDSEVDS19WS0NNRCh2a1Jlc2V0RmVuY2VzKG1fdmtEZXZpY2UsIDEsICZleGVjRmVuY2UpKTsKICAgICAgICAgICAgQ0hFQ0tfVktDTUQodmtSZXNldENvbW1hbmRCdWZmZXIoYnVmLCAwKSk7CgogICAgICAgICAgICBTZXRTdGF0ZShDbWRCdWZmZXJTdGF0ZTo6SW5pdGlhbGl6ZWQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICBwcml2YXRlOgogICAgVmtEZXZpY2UgbV92a0RldmljZXtWS19OVUxMX0hBTkRMRX07CgogICAgdm9pZCBTZXRTdGF0ZShDbWRCdWZmZXJTdGF0ZSBuZXdTdGF0ZSkgeyBzdGF0ZSA9IG5ld1N0YXRlOyB9CgojdW5kZWYgQ0hFQ0tfQ0JTVEFURQojdW5kZWYgTElTVF9DTURCVUZGRVJfU1RBVEVTCn07CgovLyBTaGFkZXJQcm9ncmFtIHRvIGhvbGQgYSBwYWlyIG9mIHZlcnRleCAmIGZyYWdtZW50IHNoYWRlcnMKc3RydWN0IFNoYWRlclByb2dyYW0gewogICAgc3RkOjphcnJheTxWa1BpcGVsaW5lU2hhZGVyU3RhZ2VDcmVhdGVJbmZvLCAyPiBzaGFkZXJJbmZvewogICAgICAgIHt7VktfU1RSVUNUVVJFX1RZUEVfUElQRUxJTkVfU0hBREVSX1NUQUdFX0NSRUFURV9JTkZPfSwge1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX1NIQURFUl9TVEFHRV9DUkVBVEVfSU5GT319fTsKCiAgICBTaGFkZXJQcm9ncmFtKCkgPSBkZWZhdWx0OwoKICAgIH5TaGFkZXJQcm9ncmFtKCkgewogICAgICAgIGlmIChtX3ZrRGV2aWNlICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgZm9yIChhdXRvJiBzaSA6IHNoYWRlckluZm8pIHsKICAgICAgICAgICAgICAgIGlmIChzaS5tb2R1bGUgIT0gVktfTlVMTF9IQU5ETEUpIHsKICAgICAgICAgICAgICAgICAgICB2a0Rlc3Ryb3lTaGFkZXJNb2R1bGUobV92a0RldmljZSwgc2hhZGVySW5mb1swXS5tb2R1bGUsIG51bGxwdHIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2kubW9kdWxlID0gVktfTlVMTF9IQU5ETEU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2hhZGVySW5mbyA9IHt9OwogICAgICAgIG1fdmtEZXZpY2UgPSBudWxscHRyOwogICAgfQoKICAgIFNoYWRlclByb2dyYW0oY29uc3QgU2hhZGVyUHJvZ3JhbSYpID0gZGVsZXRlOwogICAgU2hhZGVyUHJvZ3JhbSYgb3BlcmF0b3I9KGNvbnN0IFNoYWRlclByb2dyYW0mKSA9IGRlbGV0ZTsKICAgIFNoYWRlclByb2dyYW0oU2hhZGVyUHJvZ3JhbSYmKSA9IGRlbGV0ZTsKICAgIFNoYWRlclByb2dyYW0mIG9wZXJhdG9yPShTaGFkZXJQcm9ncmFtJiYpID0gZGVsZXRlOwoKICAgIHZvaWQgTG9hZFZlcnRleFNoYWRlcihjb25zdCBzdGQ6OnZlY3Rvcjx1aW50MzJfdD4mIGNvZGUpIHsgTG9hZCgwLCBjb2RlKTsgfQoKICAgIHZvaWQgTG9hZEZyYWdtZW50U2hhZGVyKGNvbnN0IHN0ZDo6dmVjdG9yPHVpbnQzMl90PiYgY29kZSkgeyBMb2FkKDEsIGNvZGUpOyB9CgogICAgdm9pZCBJbml0KFZrRGV2aWNlIGRldmljZSkgeyBtX3ZrRGV2aWNlID0gZGV2aWNlOyB9CgogICBwcml2YXRlOgogICAgVmtEZXZpY2UgbV92a0RldmljZXtWS19OVUxMX0hBTkRMRX07CgogICAgdm9pZCBMb2FkKHVpbnQzMl90IGluZGV4LCBjb25zdCBzdGQ6OnZlY3Rvcjx1aW50MzJfdD4mIGNvZGUpIHsKICAgICAgICBWa1NoYWRlck1vZHVsZUNyZWF0ZUluZm8gbW9kSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9TSEFERVJfTU9EVUxFX0NSRUFURV9JTkZPfTsKCiAgICAgICAgYXV0byYgc2kgPSBzaGFkZXJJbmZvW2luZGV4XTsKICAgICAgICBzaS5wTmFtZSA9ICJtYWluIjsKICAgICAgICBzdGQ6OnN0cmluZyBuYW1lOwoKICAgICAgICBzd2l0Y2ggKGluZGV4KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHNpLnN0YWdlID0gVktfU0hBREVSX1NUQUdFX1ZFUlRFWF9CSVQ7CiAgICAgICAgICAgICAgICBuYW1lID0gInZlcnRleCI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgc2kuc3RhZ2UgPSBWS19TSEFERVJfU1RBR0VfRlJBR01FTlRfQklUOwogICAgICAgICAgICAgICAgbmFtZSA9ICJmcmFnbWVudCI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIFRIUk9XKEZtdCgiVW5rbm93biBjb2RlIGluZGV4ICVkIiwgaW5kZXgpKTsKICAgICAgICB9CgogICAgICAgIG1vZEluZm8uY29kZVNpemUgPSBjb2RlLnNpemUoKSAqIHNpemVvZihjb2RlWzBdKTsKICAgICAgICBtb2RJbmZvLnBDb2RlID0gJmNvZGVbMF07CiAgICAgICAgQ0hFQ0tfTVNHKChtb2RJbmZvLmNvZGVTaXplID4gMCkgJiYgbW9kSW5mby5wQ29kZSwgRm10KCJJbnZhbGlkICVzIHNoYWRlciAiLCBuYW1lLmNfc3RyKCkpKTsKCiAgICAgICAgQ0hFQ0tfVktDTUQodmtDcmVhdGVTaGFkZXJNb2R1bGUobV92a0RldmljZSwgJm1vZEluZm8sIG51bGxwdHIsICZzaS5tb2R1bGUpKTsKCiAgICAgICAgTG9nOjpXcml0ZShMb2c6OkxldmVsOjpJbmZvLCBGbXQoIkxvYWRlZCAlcyBzaGFkZXIiLCBuYW1lLmNfc3RyKCkpKTsKICAgIH0KfTsKCi8vIFZlcnRleEJ1ZmZlciBiYXNlIGNsYXNzCnN0cnVjdCBWZXJ0ZXhCdWZmZXJCYXNlIHsKICAgIFZrQnVmZmVyIGlkeEJ1ZntWS19OVUxMX0hBTkRMRX07CiAgICBWa0RldmljZU1lbW9yeSBpZHhNZW17VktfTlVMTF9IQU5ETEV9OwogICAgVmtCdWZmZXIgdnR4QnVme1ZLX05VTExfSEFORExFfTsKICAgIFZrRGV2aWNlTWVtb3J5IHZ0eE1lbXtWS19OVUxMX0hBTkRMRX07CiAgICBWa1ZlcnRleElucHV0QmluZGluZ0Rlc2NyaXB0aW9uIGJpbmREZXNje307CiAgICBzdGQ6OnZlY3RvcjxWa1ZlcnRleElucHV0QXR0cmlidXRlRGVzY3JpcHRpb24+IGF0dHJEZXNje307CiAgICBzdHJ1Y3QgewogICAgICAgIHVpbnQzMl90IGlkeDsKICAgICAgICB1aW50MzJfdCB2dHg7CiAgICB9IGNvdW50ID0gezAsIDB9OwoKICAgIFZlcnRleEJ1ZmZlckJhc2UoKSA9IGRlZmF1bHQ7CgogICAgflZlcnRleEJ1ZmZlckJhc2UoKSB7CiAgICAgICAgaWYgKG1fdmtEZXZpY2UgIT0gbnVsbHB0cikgewogICAgICAgICAgICBpZiAoaWR4QnVmICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgICAgICB2a0Rlc3Ryb3lCdWZmZXIobV92a0RldmljZSwgaWR4QnVmLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaWR4TWVtICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgICAgICB2a0ZyZWVNZW1vcnkobV92a0RldmljZSwgaWR4TWVtLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodnR4QnVmICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgICAgICB2a0Rlc3Ryb3lCdWZmZXIobV92a0RldmljZSwgdnR4QnVmLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodnR4TWVtICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgICAgICB2a0ZyZWVNZW1vcnkobV92a0RldmljZSwgdnR4TWVtLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZHhCdWYgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBpZHhNZW0gPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICB2dHhCdWYgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICB2dHhNZW0gPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBiaW5kRGVzYyA9IHt9OwogICAgICAgIGF0dHJEZXNjLmNsZWFyKCk7CiAgICAgICAgY291bnQgPSB7MCwgMH07CiAgICAgICAgbV92a0RldmljZSA9IG51bGxwdHI7CiAgICB9CgogICAgVmVydGV4QnVmZmVyQmFzZShjb25zdCBWZXJ0ZXhCdWZmZXJCYXNlJikgPSBkZWxldGU7CiAgICBWZXJ0ZXhCdWZmZXJCYXNlJiBvcGVyYXRvcj0oY29uc3QgVmVydGV4QnVmZmVyQmFzZSYpID0gZGVsZXRlOwogICAgVmVydGV4QnVmZmVyQmFzZShWZXJ0ZXhCdWZmZXJCYXNlJiYpID0gZGVsZXRlOwogICAgVmVydGV4QnVmZmVyQmFzZSYgb3BlcmF0b3I9KFZlcnRleEJ1ZmZlckJhc2UmJikgPSBkZWxldGU7CiAgICB2b2lkIEluaXQoVmtEZXZpY2UgZGV2aWNlLCBjb25zdCBNZW1vcnlBbGxvY2F0b3IqIG1lbUFsbG9jYXRvciwgY29uc3Qgc3RkOjp2ZWN0b3I8VmtWZXJ0ZXhJbnB1dEF0dHJpYnV0ZURlc2NyaXB0aW9uPiYgYXR0cikgewogICAgICAgIG1fdmtEZXZpY2UgPSBkZXZpY2U7CiAgICAgICAgbV9tZW1BbGxvY2F0b3IgPSBtZW1BbGxvY2F0b3I7CiAgICAgICAgYXR0ckRlc2MgPSBhdHRyOwogICAgfQoKICAgcHJvdGVjdGVkOgogICAgVmtEZXZpY2UgbV92a0RldmljZXtWS19OVUxMX0hBTkRMRX07CiAgICB2b2lkIEFsbG9jYXRlQnVmZmVyTWVtb3J5KFZrQnVmZmVyIGJ1ZiwgVmtEZXZpY2VNZW1vcnkqIG1lbSkgY29uc3QgewogICAgICAgIFZrTWVtb3J5UmVxdWlyZW1lbnRzIG1lbVJlcSA9IHt9OwogICAgICAgIHZrR2V0QnVmZmVyTWVtb3J5UmVxdWlyZW1lbnRzKG1fdmtEZXZpY2UsIGJ1ZiwgJm1lbVJlcSk7CiAgICAgICAgbV9tZW1BbGxvY2F0b3ItPkFsbG9jYXRlKG1lbVJlcSwgbWVtKTsKICAgIH0KCiAgIHByaXZhdGU6CiAgICBjb25zdCBNZW1vcnlBbGxvY2F0b3IqIG1fbWVtQWxsb2NhdG9ye251bGxwdHJ9Owp9OwoKLy8gVmVydGV4QnVmZmVyIHRlbXBsYXRlIHRvIHdyYXAgdGhlIGluZGljZXMgYW5kIHZlcnRpY2VzCnRlbXBsYXRlIDx0eXBlbmFtZSBUPgpzdHJ1Y3QgVmVydGV4QnVmZmVyIDogcHVibGljIFZlcnRleEJ1ZmZlckJhc2UgewogICAgYm9vbCBDcmVhdGUodWludDMyX3QgaWR4Q291bnQsIHVpbnQzMl90IHZ0eENvdW50KSB7CiAgICAgICAgVmtCdWZmZXJDcmVhdGVJbmZvIGJ1ZkluZm97VktfU1RSVUNUVVJFX1RZUEVfQlVGRkVSX0NSRUFURV9JTkZPfTsKICAgICAgICBidWZJbmZvLnVzYWdlID0gVktfQlVGRkVSX1VTQUdFX0lOREVYX0JVRkZFUl9CSVQ7CiAgICAgICAgYnVmSW5mby5zaXplID0gc2l6ZW9mKHVpbnQxNl90KSAqIGlkeENvdW50OwogICAgICAgIENIRUNLX1ZLQ01EKHZrQ3JlYXRlQnVmZmVyKG1fdmtEZXZpY2UsICZidWZJbmZvLCBudWxscHRyLCAmaWR4QnVmKSk7CiAgICAgICAgQWxsb2NhdGVCdWZmZXJNZW1vcnkoaWR4QnVmLCAmaWR4TWVtKTsKICAgICAgICBDSEVDS19WS0NNRCh2a0JpbmRCdWZmZXJNZW1vcnkobV92a0RldmljZSwgaWR4QnVmLCBpZHhNZW0sIDApKTsKCiAgICAgICAgYnVmSW5mby51c2FnZSA9IFZLX0JVRkZFUl9VU0FHRV9WRVJURVhfQlVGRkVSX0JJVDsKICAgICAgICBidWZJbmZvLnNpemUgPSBzaXplb2YoVCkgKiB2dHhDb3VudDsKICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZUJ1ZmZlcihtX3ZrRGV2aWNlLCAmYnVmSW5mbywgbnVsbHB0ciwgJnZ0eEJ1ZikpOwogICAgICAgIEFsbG9jYXRlQnVmZmVyTWVtb3J5KHZ0eEJ1ZiwgJnZ0eE1lbSk7CiAgICAgICAgQ0hFQ0tfVktDTUQodmtCaW5kQnVmZmVyTWVtb3J5KG1fdmtEZXZpY2UsIHZ0eEJ1ZiwgdnR4TWVtLCAwKSk7CgogICAgICAgIGJpbmREZXNjLmJpbmRpbmcgPSAwOwogICAgICAgIGJpbmREZXNjLnN0cmlkZSA9IHNpemVvZihUKTsKICAgICAgICBiaW5kRGVzYy5pbnB1dFJhdGUgPSBWS19WRVJURVhfSU5QVVRfUkFURV9WRVJURVg7CgogICAgICAgIGNvdW50ID0ge2lkeENvdW50LCB2dHhDb3VudH07CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHZvaWQgVXBkYXRlSW5kaWNpZXMoY29uc3QgdWludDE2X3QqIGRhdGEsIHVpbnQzMl90IGVsZW1lbnRzLCB1aW50MzJfdCBvZmZzZXQgPSAwKSB7CiAgICAgICAgdWludDE2X3QqIG1hcCA9IG51bGxwdHI7CiAgICAgICAgQ0hFQ0tfVktDTUQodmtNYXBNZW1vcnkobV92a0RldmljZSwgaWR4TWVtLCBzaXplb2YobWFwWzBdKSAqIG9mZnNldCwgc2l6ZW9mKG1hcFswXSkgKiBlbGVtZW50cywgMCwgKHZvaWQqKikmbWFwKSk7CiAgICAgICAgZm9yIChzaXplX3QgaSA9IDA7IGkgPCBlbGVtZW50czsgKytpKSB7CiAgICAgICAgICAgIG1hcFtpXSA9IGRhdGFbaV07CiAgICAgICAgfQogICAgICAgIHZrVW5tYXBNZW1vcnkobV92a0RldmljZSwgaWR4TWVtKTsKICAgIH0KCiAgICB2b2lkIFVwZGF0ZVZlcnRpY2VzKGNvbnN0IFQqIGRhdGEsIHVpbnQzMl90IGVsZW1lbnRzLCB1aW50MzJfdCBvZmZzZXQgPSAwKSB7CiAgICAgICAgVCogbWFwID0gbnVsbHB0cjsKICAgICAgICBDSEVDS19WS0NNRCh2a01hcE1lbW9yeShtX3ZrRGV2aWNlLCB2dHhNZW0sIHNpemVvZihtYXBbMF0pICogb2Zmc2V0LCBzaXplb2YobWFwWzBdKSAqIGVsZW1lbnRzLCAwLCAodm9pZCoqKSZtYXApKTsKICAgICAgICBmb3IgKHNpemVfdCBpID0gMDsgaSA8IGVsZW1lbnRzOyArK2kpIHsKICAgICAgICAgICAgbWFwW2ldID0gZGF0YVtpXTsKICAgICAgICB9CiAgICAgICAgdmtVbm1hcE1lbW9yeShtX3ZrRGV2aWNlLCB2dHhNZW0pOwogICAgfQp9OwoKLy8gUmVuZGVyUGFzcyB3cmFwcGVyCnN0cnVjdCBSZW5kZXJQYXNzIHsKICAgIFZrRm9ybWF0IGNvbG9yRm10e307CiAgICBWa0Zvcm1hdCBkZXB0aEZtdHt9OwogICAgVmtSZW5kZXJQYXNzIHBhc3N7VktfTlVMTF9IQU5ETEV9OwoKICAgIFJlbmRlclBhc3MoKSA9IGRlZmF1bHQ7CgogICAgYm9vbCBDcmVhdGUoVmtEZXZpY2UgZGV2aWNlLCBWa0Zvcm1hdCBhQ29sb3JGbXQsIFZrRm9ybWF0IGFEZXB0aEZtdCkgewogICAgICAgIG1fdmtEZXZpY2UgPSBkZXZpY2U7CiAgICAgICAgY29sb3JGbXQgPSBhQ29sb3JGbXQ7CiAgICAgICAgZGVwdGhGbXQgPSBhRGVwdGhGbXQ7CgogICAgICAgIFZrU3VicGFzc0Rlc2NyaXB0aW9uIHN1YnBhc3MgPSB7fTsKICAgICAgICBzdWJwYXNzLnBpcGVsaW5lQmluZFBvaW50ID0gVktfUElQRUxJTkVfQklORF9QT0lOVF9HUkFQSElDUzsKCiAgICAgICAgVmtBdHRhY2htZW50UmVmZXJlbmNlIGNvbG9yUmVmID0gezAsIFZLX0lNQUdFX0xBWU9VVF9DT0xPUl9BVFRBQ0hNRU5UX09QVElNQUx9OwogICAgICAgIFZrQXR0YWNobWVudFJlZmVyZW5jZSBkZXB0aFJlZiA9IHsxLCBWS19JTUFHRV9MQVlPVVRfREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UX09QVElNQUx9OwoKICAgICAgICBzdGQ6OmFycmF5PFZrQXR0YWNobWVudERlc2NyaXB0aW9uLCAyPiBhdCA9IHt9OwoKICAgICAgICBWa1JlbmRlclBhc3NDcmVhdGVJbmZvIHJwSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9SRU5ERVJfUEFTU19DUkVBVEVfSU5GT307CiAgICAgICAgcnBJbmZvLmF0dGFjaG1lbnRDb3VudCA9IDA7CiAgICAgICAgcnBJbmZvLnBBdHRhY2htZW50cyA9IGF0LmRhdGEoKTsKICAgICAgICBycEluZm8uc3VicGFzc0NvdW50ID0gMTsKICAgICAgICBycEluZm8ucFN1YnBhc3NlcyA9ICZzdWJwYXNzOwoKICAgICAgICBpZiAoY29sb3JGbXQgIT0gVktfRk9STUFUX1VOREVGSU5FRCkgewogICAgICAgICAgICBjb2xvclJlZi5hdHRhY2htZW50ID0gcnBJbmZvLmF0dGFjaG1lbnRDb3VudCsrOwoKICAgICAgICAgICAgYXRbY29sb3JSZWYuYXR0YWNobWVudF0uZm9ybWF0ID0gY29sb3JGbXQ7CiAgICAgICAgICAgIGF0W2NvbG9yUmVmLmF0dGFjaG1lbnRdLnNhbXBsZXMgPSBWS19TQU1QTEVfQ09VTlRfMV9CSVQ7CiAgICAgICAgICAgIGF0W2NvbG9yUmVmLmF0dGFjaG1lbnRdLmxvYWRPcCA9IFZLX0FUVEFDSE1FTlRfTE9BRF9PUF9DTEVBUjsKICAgICAgICAgICAgYXRbY29sb3JSZWYuYXR0YWNobWVudF0uc3RvcmVPcCA9IFZLX0FUVEFDSE1FTlRfU1RPUkVfT1BfU1RPUkU7CiAgICAgICAgICAgIGF0W2NvbG9yUmVmLmF0dGFjaG1lbnRdLnN0ZW5jaWxMb2FkT3AgPSBWS19BVFRBQ0hNRU5UX0xPQURfT1BfRE9OVF9DQVJFOwogICAgICAgICAgICBhdFtjb2xvclJlZi5hdHRhY2htZW50XS5zdGVuY2lsU3RvcmVPcCA9IFZLX0FUVEFDSE1FTlRfU1RPUkVfT1BfRE9OVF9DQVJFOwogICAgICAgICAgICBhdFtjb2xvclJlZi5hdHRhY2htZW50XS5pbml0aWFsTGF5b3V0ID0gVktfSU1BR0VfTEFZT1VUX0NPTE9SX0FUVEFDSE1FTlRfT1BUSU1BTDsKICAgICAgICAgICAgYXRbY29sb3JSZWYuYXR0YWNobWVudF0uZmluYWxMYXlvdXQgPSBWS19JTUFHRV9MQVlPVVRfQ09MT1JfQVRUQUNITUVOVF9PUFRJTUFMOwoKICAgICAgICAgICAgc3VicGFzcy5jb2xvckF0dGFjaG1lbnRDb3VudCA9IDE7CiAgICAgICAgICAgIHN1YnBhc3MucENvbG9yQXR0YWNobWVudHMgPSAmY29sb3JSZWY7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGVwdGhGbXQgIT0gVktfRk9STUFUX1VOREVGSU5FRCkgewogICAgICAgICAgICBkZXB0aFJlZi5hdHRhY2htZW50ID0gcnBJbmZvLmF0dGFjaG1lbnRDb3VudCsrOwoKICAgICAgICAgICAgYXRbZGVwdGhSZWYuYXR0YWNobWVudF0uZm9ybWF0ID0gZGVwdGhGbXQ7CiAgICAgICAgICAgIGF0W2RlcHRoUmVmLmF0dGFjaG1lbnRdLnNhbXBsZXMgPSBWS19TQU1QTEVfQ09VTlRfMV9CSVQ7CiAgICAgICAgICAgIGF0W2RlcHRoUmVmLmF0dGFjaG1lbnRdLmxvYWRPcCA9IFZLX0FUVEFDSE1FTlRfTE9BRF9PUF9DTEVBUjsKICAgICAgICAgICAgYXRbZGVwdGhSZWYuYXR0YWNobWVudF0uc3RvcmVPcCA9IFZLX0FUVEFDSE1FTlRfU1RPUkVfT1BfU1RPUkU7CiAgICAgICAgICAgIGF0W2RlcHRoUmVmLmF0dGFjaG1lbnRdLnN0ZW5jaWxMb2FkT3AgPSBWS19BVFRBQ0hNRU5UX0xPQURfT1BfRE9OVF9DQVJFOwogICAgICAgICAgICBhdFtkZXB0aFJlZi5hdHRhY2htZW50XS5zdGVuY2lsU3RvcmVPcCA9IFZLX0FUVEFDSE1FTlRfU1RPUkVfT1BfRE9OVF9DQVJFOwogICAgICAgICAgICBhdFtkZXB0aFJlZi5hdHRhY2htZW50XS5pbml0aWFsTGF5b3V0ID0gVktfSU1BR0VfTEFZT1VUX0RFUFRIX1NURU5DSUxfQVRUQUNITUVOVF9PUFRJTUFMOwogICAgICAgICAgICBhdFtkZXB0aFJlZi5hdHRhY2htZW50XS5maW5hbExheW91dCA9IFZLX0lNQUdFX0xBWU9VVF9ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRfT1BUSU1BTDsKCiAgICAgICAgICAgIHN1YnBhc3MucERlcHRoU3RlbmNpbEF0dGFjaG1lbnQgPSAmZGVwdGhSZWY7CiAgICAgICAgfQoKICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZVJlbmRlclBhc3MobV92a0RldmljZSwgJnJwSW5mbywgbnVsbHB0ciwgJnBhc3MpKTsKCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgflJlbmRlclBhc3MoKSB7CiAgICAgICAgaWYgKG1fdmtEZXZpY2UgIT0gbnVsbHB0cikgewogICAgICAgICAgICBpZiAocGFzcyAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95UmVuZGVyUGFzcyhtX3ZrRGV2aWNlLCBwYXNzLCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBwYXNzID0gVktfTlVMTF9IQU5ETEU7CiAgICAgICAgbV92a0RldmljZSA9IG51bGxwdHI7CiAgICB9CgogICAgUmVuZGVyUGFzcyhjb25zdCBSZW5kZXJQYXNzJikgPSBkZWxldGU7CiAgICBSZW5kZXJQYXNzJiBvcGVyYXRvcj0oY29uc3QgUmVuZGVyUGFzcyYpID0gZGVsZXRlOwogICAgUmVuZGVyUGFzcyhSZW5kZXJQYXNzJiYpID0gZGVsZXRlOwogICAgUmVuZGVyUGFzcyYgb3BlcmF0b3I9KFJlbmRlclBhc3MmJikgPSBkZWxldGU7CgogICBwcml2YXRlOgogICAgVmtEZXZpY2UgbV92a0RldmljZXtWS19OVUxMX0hBTkRMRX07Cn07CgovLyBWa0ltYWdlICsgZnJhbWVidWZmZXIgd3JhcHBlcgpzdHJ1Y3QgUmVuZGVyVGFyZ2V0IHsKICAgIFZrSW1hZ2UgY29sb3JJbWFnZXtWS19OVUxMX0hBTkRMRX07CiAgICBWa0ltYWdlIGRlcHRoSW1hZ2V7VktfTlVMTF9IQU5ETEV9OwogICAgVmtJbWFnZVZpZXcgY29sb3JWaWV3e1ZLX05VTExfSEFORExFfTsKICAgIFZrSW1hZ2VWaWV3IGRlcHRoVmlld3tWS19OVUxMX0hBTkRMRX07CiAgICBWa0ZyYW1lYnVmZmVyIGZie1ZLX05VTExfSEFORExFfTsKCiAgICBSZW5kZXJUYXJnZXQoKSA9IGRlZmF1bHQ7CgogICAgflJlbmRlclRhcmdldCgpIHsKICAgICAgICBpZiAobV92a0RldmljZSAhPSBudWxscHRyKSB7CiAgICAgICAgICAgIGlmIChmYiAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95RnJhbWVidWZmZXIobV92a0RldmljZSwgZmIsIG51bGxwdHIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjb2xvclZpZXcgIT0gVktfTlVMTF9IQU5ETEUpIHsKICAgICAgICAgICAgICAgIHZrRGVzdHJveUltYWdlVmlldyhtX3ZrRGV2aWNlLCBjb2xvclZpZXcsIG51bGxwdHIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkZXB0aFZpZXcgIT0gVktfTlVMTF9IQU5ETEUpIHsKICAgICAgICAgICAgICAgIHZrRGVzdHJveUltYWdlVmlldyhtX3ZrRGV2aWNlLCBkZXB0aFZpZXcsIG51bGxwdHIpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBOb3RlIHdlIGRvbid0IG93biBjb2xvci9kZXB0aEltYWdlLCBpdCB3aWxsIGdldCBkZXN0cm95ZWQgd2hlbiB4ckRlc3Ryb3lTd2FwY2hhaW4gaXMgY2FsbGVkCiAgICAgICAgY29sb3JJbWFnZSA9IFZLX05VTExfSEFORExFOwogICAgICAgIGRlcHRoSW1hZ2UgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBjb2xvclZpZXcgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBkZXB0aFZpZXcgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBmYiA9IFZLX05VTExfSEFORExFOwogICAgICAgIG1fdmtEZXZpY2UgPSBudWxscHRyOwogICAgfQoKICAgIFJlbmRlclRhcmdldChSZW5kZXJUYXJnZXQmJiBvdGhlcikgbm9leGNlcHQgOiBSZW5kZXJUYXJnZXQoKSB7CiAgICAgICAgdXNpbmcgc3RkOjpzd2FwOwogICAgICAgIHN3YXAoY29sb3JJbWFnZSwgb3RoZXIuY29sb3JJbWFnZSk7CiAgICAgICAgc3dhcChkZXB0aEltYWdlLCBvdGhlci5kZXB0aEltYWdlKTsKICAgICAgICBzd2FwKGNvbG9yVmlldywgb3RoZXIuY29sb3JWaWV3KTsKICAgICAgICBzd2FwKGRlcHRoVmlldywgb3RoZXIuZGVwdGhWaWV3KTsKICAgICAgICBzd2FwKGZiLCBvdGhlci5mYik7CiAgICAgICAgc3dhcChtX3ZrRGV2aWNlLCBvdGhlci5tX3ZrRGV2aWNlKTsKICAgIH0KICAgIFJlbmRlclRhcmdldCYgb3BlcmF0b3I9KFJlbmRlclRhcmdldCYmIG90aGVyKSBub2V4Y2VwdCB7CiAgICAgICAgaWYgKCZvdGhlciA9PSB0aGlzKSB7CiAgICAgICAgICAgIHJldHVybiAqdGhpczsKICAgICAgICB9CiAgICAgICAgLy8gQ2xlYW4gdXAgb3Vyc2VsdmVzLgogICAgICAgIHRoaXMtPn5SZW5kZXJUYXJnZXQoKTsKICAgICAgICB1c2luZyBzdGQ6OnN3YXA7CiAgICAgICAgc3dhcChjb2xvckltYWdlLCBvdGhlci5jb2xvckltYWdlKTsKICAgICAgICBzd2FwKGRlcHRoSW1hZ2UsIG90aGVyLmRlcHRoSW1hZ2UpOwogICAgICAgIHN3YXAoY29sb3JWaWV3LCBvdGhlci5jb2xvclZpZXcpOwogICAgICAgIHN3YXAoZGVwdGhWaWV3LCBvdGhlci5kZXB0aFZpZXcpOwogICAgICAgIHN3YXAoZmIsIG90aGVyLmZiKTsKICAgICAgICBzd2FwKG1fdmtEZXZpY2UsIG90aGVyLm1fdmtEZXZpY2UpOwogICAgICAgIHJldHVybiAqdGhpczsKICAgIH0KICAgIHZvaWQgQ3JlYXRlKFZrRGV2aWNlIGRldmljZSwgVmtJbWFnZSBhQ29sb3JJbWFnZSwgVmtJbWFnZSBhRGVwdGhJbWFnZSwgVmtFeHRlbnQyRCBzaXplLCBSZW5kZXJQYXNzJiByZW5kZXJQYXNzKSB7CiAgICAgICAgbV92a0RldmljZSA9IGRldmljZTsKCiAgICAgICAgY29sb3JJbWFnZSA9IGFDb2xvckltYWdlOwogICAgICAgIGRlcHRoSW1hZ2UgPSBhRGVwdGhJbWFnZTsKCiAgICAgICAgc3RkOjphcnJheTxWa0ltYWdlVmlldywgMj4gYXR0YWNobWVudHN7fTsKICAgICAgICB1aW50MzJfdCBhdHRhY2htZW50Q291bnQgPSAwOwoKICAgICAgICAvLyBDcmVhdGUgY29sb3IgaW1hZ2UgdmlldwogICAgICAgIGlmIChjb2xvckltYWdlICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgIFZrSW1hZ2VWaWV3Q3JlYXRlSW5mbyBjb2xvclZpZXdJbmZve1ZLX1NUUlVDVFVSRV9UWVBFX0lNQUdFX1ZJRVdfQ1JFQVRFX0lORk99OwogICAgICAgICAgICBjb2xvclZpZXdJbmZvLmltYWdlID0gY29sb3JJbWFnZTsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby52aWV3VHlwZSA9IFZLX0lNQUdFX1ZJRVdfVFlQRV8yRDsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby5mb3JtYXQgPSByZW5kZXJQYXNzLmNvbG9yRm10OwogICAgICAgICAgICBjb2xvclZpZXdJbmZvLmNvbXBvbmVudHMuciA9IFZLX0NPTVBPTkVOVF9TV0laWkxFX1I7CiAgICAgICAgICAgIGNvbG9yVmlld0luZm8uY29tcG9uZW50cy5nID0gVktfQ09NUE9ORU5UX1NXSVpaTEVfRzsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby5jb21wb25lbnRzLmIgPSBWS19DT01QT05FTlRfU1dJWlpMRV9COwogICAgICAgICAgICBjb2xvclZpZXdJbmZvLmNvbXBvbmVudHMuYSA9IFZLX0NPTVBPTkVOVF9TV0laWkxFX0E7CiAgICAgICAgICAgIGNvbG9yVmlld0luZm8uc3VicmVzb3VyY2VSYW5nZS5hc3BlY3RNYXNrID0gVktfSU1BR0VfQVNQRUNUX0NPTE9SX0JJVDsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmJhc2VNaXBMZXZlbCA9IDA7CiAgICAgICAgICAgIGNvbG9yVmlld0luZm8uc3VicmVzb3VyY2VSYW5nZS5sZXZlbENvdW50ID0gMTsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmJhc2VBcnJheUxheWVyID0gMDsKICAgICAgICAgICAgY29sb3JWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmxheWVyQ291bnQgPSAxOwogICAgICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZUltYWdlVmlldyhtX3ZrRGV2aWNlLCAmY29sb3JWaWV3SW5mbywgbnVsbHB0ciwgJmNvbG9yVmlldykpOwogICAgICAgICAgICBhdHRhY2htZW50c1thdHRhY2htZW50Q291bnQrK10gPSBjb2xvclZpZXc7CiAgICAgICAgfQoKICAgICAgICAvLyBDcmVhdGUgZGVwdGggaW1hZ2UgdmlldwogICAgICAgIGlmIChkZXB0aEltYWdlICE9IFZLX05VTExfSEFORExFKSB7CiAgICAgICAgICAgIFZrSW1hZ2VWaWV3Q3JlYXRlSW5mbyBkZXB0aFZpZXdJbmZve1ZLX1NUUlVDVFVSRV9UWVBFX0lNQUdFX1ZJRVdfQ1JFQVRFX0lORk99OwogICAgICAgICAgICBkZXB0aFZpZXdJbmZvLmltYWdlID0gZGVwdGhJbWFnZTsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby52aWV3VHlwZSA9IFZLX0lNQUdFX1ZJRVdfVFlQRV8yRDsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby5mb3JtYXQgPSByZW5kZXJQYXNzLmRlcHRoRm10OwogICAgICAgICAgICBkZXB0aFZpZXdJbmZvLmNvbXBvbmVudHMuciA9IFZLX0NPTVBPTkVOVF9TV0laWkxFX1I7CiAgICAgICAgICAgIGRlcHRoVmlld0luZm8uY29tcG9uZW50cy5nID0gVktfQ09NUE9ORU5UX1NXSVpaTEVfRzsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby5jb21wb25lbnRzLmIgPSBWS19DT01QT05FTlRfU1dJWlpMRV9COwogICAgICAgICAgICBkZXB0aFZpZXdJbmZvLmNvbXBvbmVudHMuYSA9IFZLX0NPTVBPTkVOVF9TV0laWkxFX0E7CiAgICAgICAgICAgIGRlcHRoVmlld0luZm8uc3VicmVzb3VyY2VSYW5nZS5hc3BlY3RNYXNrID0gVktfSU1BR0VfQVNQRUNUX0RFUFRIX0JJVDsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmJhc2VNaXBMZXZlbCA9IDA7CiAgICAgICAgICAgIGRlcHRoVmlld0luZm8uc3VicmVzb3VyY2VSYW5nZS5sZXZlbENvdW50ID0gMTsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmJhc2VBcnJheUxheWVyID0gMDsKICAgICAgICAgICAgZGVwdGhWaWV3SW5mby5zdWJyZXNvdXJjZVJhbmdlLmxheWVyQ291bnQgPSAxOwogICAgICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZUltYWdlVmlldyhtX3ZrRGV2aWNlLCAmZGVwdGhWaWV3SW5mbywgbnVsbHB0ciwgJmRlcHRoVmlldykpOwogICAgICAgICAgICBhdHRhY2htZW50c1thdHRhY2htZW50Q291bnQrK10gPSBkZXB0aFZpZXc7CiAgICAgICAgfQoKICAgICAgICBWa0ZyYW1lYnVmZmVyQ3JlYXRlSW5mbyBmYkluZm97VktfU1RSVUNUVVJFX1RZUEVfRlJBTUVCVUZGRVJfQ1JFQVRFX0lORk99OwogICAgICAgIGZiSW5mby5yZW5kZXJQYXNzID0gcmVuZGVyUGFzcy5wYXNzOwogICAgICAgIGZiSW5mby5hdHRhY2htZW50Q291bnQgPSBhdHRhY2htZW50Q291bnQ7CiAgICAgICAgZmJJbmZvLnBBdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzLmRhdGEoKTsKICAgICAgICBmYkluZm8ud2lkdGggPSBzaXplLndpZHRoOwogICAgICAgIGZiSW5mby5oZWlnaHQgPSBzaXplLmhlaWdodDsKICAgICAgICBmYkluZm8ubGF5ZXJzID0gMTsKICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZUZyYW1lYnVmZmVyKG1fdmtEZXZpY2UsICZmYkluZm8sIG51bGxwdHIsICZmYikpOwogICAgfQoKICAgIFJlbmRlclRhcmdldChjb25zdCBSZW5kZXJUYXJnZXQmKSA9IGRlbGV0ZTsKICAgIFJlbmRlclRhcmdldCYgb3BlcmF0b3I9KGNvbnN0IFJlbmRlclRhcmdldCYpID0gZGVsZXRlOwoKICAgcHJpdmF0ZToKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9Owp9OwoKLy8gU2ltcGxlIHZlcnRleCBNVlAgeGZvcm0gJiBjb2xvciBmcmFnbWVudCBzaGFkZXIgbGF5b3V0CnN0cnVjdCBQaXBlbGluZUxheW91dCB7CiAgICBWa1BpcGVsaW5lTGF5b3V0IGxheW91dHtWS19OVUxMX0hBTkRMRX07CgogICAgUGlwZWxpbmVMYXlvdXQoKSA9IGRlZmF1bHQ7CgogICAgflBpcGVsaW5lTGF5b3V0KCkgewogICAgICAgIGlmIChtX3ZrRGV2aWNlICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgaWYgKGxheW91dCAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95UGlwZWxpbmVMYXlvdXQobV92a0RldmljZSwgbGF5b3V0LCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsYXlvdXQgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBtX3ZrRGV2aWNlID0gbnVsbHB0cjsKICAgIH0KCiAgICB2b2lkIENyZWF0ZShWa0RldmljZSBkZXZpY2UpIHsKICAgICAgICBtX3ZrRGV2aWNlID0gZGV2aWNlOwoKICAgICAgICAvLyBNVlAgbWF0cml4IGlzIGEgcHVzaF9jb25zdGFudAogICAgICAgIFZrUHVzaENvbnN0YW50UmFuZ2UgcGNyID0ge307CiAgICAgICAgcGNyLnN0YWdlRmxhZ3MgPSBWS19TSEFERVJfU1RBR0VfVkVSVEVYX0JJVDsKICAgICAgICBwY3Iub2Zmc2V0ID0gMDsKICAgICAgICBwY3Iuc2l6ZSA9IDQgKiA0ICogc2l6ZW9mKGZsb2F0KTsKCiAgICAgICAgVmtQaXBlbGluZUxheW91dENyZWF0ZUluZm8gcGlwZWxpbmVMYXlvdXRDcmVhdGVJbmZve1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX0xBWU9VVF9DUkVBVEVfSU5GT307CiAgICAgICAgcGlwZWxpbmVMYXlvdXRDcmVhdGVJbmZvLnB1c2hDb25zdGFudFJhbmdlQ291bnQgPSAxOwogICAgICAgIHBpcGVsaW5lTGF5b3V0Q3JlYXRlSW5mby5wUHVzaENvbnN0YW50UmFuZ2VzID0gJnBjcjsKICAgICAgICBDSEVDS19WS0NNRCh2a0NyZWF0ZVBpcGVsaW5lTGF5b3V0KG1fdmtEZXZpY2UsICZwaXBlbGluZUxheW91dENyZWF0ZUluZm8sIG51bGxwdHIsICZsYXlvdXQpKTsKICAgIH0KCiAgICBQaXBlbGluZUxheW91dChjb25zdCBQaXBlbGluZUxheW91dCYpID0gZGVsZXRlOwogICAgUGlwZWxpbmVMYXlvdXQmIG9wZXJhdG9yPShjb25zdCBQaXBlbGluZUxheW91dCYpID0gZGVsZXRlOwogICAgUGlwZWxpbmVMYXlvdXQoUGlwZWxpbmVMYXlvdXQmJikgPSBkZWxldGU7CiAgICBQaXBlbGluZUxheW91dCYgb3BlcmF0b3I9KFBpcGVsaW5lTGF5b3V0JiYpID0gZGVsZXRlOwoKICAgcHJpdmF0ZToKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9Owp9OwoKLy8gUGlwZWxpbmUgd3JhcHBlciBmb3IgcmVuZGVyaW5nIHBpcGVsaW5lIHN0YXRlCnN0cnVjdCBQaXBlbGluZSB7CiAgICBWa1BpcGVsaW5lIHBpcGV7VktfTlVMTF9IQU5ETEV9OwogICAgVmtQcmltaXRpdmVUb3BvbG9neSB0b3BvbG9neXtWS19QUklNSVRJVkVfVE9QT0xPR1lfVFJJQU5HTEVfTElTVH07CiAgICBzdGQ6OnZlY3RvcjxWa0R5bmFtaWNTdGF0ZT4gZHluYW1pY1N0YXRlRW5hYmxlczsKCiAgICBQaXBlbGluZSgpID0gZGVmYXVsdDsKCiAgICB2b2lkIER5bmFtaWMoVmtEeW5hbWljU3RhdGUgc3RhdGUpIHsgZHluYW1pY1N0YXRlRW5hYmxlcy5lbXBsYWNlX2JhY2soc3RhdGUpOyB9CgogICAgdm9pZCBDcmVhdGUoVmtEZXZpY2UgZGV2aWNlLCBWa0V4dGVudDJEIHNpemUsIGNvbnN0IFBpcGVsaW5lTGF5b3V0JiBsYXlvdXQsIGNvbnN0IFJlbmRlclBhc3MmIHJwLCBjb25zdCBTaGFkZXJQcm9ncmFtJiBzcCwKICAgICAgICAgICAgICAgIGNvbnN0IFZlcnRleEJ1ZmZlckJhc2UmIHZiKSB7CiAgICAgICAgbV92a0RldmljZSA9IGRldmljZTsKCiAgICAgICAgVmtQaXBlbGluZUR5bmFtaWNTdGF0ZUNyZWF0ZUluZm8gZHluYW1pY1N0YXRle1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX0RZTkFNSUNfU1RBVEVfQ1JFQVRFX0lORk99OwogICAgICAgIGR5bmFtaWNTdGF0ZS5keW5hbWljU3RhdGVDb3VudCA9ICh1aW50MzJfdClkeW5hbWljU3RhdGVFbmFibGVzLnNpemUoKTsKICAgICAgICBkeW5hbWljU3RhdGUucER5bmFtaWNTdGF0ZXMgPSBkeW5hbWljU3RhdGVFbmFibGVzLmRhdGEoKTsKCiAgICAgICAgVmtQaXBlbGluZVZlcnRleElucHV0U3RhdGVDcmVhdGVJbmZvIHZpe1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX1ZFUlRFWF9JTlBVVF9TVEFURV9DUkVBVEVfSU5GT307CiAgICAgICAgdmkudmVydGV4QmluZGluZ0Rlc2NyaXB0aW9uQ291bnQgPSAxOwogICAgICAgIHZpLnBWZXJ0ZXhCaW5kaW5nRGVzY3JpcHRpb25zID0gJnZiLmJpbmREZXNjOwogICAgICAgIHZpLnZlcnRleEF0dHJpYnV0ZURlc2NyaXB0aW9uQ291bnQgPSAodWludDMyX3QpdmIuYXR0ckRlc2Muc2l6ZSgpOwogICAgICAgIHZpLnBWZXJ0ZXhBdHRyaWJ1dGVEZXNjcmlwdGlvbnMgPSB2Yi5hdHRyRGVzYy5kYXRhKCk7CgogICAgICAgIFZrUGlwZWxpbmVJbnB1dEFzc2VtYmx5U3RhdGVDcmVhdGVJbmZvIGlhe1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX0lOUFVUX0FTU0VNQkxZX1NUQVRFX0NSRUFURV9JTkZPfTsKICAgICAgICBpYS5wcmltaXRpdmVSZXN0YXJ0RW5hYmxlID0gVktfRkFMU0U7CiAgICAgICAgaWEudG9wb2xvZ3kgPSB0b3BvbG9neTsKCiAgICAgICAgVmtQaXBlbGluZVJhc3Rlcml6YXRpb25TdGF0ZUNyZWF0ZUluZm8gcnN7VktfU1RSVUNUVVJFX1RZUEVfUElQRUxJTkVfUkFTVEVSSVpBVElPTl9TVEFURV9DUkVBVEVfSU5GT307CiAgICAgICAgcnMucG9seWdvbk1vZGUgPSBWS19QT0xZR09OX01PREVfRklMTDsKICAgICAgICBycy5jdWxsTW9kZSA9IFZLX0NVTExfTU9ERV9CQUNLX0JJVDsKICAgICAgICBycy5mcm9udEZhY2UgPSBWS19GUk9OVF9GQUNFX0NMT0NLV0lTRTsKICAgICAgICBycy5kZXB0aENsYW1wRW5hYmxlID0gVktfRkFMU0U7CiAgICAgICAgcnMucmFzdGVyaXplckRpc2NhcmRFbmFibGUgPSBWS19GQUxTRTsKICAgICAgICBycy5kZXB0aEJpYXNFbmFibGUgPSBWS19GQUxTRTsKICAgICAgICBycy5kZXB0aEJpYXNDb25zdGFudEZhY3RvciA9IDA7CiAgICAgICAgcnMuZGVwdGhCaWFzQ2xhbXAgPSAwOwogICAgICAgIHJzLmRlcHRoQmlhc1Nsb3BlRmFjdG9yID0gMDsKICAgICAgICBycy5saW5lV2lkdGggPSAxLjBmOwoKICAgICAgICBWa1BpcGVsaW5lQ29sb3JCbGVuZEF0dGFjaG1lbnRTdGF0ZSBhdHRhY2hTdGF0ZXt9OwogICAgICAgIGF0dGFjaFN0YXRlLmJsZW5kRW5hYmxlID0gMDsKICAgICAgICBhdHRhY2hTdGF0ZS5zcmNDb2xvckJsZW5kRmFjdG9yID0gVktfQkxFTkRfRkFDVE9SX09ORTsKICAgICAgICBhdHRhY2hTdGF0ZS5kc3RDb2xvckJsZW5kRmFjdG9yID0gVktfQkxFTkRfRkFDVE9SX1pFUk87CiAgICAgICAgYXR0YWNoU3RhdGUuY29sb3JCbGVuZE9wID0gVktfQkxFTkRfT1BfQUREOwogICAgICAgIGF0dGFjaFN0YXRlLnNyY0FscGhhQmxlbmRGYWN0b3IgPSBWS19CTEVORF9GQUNUT1JfT05FOwogICAgICAgIGF0dGFjaFN0YXRlLmRzdEFscGhhQmxlbmRGYWN0b3IgPSBWS19CTEVORF9GQUNUT1JfWkVSTzsKICAgICAgICBhdHRhY2hTdGF0ZS5hbHBoYUJsZW5kT3AgPSBWS19CTEVORF9PUF9BREQ7CiAgICAgICAgYXR0YWNoU3RhdGUuY29sb3JXcml0ZU1hc2sgPQogICAgICAgICAgICBWS19DT0xPUl9DT01QT05FTlRfUl9CSVQgfCBWS19DT0xPUl9DT01QT05FTlRfR19CSVQgfCBWS19DT0xPUl9DT01QT05FTlRfQl9CSVQgfCBWS19DT0xPUl9DT01QT05FTlRfQV9CSVQ7CgogICAgICAgIFZrUGlwZWxpbmVDb2xvckJsZW5kU3RhdGVDcmVhdGVJbmZvIGNie1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX0NPTE9SX0JMRU5EX1NUQVRFX0NSRUFURV9JTkZPfTsKICAgICAgICBjYi5hdHRhY2htZW50Q291bnQgPSAxOwogICAgICAgIGNiLnBBdHRhY2htZW50cyA9ICZhdHRhY2hTdGF0ZTsKICAgICAgICBjYi5sb2dpY09wRW5hYmxlID0gVktfRkFMU0U7CiAgICAgICAgY2IubG9naWNPcCA9IFZLX0xPR0lDX09QX05PX09QOwogICAgICAgIGNiLmJsZW5kQ29uc3RhbnRzWzBdID0gMS4wZjsKICAgICAgICBjYi5ibGVuZENvbnN0YW50c1sxXSA9IDEuMGY7CiAgICAgICAgY2IuYmxlbmRDb25zdGFudHNbMl0gPSAxLjBmOwogICAgICAgIGNiLmJsZW5kQ29uc3RhbnRzWzNdID0gMS4wZjsKCiAgICAgICAgVmtSZWN0MkQgc2Npc3NvciA9IHt7MCwgMH0sIHNpemV9OwojaWYgZGVmaW5lZChPUklHSU5fQk9UVE9NX0xFRlQpCiAgICAgICAgLy8gRmxpcHBlZCB2aWV3IHNvIG9yaWdpbiBpcyBib3R0b20tbGVmdCBsaWtlIEdMIChyZXF1aXJlcyBWS19LSFJfbWFpbnRlbmFuY2UxKQogICAgICAgIFZrVmlld3BvcnQgdmlld3BvcnQgPSB7MC4wZiwgKGZsb2F0KXNpemUuaGVpZ2h0LCAoZmxvYXQpc2l6ZS53aWR0aCwgLShmbG9hdClzaXplLmhlaWdodCwgMC4wZiwgMS4wZn07CiNlbHNlCiAgICAgICAgLy8gV2lsbCBpbnZlcnQgeSBhZnRlciBwcm9qZWN0aW9uCiAgICAgICAgVmtWaWV3cG9ydCB2aWV3cG9ydCA9IHswLjBmLCAwLjBmLCAoZmxvYXQpc2l6ZS53aWR0aCwgKGZsb2F0KXNpemUuaGVpZ2h0LCAwLjBmLCAxLjBmfTsKI2VuZGlmCiAgICAgICAgVmtQaXBlbGluZVZpZXdwb3J0U3RhdGVDcmVhdGVJbmZvIHZwe1ZLX1NUUlVDVFVSRV9UWVBFX1BJUEVMSU5FX1ZJRVdQT1JUX1NUQVRFX0NSRUFURV9JTkZPfTsKICAgICAgICB2cC52aWV3cG9ydENvdW50ID0gMTsKICAgICAgICB2cC5wVmlld3BvcnRzID0gJnZpZXdwb3J0OwogICAgICAgIHZwLnNjaXNzb3JDb3VudCA9IDE7CiAgICAgICAgdnAucFNjaXNzb3JzID0gJnNjaXNzb3I7CgogICAgICAgIFZrUGlwZWxpbmVEZXB0aFN0ZW5jaWxTdGF0ZUNyZWF0ZUluZm8gZHN7VktfU1RSVUNUVVJFX1RZUEVfUElQRUxJTkVfREVQVEhfU1RFTkNJTF9TVEFURV9DUkVBVEVfSU5GT307CiAgICAgICAgZHMuZGVwdGhUZXN0RW5hYmxlID0gVktfVFJVRTsKICAgICAgICBkcy5kZXB0aFdyaXRlRW5hYmxlID0gVktfVFJVRTsKICAgICAgICBkcy5kZXB0aENvbXBhcmVPcCA9IFZLX0NPTVBBUkVfT1BfTEVTUzsKICAgICAgICBkcy5kZXB0aEJvdW5kc1Rlc3RFbmFibGUgPSBWS19GQUxTRTsKICAgICAgICBkcy5zdGVuY2lsVGVzdEVuYWJsZSA9IFZLX0ZBTFNFOwogICAgICAgIGRzLmZyb250LmZhaWxPcCA9IFZLX1NURU5DSUxfT1BfS0VFUDsKICAgICAgICBkcy5mcm9udC5wYXNzT3AgPSBWS19TVEVOQ0lMX09QX0tFRVA7CiAgICAgICAgZHMuZnJvbnQuZGVwdGhGYWlsT3AgPSBWS19TVEVOQ0lMX09QX0tFRVA7CiAgICAgICAgZHMuZnJvbnQuY29tcGFyZU9wID0gVktfQ09NUEFSRV9PUF9BTFdBWVM7CiAgICAgICAgZHMuYmFjayA9IGRzLmZyb250OwogICAgICAgIGRzLm1pbkRlcHRoQm91bmRzID0gMC4wZjsKICAgICAgICBkcy5tYXhEZXB0aEJvdW5kcyA9IDEuMGY7CgogICAgICAgIFZrUGlwZWxpbmVNdWx0aXNhbXBsZVN0YXRlQ3JlYXRlSW5mbyBtc3tWS19TVFJVQ1RVUkVfVFlQRV9QSVBFTElORV9NVUxUSVNBTVBMRV9TVEFURV9DUkVBVEVfSU5GT307CiAgICAgICAgbXMucmFzdGVyaXphdGlvblNhbXBsZXMgPSBWS19TQU1QTEVfQ09VTlRfMV9CSVQ7CgogICAgICAgIFZrR3JhcGhpY3NQaXBlbGluZUNyZWF0ZUluZm8gcGlwZUluZm97VktfU1RSVUNUVVJFX1RZUEVfR1JBUEhJQ1NfUElQRUxJTkVfQ1JFQVRFX0lORk99OwogICAgICAgIHBpcGVJbmZvLnN0YWdlQ291bnQgPSAodWludDMyX3Qpc3Auc2hhZGVySW5mby5zaXplKCk7CiAgICAgICAgcGlwZUluZm8ucFN0YWdlcyA9IHNwLnNoYWRlckluZm8uZGF0YSgpOwogICAgICAgIHBpcGVJbmZvLnBWZXJ0ZXhJbnB1dFN0YXRlID0gJnZpOwogICAgICAgIHBpcGVJbmZvLnBJbnB1dEFzc2VtYmx5U3RhdGUgPSAmaWE7CiAgICAgICAgcGlwZUluZm8ucFRlc3NlbGxhdGlvblN0YXRlID0gbnVsbHB0cjsKICAgICAgICBwaXBlSW5mby5wVmlld3BvcnRTdGF0ZSA9ICZ2cDsKICAgICAgICBwaXBlSW5mby5wUmFzdGVyaXphdGlvblN0YXRlID0gJnJzOwogICAgICAgIHBpcGVJbmZvLnBNdWx0aXNhbXBsZVN0YXRlID0gJm1zOwogICAgICAgIHBpcGVJbmZvLnBEZXB0aFN0ZW5jaWxTdGF0ZSA9ICZkczsKICAgICAgICBwaXBlSW5mby5wQ29sb3JCbGVuZFN0YXRlID0gJmNiOwogICAgICAgIGlmIChkeW5hbWljU3RhdGUuZHluYW1pY1N0YXRlQ291bnQgPiAwKSB7CiAgICAgICAgICAgIHBpcGVJbmZvLnBEeW5hbWljU3RhdGUgPSAmZHluYW1pY1N0YXRlOwogICAgICAgIH0KICAgICAgICBwaXBlSW5mby5sYXlvdXQgPSBsYXlvdXQubGF5b3V0OwogICAgICAgIHBpcGVJbmZvLnJlbmRlclBhc3MgPSBycC5wYXNzOwogICAgICAgIHBpcGVJbmZvLnN1YnBhc3MgPSAwOwogICAgICAgIENIRUNLX1ZLQ01EKHZrQ3JlYXRlR3JhcGhpY3NQaXBlbGluZXMobV92a0RldmljZSwgVktfTlVMTF9IQU5ETEUsIDEsICZwaXBlSW5mbywgbnVsbHB0ciwgJnBpcGUpKTsKICAgIH0KCiAgICB2b2lkIFJlbGVhc2UoKSB7CiAgICAgICAgaWYgKG1fdmtEZXZpY2UgIT0gbnVsbHB0cikgewogICAgICAgICAgICBpZiAocGlwZSAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtEZXN0cm95UGlwZWxpbmUobV92a0RldmljZSwgcGlwZSwgbnVsbHB0cik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcGlwZSA9IFZLX05VTExfSEFORExFOwogICAgICAgIG1fdmtEZXZpY2UgPSBudWxscHRyOwogICAgfQoKICAgcHJpdmF0ZToKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9Owp9OwoKc3RydWN0IERlcHRoQnVmZmVyIHsKICAgIFZrRGV2aWNlTWVtb3J5IGRlcHRoTWVtb3J5e1ZLX05VTExfSEFORExFfTsKICAgIFZrSW1hZ2UgZGVwdGhJbWFnZXtWS19OVUxMX0hBTkRMRX07CgogICAgRGVwdGhCdWZmZXIoKSA9IGRlZmF1bHQ7CgogICAgfkRlcHRoQnVmZmVyKCkgewogICAgICAgIGlmIChtX3ZrRGV2aWNlICE9IG51bGxwdHIpIHsKICAgICAgICAgICAgaWYgKGRlcHRoSW1hZ2UgIT0gVktfTlVMTF9IQU5ETEUpIHsKICAgICAgICAgICAgICAgIHZrRGVzdHJveUltYWdlKG1fdmtEZXZpY2UsIGRlcHRoSW1hZ2UsIG51bGxwdHIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkZXB0aE1lbW9yeSAhPSBWS19OVUxMX0hBTkRMRSkgewogICAgICAgICAgICAgICAgdmtGcmVlTWVtb3J5KG1fdmtEZXZpY2UsIGRlcHRoTWVtb3J5LCBudWxscHRyKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkZXB0aEltYWdlID0gVktfTlVMTF9IQU5ETEU7CiAgICAgICAgZGVwdGhNZW1vcnkgPSBWS19OVUxMX0hBTkRMRTsKICAgICAgICBtX3ZrRGV2aWNlID0gbnVsbHB0cjsKICAgIH0KCiAgICBEZXB0aEJ1ZmZlcihEZXB0aEJ1ZmZlciYmIG90aGVyKSBub2V4Y2VwdCA6IERlcHRoQnVmZmVyKCkgewogICAgICAgIHVzaW5nIHN0ZDo6c3dhcDsKCiAgICAgICAgc3dhcChkZXB0aEltYWdlLCBvdGhlci5kZXB0aEltYWdlKTsKICAgICAgICBzd2FwKGRlcHRoTWVtb3J5LCBvdGhlci5kZXB0aE1lbW9yeSk7CiAgICAgICAgc3dhcChtX3ZrRGV2aWNlLCBvdGhlci5tX3ZrRGV2aWNlKTsKICAgIH0KICAgIERlcHRoQnVmZmVyJiBvcGVyYXRvcj0oRGVwdGhCdWZmZXImJiBvdGhlcikgbm9leGNlcHQgewogICAgICAgIGlmICgmb3RoZXIgPT0gdGhpcykgewogICAgICAgICAgICByZXR1cm4gKnRoaXM7CiAgICAgICAgfQogICAgICAgIC8vIGNsZWFuIHVwIHNlbGYKICAgICAgICB0aGlzLT5+RGVwdGhCdWZmZXIoKTsKICAgICAgICB1c2luZyBzdGQ6OnN3YXA7CgogICAgICAgIHN3YXAoZGVwdGhJbWFnZSwgb3RoZXIuZGVwdGhJbWFnZSk7CiAgICAgICAgc3dhcChkZXB0aE1lbW9yeSwgb3RoZXIuZGVwdGhNZW1vcnkpOwogICAgICAgIHN3YXAobV92a0RldmljZSwgb3RoZXIubV92a0RldmljZSk7CiAgICAgICAgcmV0dXJuICp0aGlzOwogICAgfQoKICAgIHZvaWQgQ3JlYXRlKFZrRGV2aWNlIGRldmljZSwgTWVtb3J5QWxsb2NhdG9yKiBtZW1BbGxvY2F0b3IsIFZrRm9ybWF0IGRlcHRoRm9ybWF0LAogICAgICAgICAgICAgICAgY29uc3QgWHJTd2FwY2hhaW5DcmVhdGVJbmZvJiBzd2FwY2hhaW5DcmVhdGVJbmZvKSB7CiAgICAgICAgbV92a0RldmljZSA9IGRldmljZTsKCiAgICAgICAgVmtFeHRlbnQyRCBzaXplID0ge3N3YXBjaGFpbkNyZWF0ZUluZm8ud2lkdGgsIHN3YXBjaGFpbkNyZWF0ZUluZm8uaGVpZ2h0fTsKCiAgICAgICAgLy8gQ3JlYXRlIGEgRDMyIGRlcHRoYnVmZmVyCiAgICAgICAgVmtJbWFnZUNyZWF0ZUluZm8gaW1hZ2VJbmZve1ZLX1NUUlVDVFVSRV9UWVBFX0lNQUdFX0NSRUFURV9JTkZPfTsKICAgICAgICBpbWFnZUluZm8uaW1hZ2VUeXBlID0gVktfSU1BR0VfVFlQRV8yRDsKICAgICAgICBpbWFnZUluZm8uZXh0ZW50LndpZHRoID0gc2l6ZS53aWR0aDsKICAgICAgICBpbWFnZUluZm8uZXh0ZW50LmhlaWdodCA9IHNpemUuaGVpZ2h0OwogICAgICAgIGltYWdlSW5mby5leHRlbnQuZGVwdGggPSAxOwogICAgICAgIGltYWdlSW5mby5taXBMZXZlbHMgPSAxOwogICAgICAgIGltYWdlSW5mby5hcnJheUxheWVycyA9IDE7CiAgICAgICAgaW1hZ2VJbmZvLmZvcm1hdCA9IGRlcHRoRm9ybWF0OwogICAgICAgIGltYWdlSW5mby50aWxpbmcgPSBWS19JTUFHRV9USUxJTkdfT1BUSU1BTDsKICAgICAgICBpbWFnZUluZm8uaW5pdGlhbExheW91dCA9IFZLX0lNQUdFX0xBWU9VVF9VTkRFRklORUQ7CiAgICAgICAgaW1hZ2VJbmZvLnVzYWdlID0gVktfSU1BR0VfVVNBR0VfREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UX0JJVDsKICAgICAgICBpbWFnZUluZm8uc2FtcGxlcyA9IChWa1NhbXBsZUNvdW50RmxhZ0JpdHMpc3dhcGNoYWluQ3JlYXRlSW5mby5zYW1wbGVDb3VudDsKICAgICAgICBpbWFnZUluZm8uc2hhcmluZ01vZGUgPSBWS19TSEFSSU5HX01PREVfRVhDTFVTSVZFOwogICAgICAgIENIRUNLX1ZLQ01EKHZrQ3JlYXRlSW1hZ2UoZGV2aWNlLCAmaW1hZ2VJbmZvLCBudWxscHRyLCAmZGVwdGhJbWFnZSkpOwoKICAgICAgICBWa01lbW9yeVJlcXVpcmVtZW50cyBtZW1SZXF1aXJlbWVudHN7fTsKICAgICAgICB2a0dldEltYWdlTWVtb3J5UmVxdWlyZW1lbnRzKGRldmljZSwgZGVwdGhJbWFnZSwgJm1lbVJlcXVpcmVtZW50cyk7CiAgICAgICAgbWVtQWxsb2NhdG9yLT5BbGxvY2F0ZShtZW1SZXF1aXJlbWVudHMsICZkZXB0aE1lbW9yeSwgVktfTUVNT1JZX1BST1BFUlRZX0RFVklDRV9MT0NBTF9CSVQpOwogICAgICAgIENIRUNLX1ZLQ01EKHZrQmluZEltYWdlTWVtb3J5KGRldmljZSwgZGVwdGhJbWFnZSwgZGVwdGhNZW1vcnksIDApKTsKICAgIH0KCiAgICB2b2lkIFRyYW5zaXRpb25MYXlvdXQoQ21kQnVmZmVyKiBjbWRCdWZmZXIsIFZrSW1hZ2VMYXlvdXQgbmV3TGF5b3V0KSB7CiAgICAgICAgaWYgKG5ld0xheW91dCA9PSBtX3ZrTGF5b3V0KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIFZrSW1hZ2VNZW1vcnlCYXJyaWVyIGRlcHRoQmFycmllcntWS19TVFJVQ1RVUkVfVFlQRV9JTUFHRV9NRU1PUllfQkFSUklFUn07CiAgICAgICAgZGVwdGhCYXJyaWVyLnNyY0FjY2Vzc01hc2sgPSBWS19BQ0NFU1NfREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UX1dSSVRFX0JJVDsKICAgICAgICBkZXB0aEJhcnJpZXIuZHN0QWNjZXNzTWFzayA9IFZLX0FDQ0VTU19ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRfUkVBRF9CSVQ7CiAgICAgICAgZGVwdGhCYXJyaWVyLm9sZExheW91dCA9IG1fdmtMYXlvdXQ7CiAgICAgICAgZGVwdGhCYXJyaWVyLm5ld0xheW91dCA9IG5ld0xheW91dDsKICAgICAgICBkZXB0aEJhcnJpZXIuaW1hZ2UgPSBkZXB0aEltYWdlOwogICAgICAgIGRlcHRoQmFycmllci5zdWJyZXNvdXJjZVJhbmdlID0ge1ZLX0lNQUdFX0FTUEVDVF9ERVBUSF9CSVQsIDAsIDEsIDAsIDF9OwogICAgICAgIHZrQ21kUGlwZWxpbmVCYXJyaWVyKGNtZEJ1ZmZlci0+YnVmLCBWS19QSVBFTElORV9TVEFHRV9BTExfR1JBUEhJQ1NfQklULCBWS19QSVBFTElORV9TVEFHRV9BTExfR1JBUEhJQ1NfQklULCAwLCAwLCBudWxscHRyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIG51bGxwdHIsIDEsICZkZXB0aEJhcnJpZXIpOwoKICAgICAgICBtX3ZrTGF5b3V0ID0gbmV3TGF5b3V0OwogICAgfQoKICAgIERlcHRoQnVmZmVyKGNvbnN0IERlcHRoQnVmZmVyJikgPSBkZWxldGU7CiAgICBEZXB0aEJ1ZmZlciYgb3BlcmF0b3I9KGNvbnN0IERlcHRoQnVmZmVyJikgPSBkZWxldGU7CgogICBwcml2YXRlOgogICAgVmtEZXZpY2UgbV92a0RldmljZXtWS19OVUxMX0hBTkRMRX07CiAgICBWa0ltYWdlTGF5b3V0IG1fdmtMYXlvdXQgPSBWS19JTUFHRV9MQVlPVVRfVU5ERUZJTkVEOwp9OwoKc3RydWN0IFN3YXBjaGFpbkltYWdlQ29udGV4dCB7CiAgICBTd2FwY2hhaW5JbWFnZUNvbnRleHQoWHJTdHJ1Y3R1cmVUeXBlIF9zd2FwY2hhaW5JbWFnZVR5cGUpIDogc3dhcGNoYWluSW1hZ2VUeXBlKF9zd2FwY2hhaW5JbWFnZVR5cGUpIHt9CgogICAgLy8gQSBwYWNrZWQgYXJyYXkgb2YgWHJTd2FwY2hhaW5JbWFnZVZ1bGthbjJLSFIncyBmb3IgeHJFbnVtZXJhdGVTd2FwY2hhaW5JbWFnZXMKICAgIHN0ZDo6dmVjdG9yPFhyU3dhcGNoYWluSW1hZ2VWdWxrYW4yS0hSPiBzd2FwY2hhaW5JbWFnZXM7CiAgICBzdGQ6OnZlY3RvcjxSZW5kZXJUYXJnZXQ+IHJlbmRlclRhcmdldDsKICAgIFZrRXh0ZW50MkQgc2l6ZXt9OwogICAgRGVwdGhCdWZmZXIgZGVwdGhCdWZmZXJ7fTsKICAgIFJlbmRlclBhc3MgcnB7fTsKICAgIFBpcGVsaW5lIHBpcGV7fTsKICAgIFhyU3RydWN0dXJlVHlwZSBzd2FwY2hhaW5JbWFnZVR5cGU7CgogICAgU3dhcGNoYWluSW1hZ2VDb250ZXh0KCkgPSBkZWZhdWx0OwoKICAgIHN0ZDo6dmVjdG9yPFhyU3dhcGNoYWluSW1hZ2VCYXNlSGVhZGVyKj4gQ3JlYXRlKFZrRGV2aWNlIGRldmljZSwgTWVtb3J5QWxsb2NhdG9yKiBtZW1BbGxvY2F0b3IsIHVpbnQzMl90IGNhcGFjaXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgWHJTd2FwY2hhaW5DcmVhdGVJbmZvJiBzd2FwY2hhaW5DcmVhdGVJbmZvLCBjb25zdCBQaXBlbGluZUxheW91dCYgbGF5b3V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgU2hhZGVyUHJvZ3JhbSYgc3AsIGNvbnN0IFZlcnRleEJ1ZmZlcjxHZW9tZXRyeTo6VmVydGV4PiYgdmIpIHsKICAgICAgICBtX3ZrRGV2aWNlID0gZGV2aWNlOwoKICAgICAgICBzaXplID0ge3N3YXBjaGFpbkNyZWF0ZUluZm8ud2lkdGgsIHN3YXBjaGFpbkNyZWF0ZUluZm8uaGVpZ2h0fTsKICAgICAgICBWa0Zvcm1hdCBjb2xvckZvcm1hdCA9IChWa0Zvcm1hdClzd2FwY2hhaW5DcmVhdGVJbmZvLmZvcm1hdDsKICAgICAgICBWa0Zvcm1hdCBkZXB0aEZvcm1hdCA9IFZLX0ZPUk1BVF9EMjRfVU5PUk1fUzhfVUlOVDsKICAgICAgICAvLyBYWFggaGFuZGxlIHN3YXBjaGFpbkNyZWF0ZUluZm8uc2FtcGxlQ291bnQKCiAgICAgICAgZGVwdGhCdWZmZXIuQ3JlYXRlKG1fdmtEZXZpY2UsIG1lbUFsbG9jYXRvciwgZGVwdGhGb3JtYXQsIHN3YXBjaGFpbkNyZWF0ZUluZm8pOwogICAgICAgIHJwLkNyZWF0ZShtX3ZrRGV2aWNlLCBjb2xvckZvcm1hdCwgZGVwdGhGb3JtYXQpOwogICAgICAgIHBpcGUuQ3JlYXRlKG1fdmtEZXZpY2UsIHNpemUsIGxheW91dCwgcnAsIHNwLCB2Yik7CgogICAgICAgIHN3YXBjaGFpbkltYWdlcy5yZXNpemUoY2FwYWNpdHkpOwogICAgICAgIHJlbmRlclRhcmdldC5yZXNpemUoY2FwYWNpdHkpOwogICAgICAgIHN0ZDo6dmVjdG9yPFhyU3dhcGNoYWluSW1hZ2VCYXNlSGVhZGVyKj4gYmFzZXMoY2FwYWNpdHkpOwogICAgICAgIGZvciAodWludDMyX3QgaSA9IDA7IGkgPCBjYXBhY2l0eTsgKytpKSB7CiAgICAgICAgICAgIHN3YXBjaGFpbkltYWdlc1tpXSA9IHtzd2FwY2hhaW5JbWFnZVR5cGV9OwogICAgICAgICAgICBiYXNlc1tpXSA9IHJlaW50ZXJwcmV0X2Nhc3Q8WHJTd2FwY2hhaW5JbWFnZUJhc2VIZWFkZXIqPigmc3dhcGNoYWluSW1hZ2VzW2ldKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBiYXNlczsKICAgIH0KCiAgICB1aW50MzJfdCBJbWFnZUluZGV4KGNvbnN0IFhyU3dhcGNoYWluSW1hZ2VCYXNlSGVhZGVyKiBzd2FwY2hhaW5JbWFnZUhlYWRlcikgewogICAgICAgIGF1dG8gcCA9IHJlaW50ZXJwcmV0X2Nhc3Q8Y29uc3QgWHJTd2FwY2hhaW5JbWFnZVZ1bGthbjJLSFIqPihzd2FwY2hhaW5JbWFnZUhlYWRlcik7CiAgICAgICAgcmV0dXJuICh1aW50MzJfdCkocCAtICZzd2FwY2hhaW5JbWFnZXNbMF0pOwogICAgfQoKICAgIHZvaWQgQmluZFJlbmRlclRhcmdldCh1aW50MzJfdCBpbmRleCwgVmtSZW5kZXJQYXNzQmVnaW5JbmZvKiByZW5kZXJQYXNzQmVnaW5JbmZvKSB7CiAgICAgICAgaWYgKHJlbmRlclRhcmdldFtpbmRleF0uZmIgPT0gVktfTlVMTF9IQU5ETEUpIHsKICAgICAgICAgICAgcmVuZGVyVGFyZ2V0W2luZGV4XS5DcmVhdGUobV92a0RldmljZSwgc3dhcGNoYWluSW1hZ2VzW2luZGV4XS5pbWFnZSwgZGVwdGhCdWZmZXIuZGVwdGhJbWFnZSwgc2l6ZSwgcnApOwogICAgICAgIH0KICAgICAgICByZW5kZXJQYXNzQmVnaW5JbmZvLT5yZW5kZXJQYXNzID0gcnAucGFzczsKICAgICAgICByZW5kZXJQYXNzQmVnaW5JbmZvLT5mcmFtZWJ1ZmZlciA9IHJlbmRlclRhcmdldFtpbmRleF0uZmI7CiAgICAgICAgcmVuZGVyUGFzc0JlZ2luSW5mby0+cmVuZGVyQXJlYS5vZmZzZXQgPSB7MCwgMH07CiAgICAgICAgcmVuZGVyUGFzc0JlZ2luSW5mby0+cmVuZGVyQXJlYS5leHRlbnQgPSBzaXplOwogICAgfQoKICAgcHJpdmF0ZToKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9Owp9OwoKCgpzdHJ1Y3QgVnVsa2FuR3JhcGhpY3NQbHVnaW4gOiBwdWJsaWMgSUdyYXBoaWNzUGx1Z2luIHsKICAgIFZ1bGthbkdyYXBoaWNzUGx1Z2luKGNvbnN0IHN0ZDo6c2hhcmVkX3B0cjxPcHRpb25zPiYgLyp1bnVzZWQqLywgc3RkOjpzaGFyZWRfcHRyPElQbGF0Zm9ybVBsdWdpbj4gLyp1bnVzZWQqLykgewogICAgICAgIG1fZ3JhcGhpY3NCaW5kaW5nLnR5cGUgPSBHZXRHcmFwaGljc0JpbmRpbmdUeXBlKCk7CiAgICB9OwoKICAgIHN0ZDo6dmVjdG9yPHN0ZDo6c3RyaW5nPiBHZXRJbnN0YW5jZUV4dGVuc2lvbnMoKSBjb25zdCBvdmVycmlkZSB7IHJldHVybiB7WFJfS0hSX1ZVTEtBTl9FTkFCTEUyX0VYVEVOU0lPTl9OQU1FfTsgfQoKICAgIC8vIE5vdGU6IFRoZSBvdXRwdXQgbXVzdCBub3Qgb3V0bGl2ZSB0aGUgaW5wdXQgLSB0aGlzIG1vZGlmaWVzIHRoZSBpbnB1dCBhbmQgcmV0dXJucyBhIGNvbGxlY3Rpb24gb2Ygdmlld3MgaW50byB0aGF0IG1vZGlmaWVkCiAgICAvLyBpbnB1dCEKICAgIHN0ZDo6dmVjdG9yPGNvbnN0IGNoYXIqPiBQYXJzZUV4dGVuc2lvblN0cmluZyhjaGFyKiBuYW1lcykgewogICAgICAgIHN0ZDo6dmVjdG9yPGNvbnN0IGNoYXIqPiBsaXN0OwogICAgICAgIHdoaWxlICgqbmFtZXMgIT0gMCkgewogICAgICAgICAgICBsaXN0LnB1c2hfYmFjayhuYW1lcyk7CiAgICAgICAgICAgIHdoaWxlICgqKCsrbmFtZXMpICE9IDApIHsKICAgICAgICAgICAgICAgIGlmICgqbmFtZXMgPT0gJyAnKSB7CiAgICAgICAgICAgICAgICAgICAgKm5hbWVzKysgPSAnXDAnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIGNvbnN0IGNoYXIqIEdldFZhbGlkYXRpb25MYXllck5hbWUoKSB7CiAgICAgICAgdWludDMyX3QgbGF5ZXJDb3VudDsKICAgICAgICB2a0VudW1lcmF0ZUluc3RhbmNlTGF5ZXJQcm9wZXJ0aWVzKCZsYXllckNvdW50LCBudWxscHRyKTsKICAgICAgICBzdGQ6OnZlY3RvcjxWa0xheWVyUHJvcGVydGllcz4gYXZhaWxhYmxlTGF5ZXJzKGxheWVyQ291bnQpOwogICAgICAgIHZrRW51bWVyYXRlSW5zdGFuY2VMYXllclByb3BlcnRpZXMoJmxheWVyQ291bnQsIGF2YWlsYWJsZUxheWVycy5kYXRhKCkpOwoKICAgICAgICBzdGQ6OnZlY3Rvcjxjb25zdCBjaGFyKj4gdmFsaWRhdGlvbkxheWVyTmFtZXM7CiAgICAgICAgdmFsaWRhdGlvbkxheWVyTmFtZXMucHVzaF9iYWNrKCJWS19MQVlFUl9LSFJPTk9TX3ZhbGlkYXRpb24iKTsKICAgICAgICB2YWxpZGF0aW9uTGF5ZXJOYW1lcy5wdXNoX2JhY2soIlZLX0xBWUVSX0xVTkFSR19zdGFuZGFyZF92YWxpZGF0aW9uIik7CgogICAgICAgIC8vIEVuYWJsZSBvbmx5IG9uZSB2YWxpZGF0aW9uIGxheWVyIGZyb20gdGhlIGxpc3QgYWJvdmUuIFByZWZlciBLSFJPTk9TLgogICAgICAgIGZvciAoYXV0byYgdmFsaWRhdGlvbkxheWVyTmFtZSA6IHZhbGlkYXRpb25MYXllck5hbWVzKSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgYXV0byYgbGF5ZXJQcm9wZXJ0aWVzIDogYXZhaWxhYmxlTGF5ZXJzKSB7CiAgICAgICAgICAgICAgICBpZiAoMCA9PSBzdHJjbXAodmFsaWRhdGlvbkxheWVyTmFtZSwgbGF5ZXJQcm9wZXJ0aWVzLmxheWVyTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvbkxheWVyTmFtZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGxwdHI7CiAgICB9CgogICAgdm9pZCBJbml0aWFsaXplRGV2aWNlKFhySW5zdGFuY2UgaW5zdGFuY2UsIFhyU3lzdGVtSWQgc3lzdGVtSWQpIG92ZXJyaWRlIHsKICAgICAgICAvLyBDcmVhdGUgdGhlIFZ1bGthbiBkZXZpY2UgZm9yIHRoZSBhZGFwdGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3lzdGVtLgogICAgICAgIC8vIEV4dGVuc2lvbiBmdW5jdGlvbiBtdXN0IGJlIGxvYWRlZCBieSBuYW1lCiAgICAgICAgWHJHcmFwaGljc1JlcXVpcmVtZW50c1Z1bGthbjJLSFIgZ3JhcGhpY3NSZXF1aXJlbWVudHN7WFJfVFlQRV9HUkFQSElDU19SRVFVSVJFTUVOVFNfVlVMS0FOMl9LSFJ9OwogICAgICAgIENIRUNLX1hSQ01EKEdldFZ1bGthbkdyYXBoaWNzUmVxdWlyZW1lbnRzMktIUihpbnN0YW5jZSwgc3lzdGVtSWQsICZncmFwaGljc1JlcXVpcmVtZW50cykpOwoKICAgICAgICBWa1Jlc3VsdCBlcnI7CgogICAgICAgIHN0ZDo6dmVjdG9yPGNvbnN0IGNoYXIqPiBsYXllcnM7CiNpZiAhZGVmaW5lZChOREVCVUcpCiAgICAgICAgY29uc3QgY2hhciogY29uc3QgdmFsaWRhdGlvbkxheWVyTmFtZSA9IEdldFZhbGlkYXRpb25MYXllck5hbWUoKTsKICAgICAgICBpZiAodmFsaWRhdGlvbkxheWVyTmFtZSkgewogICAgICAgICAgICBsYXllcnMucHVzaF9iYWNrKHZhbGlkYXRpb25MYXllck5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIExvZzo6V3JpdGUoTG9nOjpMZXZlbDo6V2FybmluZywgIk5vIHZhbGlkYXRpb24gbGF5ZXJzIGZvdW5kIGluIHRoZSBzeXN0ZW0sIHNraXBwaW5nIik7CiAgICAgICAgfQojZW5kaWYKCiAgICAgICAgc3RkOjp2ZWN0b3I8Y29uc3QgY2hhcio+IGV4dGVuc2lvbnM7CiAgICAgICAgZXh0ZW5zaW9ucy5wdXNoX2JhY2soIlZLX0VYVF9kZWJ1Z19yZXBvcnQiKTsKCiAgICAgICAgVmtBcHBsaWNhdGlvbkluZm8gYXBwSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9BUFBMSUNBVElPTl9JTkZPfTsKICAgICAgICBhcHBJbmZvLnBBcHBsaWNhdGlvbk5hbWUgPSAicGljb19yZW1vdGluZ19wbGF5ZXIiOwogICAgICAgIGFwcEluZm8uYXBwbGljYXRpb25WZXJzaW9uID0gMTsKICAgICAgICBhcHBJbmZvLnBFbmdpbmVOYW1lID0gInBpY29fcmVtb3RpbmdfcGxheWVyIjsKICAgICAgICBhcHBJbmZvLmVuZ2luZVZlcnNpb24gPSAxOwogICAgICAgIGFwcEluZm8uYXBpVmVyc2lvbiA9IFZLX0FQSV9WRVJTSU9OXzFfMDsKCiAgICAgICAgVmtJbnN0YW5jZUNyZWF0ZUluZm8gaW5zdEluZm97VktfU1RSVUNUVVJFX1RZUEVfSU5TVEFOQ0VfQ1JFQVRFX0lORk99OwogICAgICAgIGluc3RJbmZvLnBBcHBsaWNhdGlvbkluZm8gPSAmYXBwSW5mbzsKICAgICAgICBpbnN0SW5mby5lbmFibGVkTGF5ZXJDb3VudCA9ICh1aW50MzJfdClsYXllcnMuc2l6ZSgpOwogICAgICAgIGluc3RJbmZvLnBwRW5hYmxlZExheWVyTmFtZXMgPSBsYXllcnMuZW1wdHkoKSA/IG51bGxwdHIgOiBsYXllcnMuZGF0YSgpOwogICAgICAgIGluc3RJbmZvLmVuYWJsZWRFeHRlbnNpb25Db3VudCA9ICh1aW50MzJfdClleHRlbnNpb25zLnNpemUoKTsKICAgICAgICBpbnN0SW5mby5wcEVuYWJsZWRFeHRlbnNpb25OYW1lcyA9IGV4dGVuc2lvbnMuZW1wdHkoKSA/IG51bGxwdHIgOiBleHRlbnNpb25zLmRhdGEoKTsKCiAgICAgICAgWHJWdWxrYW5JbnN0YW5jZUNyZWF0ZUluZm9LSFIgY3JlYXRlSW5mb3tYUl9UWVBFX1ZVTEtBTl9JTlNUQU5DRV9DUkVBVEVfSU5GT19LSFJ9OwogICAgICAgIGNyZWF0ZUluZm8uc3lzdGVtSWQgPSBzeXN0ZW1JZDsKICAgICAgICBjcmVhdGVJbmZvLnBmbkdldEluc3RhbmNlUHJvY0FkZHIgPSAmdmtHZXRJbnN0YW5jZVByb2NBZGRyOwogICAgICAgIGNyZWF0ZUluZm8udnVsa2FuQ3JlYXRlSW5mbyA9ICZpbnN0SW5mbzsKICAgICAgICBjcmVhdGVJbmZvLnZ1bGthbkFsbG9jYXRvciA9IG51bGxwdHI7CiAgICAgICAgQ0hFQ0tfWFJDTUQoQ3JlYXRlVnVsa2FuSW5zdGFuY2VLSFIoaW5zdGFuY2UsICZjcmVhdGVJbmZvLCAmbV92a0luc3RhbmNlLCAmZXJyKSk7CiAgICAgICAgQ0hFQ0tfVktDTUQoZXJyKTsKCiAgICAgICAgdmtDcmVhdGVEZWJ1Z1JlcG9ydENhbGxiYWNrRVhUID0KICAgICAgICAgICAgKFBGTl92a0NyZWF0ZURlYnVnUmVwb3J0Q2FsbGJhY2tFWFQpdmtHZXRJbnN0YW5jZVByb2NBZGRyKG1fdmtJbnN0YW5jZSwgInZrQ3JlYXRlRGVidWdSZXBvcnRDYWxsYmFja0VYVCIpOwogICAgICAgIHZrRGVzdHJveURlYnVnUmVwb3J0Q2FsbGJhY2tFWFQgPQogICAgICAgICAgICAoUEZOX3ZrRGVzdHJveURlYnVnUmVwb3J0Q2FsbGJhY2tFWFQpdmtHZXRJbnN0YW5jZVByb2NBZGRyKG1fdmtJbnN0YW5jZSwgInZrRGVzdHJveURlYnVnUmVwb3J0Q2FsbGJhY2tFWFQiKTsKICAgICAgICBWa0RlYnVnUmVwb3J0Q2FsbGJhY2tDcmVhdGVJbmZvRVhUIGRlYnVnSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9ERUJVR19SRVBPUlRfQ0FMTEJBQ0tfQ1JFQVRFX0lORk9fRVhUfTsKICAgICAgICBkZWJ1Z0luZm8uZmxhZ3MgPSBWS19ERUJVR19SRVBPUlRfRVJST1JfQklUX0VYVCB8IFZLX0RFQlVHX1JFUE9SVF9XQVJOSU5HX0JJVF9FWFQ7CiNpZiAhZGVmaW5lZChOREVCVUcpCiAgICAgICAgZGVidWdJbmZvLmZsYWdzIHw9CiAgICAgICAgICAgIFZLX0RFQlVHX1JFUE9SVF9JTkZPUk1BVElPTl9CSVRfRVhUIHwgVktfREVCVUdfUkVQT1JUX1BFUkZPUk1BTkNFX1dBUk5JTkdfQklUX0VYVCB8IFZLX0RFQlVHX1JFUE9SVF9ERUJVR19CSVRfRVhUOwojZW5kaWYKICAgICAgICBkZWJ1Z0luZm8ucGZuQ2FsbGJhY2sgPSBkZWJ1Z1JlcG9ydFRodW5rOwogICAgICAgIGRlYnVnSW5mby5wVXNlckRhdGEgPSB0aGlzOwogICAgICAgIENIRUNLX1ZLQ01EKHZrQ3JlYXRlRGVidWdSZXBvcnRDYWxsYmFja0VYVChtX3ZrSW5zdGFuY2UsICZkZWJ1Z0luZm8sIG51bGxwdHIsICZtX3ZrRGVidWdSZXBvcnRlcikpOwoKICAgICAgICBYclZ1bGthbkdyYXBoaWNzRGV2aWNlR2V0SW5mb0tIUiBkZXZpY2VHZXRJbmZve1hSX1RZUEVfVlVMS0FOX0dSQVBISUNTX0RFVklDRV9HRVRfSU5GT19LSFJ9OwogICAgICAgIGRldmljZUdldEluZm8uc3lzdGVtSWQgPSBzeXN0ZW1JZDsKICAgICAgICBkZXZpY2VHZXRJbmZvLnZ1bGthbkluc3RhbmNlID0gbV92a0luc3RhbmNlOwogICAgICAgIENIRUNLX1hSQ01EKEdldFZ1bGthbkdyYXBoaWNzRGV2aWNlMktIUihpbnN0YW5jZSwgJmRldmljZUdldEluZm8sICZtX3ZrUGh5c2ljYWxEZXZpY2UpKTsKCiAgICAgICAgVmtEZXZpY2VRdWV1ZUNyZWF0ZUluZm8gcXVldWVJbmZve1ZLX1NUUlVDVFVSRV9UWVBFX0RFVklDRV9RVUVVRV9DUkVBVEVfSU5GT307CiAgICAgICAgZmxvYXQgcXVldWVQcmlvcml0aWVzID0gMDsKICAgICAgICBxdWV1ZUluZm8ucXVldWVDb3VudCA9IDE7CiAgICAgICAgcXVldWVJbmZvLnBRdWV1ZVByaW9yaXRpZXMgPSAmcXVldWVQcmlvcml0aWVzOwoKICAgICAgICB1aW50MzJfdCBxdWV1ZUZhbWlseUNvdW50ID0gMDsKICAgICAgICB2a0dldFBoeXNpY2FsRGV2aWNlUXVldWVGYW1pbHlQcm9wZXJ0aWVzKG1fdmtQaHlzaWNhbERldmljZSwgJnF1ZXVlRmFtaWx5Q291bnQsIG51bGxwdHIpOwogICAgICAgIHN0ZDo6dmVjdG9yPFZrUXVldWVGYW1pbHlQcm9wZXJ0aWVzPiBxdWV1ZUZhbWlseVByb3BzKHF1ZXVlRmFtaWx5Q291bnQpOwogICAgICAgIHZrR2V0UGh5c2ljYWxEZXZpY2VRdWV1ZUZhbWlseVByb3BlcnRpZXMobV92a1BoeXNpY2FsRGV2aWNlLCAmcXVldWVGYW1pbHlDb3VudCwgJnF1ZXVlRmFtaWx5UHJvcHNbMF0pOwoKICAgICAgICBmb3IgKHVpbnQzMl90IGkgPSAwOyBpIDwgcXVldWVGYW1pbHlDb3VudDsgKytpKSB7CiAgICAgICAgICAgIC8vIE9ubHkgbmVlZCBncmFwaGljcyAobm90IHByZXNlbnRhdGlvbikgZm9yIGRyYXcgcXVldWUKICAgICAgICAgICAgaWYgKChxdWV1ZUZhbWlseVByb3BzW2ldLnF1ZXVlRmxhZ3MgJiBWS19RVUVVRV9HUkFQSElDU19CSVQpICE9IDB1KSB7CiAgICAgICAgICAgICAgICBtX3F1ZXVlRmFtaWx5SW5kZXggPSBxdWV1ZUluZm8ucXVldWVGYW1pbHlJbmRleCA9IGk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgc3RkOjp2ZWN0b3I8Y29uc3QgY2hhcio+IGRldmljZUV4dGVuc2lvbnM7CgogICAgICAgIFZrUGh5c2ljYWxEZXZpY2VGZWF0dXJlcyBmZWF0dXJlc3t9OwogICAgICAgIC8vIGZlYXR1cmVzLnNhbXBsZXJBbmlzb3Ryb3B5ID0gVktfVFJVRTsKCiAgICAgICAgVmtEZXZpY2VDcmVhdGVJbmZvIGRldmljZUluZm97VktfU1RSVUNUVVJFX1RZUEVfREVWSUNFX0NSRUFURV9JTkZPfTsKICAgICAgICBkZXZpY2VJbmZvLnF1ZXVlQ3JlYXRlSW5mb0NvdW50ID0gMTsKICAgICAgICBkZXZpY2VJbmZvLnBRdWV1ZUNyZWF0ZUluZm9zID0gJnF1ZXVlSW5mbzsKICAgICAgICBkZXZpY2VJbmZvLmVuYWJsZWRMYXllckNvdW50ID0gMDsKICAgICAgICBkZXZpY2VJbmZvLnBwRW5hYmxlZExheWVyTmFtZXMgPSBudWxscHRyOwogICAgICAgIGRldmljZUluZm8uZW5hYmxlZEV4dGVuc2lvbkNvdW50ID0gKHVpbnQzMl90KWRldmljZUV4dGVuc2lvbnMuc2l6ZSgpOwogICAgICAgIGRldmljZUluZm8ucHBFbmFibGVkRXh0ZW5zaW9uTmFtZXMgPSBkZXZpY2VFeHRlbnNpb25zLmVtcHR5KCkgPyBudWxscHRyIDogZGV2aWNlRXh0ZW5zaW9ucy5kYXRhKCk7CiAgICAgICAgZGV2aWNlSW5mby5wRW5hYmxlZEZlYXR1cmVzID0gJmZlYXR1cmVzOwoKICAgICAgICBYclZ1bGthbkRldmljZUNyZWF0ZUluZm9LSFIgZGV2aWNlQ3JlYXRlSW5mb3tYUl9UWVBFX1ZVTEtBTl9ERVZJQ0VfQ1JFQVRFX0lORk9fS0hSfTsKICAgICAgICBkZXZpY2VDcmVhdGVJbmZvLnN5c3RlbUlkID0gc3lzdGVtSWQ7CiAgICAgICAgZGV2aWNlQ3JlYXRlSW5mby5wZm5HZXRJbnN0YW5jZVByb2NBZGRyID0gJnZrR2V0SW5zdGFuY2VQcm9jQWRkcjsKICAgICAgICBkZXZpY2VDcmVhdGVJbmZvLnZ1bGthbkNyZWF0ZUluZm8gPSAmZGV2aWNlSW5mbzsKICAgICAgICBkZXZpY2VDcmVhdGVJbmZvLnZ1bGthblBoeXNpY2FsRGV2aWNlID0gbV92a1BoeXNpY2FsRGV2aWNlOwogICAgICAgIGRldmljZUNyZWF0ZUluZm8udnVsa2FuQWxsb2NhdG9yID0gbnVsbHB0cjsKICAgICAgICBDSEVDS19YUkNNRChDcmVhdGVWdWxrYW5EZXZpY2VLSFIoaW5zdGFuY2UsICZkZXZpY2VDcmVhdGVJbmZvLCAmbV92a0RldmljZSwgJmVycikpOwogICAgICAgIENIRUNLX1ZLQ01EKGVycik7CgogICAgICAgIHZrR2V0RGV2aWNlUXVldWUobV92a0RldmljZSwgcXVldWVJbmZvLnF1ZXVlRmFtaWx5SW5kZXgsIDAsICZtX3ZrUXVldWUpOwoKICAgICAgICBtX21lbUFsbG9jYXRvci5Jbml0KG1fdmtQaHlzaWNhbERldmljZSwgbV92a0RldmljZSk7CgogICAgICAgIEluaXRpYWxpemVSZXNvdXJjZXMoKTsKCiAgICAgICAgbV9ncmFwaGljc0JpbmRpbmcuaW5zdGFuY2UgPSBtX3ZrSW5zdGFuY2U7CiAgICAgICAgbV9ncmFwaGljc0JpbmRpbmcucGh5c2ljYWxEZXZpY2UgPSBtX3ZrUGh5c2ljYWxEZXZpY2U7CiAgICAgICAgbV9ncmFwaGljc0JpbmRpbmcuZGV2aWNlID0gbV92a0RldmljZTsKICAgICAgICBtX2dyYXBoaWNzQmluZGluZy5xdWV1ZUZhbWlseUluZGV4ID0gcXVldWVJbmZvLnF1ZXVlRmFtaWx5SW5kZXg7CiAgICAgICAgbV9ncmFwaGljc0JpbmRpbmcucXVldWVJbmRleCA9IDA7CiAgICB9CgogICAgdm9pZCBJbml0aWFsaXplUmVzb3VyY2VzKCkgewoKICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50MzJfdD4gdmVydGV4U1BJUlYgPQojaW5jbHVkZSAidnVsa2FuX3NoYWRlcnMvdmVydC5zcHYiCiAgICAgICAgICAgIDsKICAgICAgICBzdGQ6OnZlY3Rvcjx1aW50MzJfdD4gZnJhZ21lbnRTUElSViA9CiNpbmNsdWRlICJ2dWxrYW5fc2hhZGVycy9mcmFnLnNwdiIKICAgICAgICAgICAgOwoKICAgICAgICBpZiAodmVydGV4U1BJUlYuZW1wdHkoKSkgVEhST1coIkZhaWxlZCB0byBjb21waWxlIHZlcnRleCBzaGFkZXIiKTsKICAgICAgICBpZiAoZnJhZ21lbnRTUElSVi5lbXB0eSgpKSBUSFJPVygiRmFpbGVkIHRvIGNvbXBpbGUgZnJhZ21lbnQgc2hhZGVyIik7CgogICAgICAgIG1fc2hhZGVyUHJvZ3JhbS5Jbml0KG1fdmtEZXZpY2UpOwogICAgICAgIG1fc2hhZGVyUHJvZ3JhbS5Mb2FkVmVydGV4U2hhZGVyKHZlcnRleFNQSVJWKTsKICAgICAgICBtX3NoYWRlclByb2dyYW0uTG9hZEZyYWdtZW50U2hhZGVyKGZyYWdtZW50U1BJUlYpOwoKICAgICAgICAvLyBTZW1hcGhvcmUgdG8gYmxvY2sgb24gZHJhdyBjb21wbGV0ZQogICAgICAgIFZrU2VtYXBob3JlQ3JlYXRlSW5mbyBzZW1JbmZve1ZLX1NUUlVDVFVSRV9UWVBFX1NFTUFQSE9SRV9DUkVBVEVfSU5GT307CiAgICAgICAgQ0hFQ0tfVktDTUQodmtDcmVhdGVTZW1hcGhvcmUobV92a0RldmljZSwgJnNlbUluZm8sIG51bGxwdHIsICZtX3ZrRHJhd0RvbmUpKTsKCiAgICAgICAgaWYgKCFtX2NtZEJ1ZmZlci5Jbml0KG1fdmtEZXZpY2UsIG1fcXVldWVGYW1pbHlJbmRleCkpIFRIUk9XKCJGYWlsZWQgdG8gY3JlYXRlIGNvbW1hbmQgYnVmZmVyIik7CgogICAgICAgIG1fcGlwZWxpbmVMYXlvdXQuQ3JlYXRlKG1fdmtEZXZpY2UpOwoKICAgICAgICBzdGF0aWNfYXNzZXJ0KHNpemVvZihHZW9tZXRyeTo6VmVydGV4KSA9PSAyNCwgIlVuZXhwZWN0ZWQgVmVydGV4IHNpemUiKTsKICAgICAgICBtX2RyYXdCdWZmZXIuSW5pdChtX3ZrRGV2aWNlLCAmbV9tZW1BbGxvY2F0b3IsCiAgICAgICAgICAgICAgICAgICAgICAgICAge3swLCAwLCBWS19GT1JNQVRfUjMyRzMyQjMyX1NGTE9BVCwgb2Zmc2V0b2YoR2VvbWV0cnk6OlZlcnRleCwgUG9zaXRpb24pfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgezEsIDAsIFZLX0ZPUk1BVF9SMzJHMzJCMzJfU0ZMT0FULCBvZmZzZXRvZihHZW9tZXRyeTo6VmVydGV4LCBDb2xvcil9fSk7CiAgICAgICAgdWludDMyX3QgbnVtQ3ViZUlkaWNpZXMgPSBzaXplb2YoR2VvbWV0cnk6OmNfY3ViZUluZGljZXMpIC8gc2l6ZW9mKEdlb21ldHJ5OjpjX2N1YmVJbmRpY2VzWzBdKTsKICAgICAgICB1aW50MzJfdCBudW1DdWJlVmVydGljaWVzID0gc2l6ZW9mKEdlb21ldHJ5OjpjX2N1YmVWZXJ0aWNlcykgLyBzaXplb2YoR2VvbWV0cnk6OmNfY3ViZVZlcnRpY2VzWzBdKTsKICAgICAgICBtX2RyYXdCdWZmZXIuQ3JlYXRlKG51bUN1YmVJZGljaWVzLCBudW1DdWJlVmVydGljaWVzKTsKICAgICAgICBtX2RyYXdCdWZmZXIuVXBkYXRlSW5kaWNpZXMoR2VvbWV0cnk6OmNfY3ViZUluZGljZXMsIG51bUN1YmVJZGljaWVzLCAwKTsKICAgICAgICBtX2RyYXdCdWZmZXIuVXBkYXRlVmVydGljZXMoR2VvbWV0cnk6OmNfY3ViZVZlcnRpY2VzLCBudW1DdWJlVmVydGljaWVzLCAwKTsKCgogICAgfQoKICAgIGludDY0X3QgU2VsZWN0Q29sb3JTd2FwY2hhaW5Gb3JtYXQoY29uc3Qgc3RkOjp2ZWN0b3I8aW50NjRfdD4mIHJ1bnRpbWVGb3JtYXRzKSBjb25zdCBvdmVycmlkZSB7CiAgICAgICAgLy8gTGlzdCBvZiBzdXBwb3J0ZWQgY29sb3Igc3dhcGNoYWluIGZvcm1hdHMuCiAgICAgICAgY29uc3RleHByIGludDY0X3QgU3VwcG9ydGVkQ29sb3JTd2FwY2hhaW5Gb3JtYXRzW10gPSB7VktfRk9STUFUX0I4RzhSOEE4X1NSR0IsIFZLX0ZPUk1BVF9SOEc4QjhBOF9TUkdCLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZLX0ZPUk1BVF9COEc4UjhBOF9VTk9STSwgVktfRk9STUFUX1I4RzhCOEE4X1VOT1JNfTsKCiAgICAgICAgYXV0byBzd2FwY2hhaW5Gb3JtYXRJdCA9CiAgICAgICAgICAgIHN0ZDo6ZmluZF9maXJzdF9vZihydW50aW1lRm9ybWF0cy5iZWdpbigpLCBydW50aW1lRm9ybWF0cy5lbmQoKSwgc3RkOjpiZWdpbihTdXBwb3J0ZWRDb2xvclN3YXBjaGFpbkZvcm1hdHMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjplbmQoU3VwcG9ydGVkQ29sb3JTd2FwY2hhaW5Gb3JtYXRzKSk7CiAgICAgICAgaWYgKHN3YXBjaGFpbkZvcm1hdEl0ID09IHJ1bnRpbWVGb3JtYXRzLmVuZCgpKSB7CiAgICAgICAgICAgIFRIUk9XKCJObyBydW50aW1lIHN3YXBjaGFpbiBmb3JtYXQgc3VwcG9ydGVkIGZvciBjb2xvciBzd2FwY2hhaW4iKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAqc3dhcGNoYWluRm9ybWF0SXQ7CiAgICB9CgogICAgY29uc3QgWHJCYXNlSW5TdHJ1Y3R1cmUqIEdldEdyYXBoaWNzQmluZGluZygpIGNvbnN0IG92ZXJyaWRlIHsKICAgICAgICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDxjb25zdCBYckJhc2VJblN0cnVjdHVyZSo+KCZtX2dyYXBoaWNzQmluZGluZyk7CiAgICB9CgogICAgc3RkOjp2ZWN0b3I8WHJTd2FwY2hhaW5JbWFnZUJhc2VIZWFkZXIqPiBBbGxvY2F0ZVN3YXBjaGFpbkltYWdlU3RydWN0cygKICAgICAgICB1aW50MzJfdCBjYXBhY2l0eSwgY29uc3QgWHJTd2FwY2hhaW5DcmVhdGVJbmZvJiBzd2FwY2hhaW5DcmVhdGVJbmZvKSBvdmVycmlkZSB7CiAgICAgICAgLy8gQWxsb2NhdGUgYW5kIGluaXRpYWxpemUgdGhlIGJ1ZmZlciBvZiBpbWFnZSBzdHJ1Y3RzIChtdXN0IGJlIHNlcXVlbnRpYWwgaW4gbWVtb3J5IGZvciB4ckVudW1lcmF0ZVN3YXBjaGFpbkltYWdlcykuCiAgICAgICAgLy8gUmV0dXJuIGJhY2sgYW4gYXJyYXkgb2YgcG9pbnRlcnMgdG8gZWFjaCBzd2FwY2hhaW4gaW1hZ2Ugc3RydWN0IHNvIHRoZSBjb25zdW1lciBkb2Vzbid0IG5lZWQgdG8ga25vdyB0aGUgdHlwZS9zaXplLgogICAgICAgIC8vIEtlZXAgdGhlIGJ1ZmZlciBhbGl2ZSBieSBhZGRpbmcgaXQgaW50byB0aGUgbGlzdCBvZiBidWZmZXJzLgogICAgICAgIG1fc3dhcGNoYWluSW1hZ2VDb250ZXh0cy5lbXBsYWNlX2JhY2soR2V0U3dhcGNoYWluSW1hZ2VUeXBlKCkpOwogICAgICAgIFN3YXBjaGFpbkltYWdlQ29udGV4dCYgc3dhcGNoYWluSW1hZ2VDb250ZXh0ID0gbV9zd2FwY2hhaW5JbWFnZUNvbnRleHRzLmJhY2soKTsKCiAgICAgICAgc3RkOjp2ZWN0b3I8WHJTd2FwY2hhaW5JbWFnZUJhc2VIZWFkZXIqPiBiYXNlcyA9IHN3YXBjaGFpbkltYWdlQ29udGV4dC5DcmVhdGUoCiAgICAgICAgICAgIG1fdmtEZXZpY2UsICZtX21lbUFsbG9jYXRvciwgY2FwYWNpdHksIHN3YXBjaGFpbkNyZWF0ZUluZm8sIG1fcGlwZWxpbmVMYXlvdXQsIG1fc2hhZGVyUHJvZ3JhbSwgbV9kcmF3QnVmZmVyKTsKCiAgICAgICAgLy8gTWFwIGV2ZXJ5IHN3YXBjaGFpbkltYWdlIGJhc2UgcG9pbnRlciB0byB0aGlzIGNvbnRleHQKICAgICAgICBmb3IgKGF1dG8mIGJhc2UgOiBiYXNlcykgewogICAgICAgICAgICBtX3N3YXBjaGFpbkltYWdlQ29udGV4dE1hcFtiYXNlXSA9ICZzd2FwY2hhaW5JbWFnZUNvbnRleHQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYmFzZXM7CiAgICB9CgogICAgdm9pZCBSZW5kZXJWaWV3KGNvbnN0IFhyQ29tcG9zaXRpb25MYXllclByb2plY3Rpb25WaWV3JiBsYXllclZpZXcsIGNvbnN0IFhyU3dhcGNoYWluSW1hZ2VCYXNlSGVhZGVyKiBzd2FwY2hhaW5JbWFnZSwKICAgICAgICAgICAgICAgICAgICBpbnQ2NF90IC8qc3dhcGNoYWluRm9ybWF0Ki8sIGNvbnN0IHN0ZDo6dmVjdG9yPEN1YmU+JiBjdWJlcykgb3ZlcnJpZGUgewogICAgICAgIENIRUNLKGxheWVyVmlldy5zdWJJbWFnZS5pbWFnZUFycmF5SW5kZXggPT0gMCk7ICAvLyBUZXh0dXJlIGFycmF5cyBub3Qgc3VwcG9ydGVkLgoKICAgICAgICBhdXRvIHN3YXBjaGFpbkNvbnRleHQgPSBtX3N3YXBjaGFpbkltYWdlQ29udGV4dE1hcFtzd2FwY2hhaW5JbWFnZV07CiAgICAgICAgdWludDMyX3QgaW1hZ2VJbmRleCA9IHN3YXBjaGFpbkNvbnRleHQtPkltYWdlSW5kZXgoc3dhcGNoYWluSW1hZ2UpOwoKICAgICAgICBtX2NtZEJ1ZmZlci5SZXNldCgpOwogICAgICAgIG1fY21kQnVmZmVyLkJlZ2luKCk7CgogICAgICAgIC8vIEVuc3VyZSBkZXB0aCBpcyBpbiB0aGUgcmlnaHQgbGF5b3V0CiAgICAgICAgc3dhcGNoYWluQ29udGV4dC0+ZGVwdGhCdWZmZXIuVHJhbnNpdGlvbkxheW91dCgmbV9jbWRCdWZmZXIsIFZLX0lNQUdFX0xBWU9VVF9ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlRfT1BUSU1BTCk7CgogICAgICAgIC8vIEJpbmQgYW5kIGNsZWFyIGV5ZSByZW5kZXIgdGFyZ2V0CiAgICAgICAgc3RhdGljIFhyQ29sb3I0ZiBkYXJrU2xhdGVHcmV5ID0gezAuMTg0MzEzNzI5ZiwgMC4zMDk4MDM5MzNmLCAwLjMwOTgwMzkzM2YsIDEuMGZ9OwogICAgICAgIHN0YXRpYyBzdGQ6OmFycmF5PFZrQ2xlYXJWYWx1ZSwgMj4gY2xlYXJWYWx1ZXM7CiAgICAgICAgY2xlYXJWYWx1ZXNbMF0uY29sb3IuZmxvYXQzMlswXSA9IGRhcmtTbGF0ZUdyZXkucjsKICAgICAgICBjbGVhclZhbHVlc1swXS5jb2xvci5mbG9hdDMyWzFdID0gZGFya1NsYXRlR3JleS5nOwogICAgICAgIGNsZWFyVmFsdWVzWzBdLmNvbG9yLmZsb2F0MzJbMl0gPSBkYXJrU2xhdGVHcmV5LmI7CiAgICAgICAgY2xlYXJWYWx1ZXNbMF0uY29sb3IuZmxvYXQzMlszXSA9IGRhcmtTbGF0ZUdyZXkuYTsKICAgICAgICBjbGVhclZhbHVlc1sxXS5kZXB0aFN0ZW5jaWwuZGVwdGggPSAxLjBmOwogICAgICAgIGNsZWFyVmFsdWVzWzFdLmRlcHRoU3RlbmNpbC5zdGVuY2lsID0gMDsKICAgICAgICBWa1JlbmRlclBhc3NCZWdpbkluZm8gcmVuZGVyUGFzc0JlZ2luSW5mb3tWS19TVFJVQ1RVUkVfVFlQRV9SRU5ERVJfUEFTU19CRUdJTl9JTkZPfTsKICAgICAgICByZW5kZXJQYXNzQmVnaW5JbmZvLmNsZWFyVmFsdWVDb3VudCA9ICh1aW50MzJfdCljbGVhclZhbHVlcy5zaXplKCk7CiAgICAgICAgcmVuZGVyUGFzc0JlZ2luSW5mby5wQ2xlYXJWYWx1ZXMgPSBjbGVhclZhbHVlcy5kYXRhKCk7CgogICAgICAgIHN3YXBjaGFpbkNvbnRleHQtPkJpbmRSZW5kZXJUYXJnZXQoaW1hZ2VJbmRleCwgJnJlbmRlclBhc3NCZWdpbkluZm8pOwoKICAgICAgICB2a0NtZEJlZ2luUmVuZGVyUGFzcyhtX2NtZEJ1ZmZlci5idWYsICZyZW5kZXJQYXNzQmVnaW5JbmZvLCBWS19TVUJQQVNTX0NPTlRFTlRTX0lOTElORSk7CgogICAgICAgIHZrQ21kQmluZFBpcGVsaW5lKG1fY21kQnVmZmVyLmJ1ZiwgVktfUElQRUxJTkVfQklORF9QT0lOVF9HUkFQSElDUywgc3dhcGNoYWluQ29udGV4dC0+cGlwZS5waXBlKTsKCiAgICAgICAgLy8gQmluZCBpbmRleCBhbmQgdmVydGV4IGJ1ZmZlcnMKICAgICAgICB2a0NtZEJpbmRJbmRleEJ1ZmZlcihtX2NtZEJ1ZmZlci5idWYsIG1fZHJhd0J1ZmZlci5pZHhCdWYsIDAsIFZLX0lOREVYX1RZUEVfVUlOVDE2KTsKICAgICAgICBWa0RldmljZVNpemUgb2Zmc2V0ID0gMDsKICAgICAgICB2a0NtZEJpbmRWZXJ0ZXhCdWZmZXJzKG1fY21kQnVmZmVyLmJ1ZiwgMCwgMSwgJm1fZHJhd0J1ZmZlci52dHhCdWYsICZvZmZzZXQpOwoKICAgICAgICAvLyBDb21wdXRlIHRoZSB2aWV3LXByb2plY3Rpb24gdHJhbnNmb3JtLgogICAgICAgIC8vIE5vdGUgYWxsIG1hdHJpeGVzIChpbmNsdWRpbmcgT3BlblhSJ3MpIGFyZSBjb2x1bW4tbWFqb3IsIHJpZ2h0LWhhbmRlZC4KICAgICAgICBjb25zdCBhdXRvJiBwb3NlID0gbGF5ZXJWaWV3LnBvc2U7CiAgICAgICAgWHJNYXRyaXg0eDRmIHByb2o7CiAgICAgICAgWHJNYXRyaXg0eDRmX0NyZWF0ZVByb2plY3Rpb25Gb3YoJnByb2osIEdSQVBISUNTX1ZVTEtBTiwgbGF5ZXJWaWV3LmZvdiwgMC4wNWYsIDEwMC4wZik7CiAgICAgICAgWHJNYXRyaXg0eDRmIHRvVmlldzsKICAgICAgICBYclZlY3RvcjNmIHNjYWxlezEuZiwgMS5mLCAxLmZ9OwogICAgICAgIFhyTWF0cml4NHg0Zl9DcmVhdGVUcmFuc2xhdGlvblJvdGF0aW9uU2NhbGUoJnRvVmlldywgJnBvc2UucG9zaXRpb24sICZwb3NlLm9yaWVudGF0aW9uLCAmc2NhbGUpOwogICAgICAgIFhyTWF0cml4NHg0ZiB2aWV3OwogICAgICAgIFhyTWF0cml4NHg0Zl9JbnZlcnRSaWdpZEJvZHkoJnZpZXcsICZ0b1ZpZXcpOwogICAgICAgIFhyTWF0cml4NHg0ZiB2cDsKICAgICAgICBYck1hdHJpeDR4NGZfTXVsdGlwbHkoJnZwLCAmcHJvaiwgJnZpZXcpOwoKICAgICAgICAvLyBSZW5kZXIgZWFjaCBjdWJlCiAgICAgICAgZm9yIChjb25zdCBDdWJlJiBjdWJlIDogY3ViZXMpIHsKICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgbW9kZWwtdmlldy1wcm9qZWN0aW9uIHRyYW5zZm9ybSBhbmQgcHVzaCBpdC4KICAgICAgICAgICAgWHJNYXRyaXg0eDRmIG1vZGVsOwogICAgICAgICAgICBYck1hdHJpeDR4NGZfQ3JlYXRlVHJhbnNsYXRpb25Sb3RhdGlvblNjYWxlKCZtb2RlbCwgJmN1YmUuUG9zZS5wb3NpdGlvbiwgJmN1YmUuUG9zZS5vcmllbnRhdGlvbiwgJmN1YmUuU2NhbGUpOwogICAgICAgICAgICBYck1hdHJpeDR4NGYgbXZwOwogICAgICAgICAgICBYck1hdHJpeDR4NGZfTXVsdGlwbHkoJm12cCwgJnZwLCAmbW9kZWwpOwogICAgICAgICAgICB2a0NtZFB1c2hDb25zdGFudHMobV9jbWRCdWZmZXIuYnVmLCBtX3BpcGVsaW5lTGF5b3V0LmxheW91dCwgVktfU0hBREVSX1NUQUdFX1ZFUlRFWF9CSVQsIDAsIHNpemVvZihtdnAubSksICZtdnAubVswXSk7CgogICAgICAgICAgICAvLyBEcmF3IHRoZSBjdWJlLgogICAgICAgICAgICB2a0NtZERyYXdJbmRleGVkKG1fY21kQnVmZmVyLmJ1ZiwgbV9kcmF3QnVmZmVyLmNvdW50LmlkeCwgMSwgMCwgMCwgMCk7CiAgICAgICAgfQoKICAgICAgICB2a0NtZEVuZFJlbmRlclBhc3MobV9jbWRCdWZmZXIuYnVmKTsKCiAgICAgICAgbV9jbWRCdWZmZXIuRW5kKCk7CiAgICAgICAgbV9jbWRCdWZmZXIuRXhlYyhtX3ZrUXVldWUpOwogICAgICAgIC8vIFhYWCBTaG91bGQgZG91YmxlLWJ1ZmZlciB0aGUgY29tbWFuZCBidWZmZXJzLCBmb3Igbm93IGp1c3QgZmx1c2gKICAgICAgICBtX2NtZEJ1ZmZlci5XYWl0KCk7CgoKICAgIH0KCiAgICB1aW50MzJfdCBHZXRTdXBwb3J0ZWRTd2FwY2hhaW5TYW1wbGVDb3VudChjb25zdCBYclZpZXdDb25maWd1cmF0aW9uVmlldyYpIG92ZXJyaWRlIHsgcmV0dXJuIFZLX1NBTVBMRV9DT1VOVF8xX0JJVDsgfQoKICAgcHJvdGVjdGVkOgogICAgWHJHcmFwaGljc0JpbmRpbmdWdWxrYW4yS0hSIG1fZ3JhcGhpY3NCaW5kaW5ne1hSX1RZUEVfR1JBUEhJQ1NfQklORElOR19WVUxLQU4yX0tIUn07CiAgICBzdGQ6Omxpc3Q8U3dhcGNoYWluSW1hZ2VDb250ZXh0PiBtX3N3YXBjaGFpbkltYWdlQ29udGV4dHM7CiAgICBzdGQ6Om1hcDxjb25zdCBYclN3YXBjaGFpbkltYWdlQmFzZUhlYWRlciosIFN3YXBjaGFpbkltYWdlQ29udGV4dCo+IG1fc3dhcGNoYWluSW1hZ2VDb250ZXh0TWFwOwoKICAgIFZrSW5zdGFuY2UgbV92a0luc3RhbmNle1ZLX05VTExfSEFORExFfTsKICAgIFZrUGh5c2ljYWxEZXZpY2UgbV92a1BoeXNpY2FsRGV2aWNle1ZLX05VTExfSEFORExFfTsKICAgIFZrRGV2aWNlIG1fdmtEZXZpY2V7VktfTlVMTF9IQU5ETEV9OwogICAgdWludDMyX3QgbV9xdWV1ZUZhbWlseUluZGV4ID0gMDsKICAgIFZrUXVldWUgbV92a1F1ZXVle1ZLX05VTExfSEFORExFfTsKICAgIFZrU2VtYXBob3JlIG1fdmtEcmF3RG9uZXtWS19OVUxMX0hBTkRMRX07CgogICAgTWVtb3J5QWxsb2NhdG9yIG1fbWVtQWxsb2NhdG9ye307CiAgICBTaGFkZXJQcm9ncmFtIG1fc2hhZGVyUHJvZ3JhbXt9OwogICAgQ21kQnVmZmVyIG1fY21kQnVmZmVye307CiAgICBQaXBlbGluZUxheW91dCBtX3BpcGVsaW5lTGF5b3V0e307CiAgICBWZXJ0ZXhCdWZmZXI8R2VvbWV0cnk6OlZlcnRleD4gbV9kcmF3QnVmZmVye307CgoKCiAgICBQRk5fdmtDcmVhdGVEZWJ1Z1JlcG9ydENhbGxiYWNrRVhUIHZrQ3JlYXRlRGVidWdSZXBvcnRDYWxsYmFja0VYVHtudWxscHRyfTsKICAgIFBGTl92a0Rlc3Ryb3lEZWJ1Z1JlcG9ydENhbGxiYWNrRVhUIHZrRGVzdHJveURlYnVnUmVwb3J0Q2FsbGJhY2tFWFR7bnVsbHB0cn07CiAgICBWa0RlYnVnUmVwb3J0Q2FsbGJhY2tFWFQgbV92a0RlYnVnUmVwb3J0ZXJ7VktfTlVMTF9IQU5ETEV9OwoKICAgIFZrQm9vbDMyIGRlYnVnUmVwb3J0KFZrRGVidWdSZXBvcnRGbGFnc0VYVCBmbGFncywgVmtEZWJ1Z1JlcG9ydE9iamVjdFR5cGVFWFQgb2JqZWN0VHlwZSwgdWludDY0X3Qgb2JqZWN0LCBzaXplX3QgLypsb2NhdGlvbiovLAogICAgICAgICAgICAgICAgICAgICAgICAgaW50MzJfdCAvKm1lc3NhZ2VDb2RlKi8sIGNvbnN0IGNoYXIqIHBMYXllclByZWZpeCwgY29uc3QgY2hhciogcE1lc3NhZ2UpIHsKICAgICAgICBzdGQ6OnN0cmluZyBmbGFnTmFtZXM7CiAgICAgICAgc3RkOjpzdHJpbmcgb2JqTmFtZTsKICAgICAgICBMb2c6OkxldmVsIGxldmVsID0gTG9nOjpMZXZlbDo6RXJyb3I7CgogICAgICAgIGlmICgoZmxhZ3MgJiBWS19ERUJVR19SRVBPUlRfREVCVUdfQklUX0VYVCkgIT0gMHUpIHsKICAgICAgICAgICAgZmxhZ05hbWVzICs9ICJERUJVRzoiOwogICAgICAgICAgICBsZXZlbCA9IExvZzo6TGV2ZWw6OlZlcmJvc2U7CiAgICAgICAgfQogICAgICAgIGlmICgoZmxhZ3MgJiBWS19ERUJVR19SRVBPUlRfSU5GT1JNQVRJT05fQklUX0VYVCkgIT0gMHUpIHsKICAgICAgICAgICAgZmxhZ05hbWVzICs9ICJJTkZPOiI7CiAgICAgICAgICAgIGxldmVsID0gTG9nOjpMZXZlbDo6SW5mbzsKICAgICAgICB9CiAgICAgICAgaWYgKChmbGFncyAmIFZLX0RFQlVHX1JFUE9SVF9QRVJGT1JNQU5DRV9XQVJOSU5HX0JJVF9FWFQpICE9IDB1KSB7CiAgICAgICAgICAgIGZsYWdOYW1lcyArPSAiUEVSRjoiOwogICAgICAgICAgICBsZXZlbCA9IExvZzo6TGV2ZWw6Oldhcm5pbmc7CiAgICAgICAgfQogICAgICAgIGlmICgoZmxhZ3MgJiBWS19ERUJVR19SRVBPUlRfV0FSTklOR19CSVRfRVhUKSAhPSAwdSkgewogICAgICAgICAgICBmbGFnTmFtZXMgKz0gIldBUk46IjsKICAgICAgICAgICAgbGV2ZWwgPSBMb2c6OkxldmVsOjpXYXJuaW5nOwogICAgICAgIH0KICAgICAgICBpZiAoKGZsYWdzICYgVktfREVCVUdfUkVQT1JUX0VSUk9SX0JJVF9FWFQpICE9IDB1KSB7CiAgICAgICAgICAgIGZsYWdOYW1lcyArPSAiRVJST1I6IjsKICAgICAgICAgICAgbGV2ZWwgPSBMb2c6OkxldmVsOjpFcnJvcjsKICAgICAgICB9CgojZGVmaW5lIExJU1RfT0JKRUNUX1RZUEVTKF8pIFwKICAgIF8oVU5LTk9XTikgICAgICAgICAgICAgICBcCiAgICBfKElOU1RBTkNFKSAgICAgICAgICAgICAgXAogICAgXyhQSFlTSUNBTF9ERVZJQ0UpICAgICAgIFwKICAgIF8oREVWSUNFKSAgICAgICAgICAgICAgICBcCiAgICBfKFFVRVVFKSAgICAgICAgICAgICAgICAgXAogICAgXyhTRU1BUEhPUkUpICAgICAgICAgICAgIFwKICAgIF8oQ09NTUFORF9CVUZGRVIpICAgICAgICBcCiAgICBfKEZFTkNFKSAgICAgICAgICAgICAgICAgXAogICAgXyhERVZJQ0VfTUVNT1JZKSAgICAgICAgIFwKICAgIF8oQlVGRkVSKSAgICAgICAgICAgICAgICBcCiAgICBfKElNQUdFKSAgICAgICAgICAgICAgICAgXAogICAgXyhFVkVOVCkgICAgICAgICAgICAgICAgIFwKICAgIF8oUVVFUllfUE9PTCkgICAgICAgICAgICBcCiAgICBfKEJVRkZFUl9WSUVXKSAgICAgICAgICAgXAogICAgXyhJTUFHRV9WSUVXKSAgICAgICAgICAgIFwKICAgIF8oU0hBREVSX01PRFVMRSkgICAgICAgICBcCiAgICBfKFBJUEVMSU5FX0NBQ0hFKSAgICAgICAgXAogICAgXyhQSVBFTElORV9MQVlPVVQpICAgICAgIFwKICAgIF8oUkVOREVSX1BBU1MpICAgICAgICAgICBcCiAgICBfKFBJUEVMSU5FKSAgICAgICAgICAgICAgXAogICAgXyhERVNDUklQVE9SX1NFVF9MQVlPVVQpIFwKICAgIF8oU0FNUExFUikgICAgICAgICAgICAgICBcCiAgICBfKERFU0NSSVBUT1JfUE9PTCkgICAgICAgXAogICAgXyhERVNDUklQVE9SX1NFVCkgICAgICAgIFwKICAgIF8oRlJBTUVCVUZGRVIpICAgICAgICAgICBcCiAgICBfKENPTU1BTkRfUE9PTCkgICAgICAgICAgXAogICAgXyhTVVJGQUNFX0tIUikgICAgICAgICAgIFwKICAgIF8oU1dBUENIQUlOX0tIUikgICAgICAgICBcCiAgICBfKERJU1BMQVlfS0hSKSAgICAgICAgICAgXAogICAgXyhESVNQTEFZX01PREVfS0hSKQoKICAgICAgICBzd2l0Y2ggKG9iamVjdFR5cGUpIHsKICAgICAgICAgICAgZGVmYXVsdDoKI2RlZmluZSBNS19PQkpFQ1RfVFlQRV9DQVNFKG5hbWUpICAgICAgICAgICAgICAgICAgXAogICAgY2FzZSBWS19ERUJVR19SRVBPUlRfT0JKRUNUX1RZUEVfIyNuYW1lIyNfRVhUOiBcCiAgICAgICAgb2JqTmFtZSA9ICNuYW1lOyAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIExJU1RfT0JKRUNUX1RZUEVTKE1LX09CSkVDVF9UWVBFX0NBU0UpCgojaWYgVktfSEVBREVSX1ZFUlNJT04gPj0gNDYKICAgICAgICAgICAgICAgIE1LX09CSkVDVF9UWVBFX0NBU0UoREVTQ1JJUFRPUl9VUERBVEVfVEVNUExBVEVfS0hSKQojZW5kaWYKI2lmIFZLX0hFQURFUl9WRVJTSU9OID49IDcwCiAgICAgICAgICAgICAgICBNS19PQkpFQ1RfVFlQRV9DQVNFKERFQlVHX1JFUE9SVF9DQUxMQkFDS19FWFQpCiNlbmRpZgogICAgICAgIH0KCiAgICAgICAgaWYgKChvYmplY3RUeXBlID09IFZLX0RFQlVHX1JFUE9SVF9PQkpFQ1RfVFlQRV9JTlNUQU5DRV9FWFQpICYmIChzdHJjbXAocExheWVyUHJlZml4LCAiTG9hZGVyIE1lc3NhZ2UiKSA9PSAwKSAmJgogICAgICAgICAgICAoc3RybmNtcChwTWVzc2FnZSwgIkRldmljZSBFeHRlbnNpb246IiwgMTcpID09IDApKSB7CiAgICAgICAgICAgIHJldHVybiBWS19GQUxTRTsKICAgICAgICB9CgogICAgICAgIExvZzo6V3JpdGUobGV2ZWwsIEZtdCgiJXMgKCVzIDB4JWxseCkgWyVzXSAlcyIsIGZsYWdOYW1lcy5jX3N0cigpLCBvYmpOYW1lLmNfc3RyKCksIG9iamVjdCwgcExheWVyUHJlZml4LCBwTWVzc2FnZSkpOwogICAgICAgIGlmICgoZmxhZ3MgJiBWS19ERUJVR19SRVBPUlRfRVJST1JfQklUX0VYVCkgIT0gMHUpIHsKICAgICAgICAgICAgcmV0dXJuIFZLX0ZBTFNFOwogICAgICAgIH0KICAgICAgICBpZiAoKGZsYWdzICYgVktfREVCVUdfUkVQT1JUX1dBUk5JTkdfQklUX0VYVCkgIT0gMHUpIHsKICAgICAgICAgICAgcmV0dXJuIFZLX0ZBTFNFOwogICAgICAgIH0KICAgICAgICByZXR1cm4gVktfRkFMU0U7CiAgICB9CgogICAgc3RhdGljIFZLQVBJX0FUVFIgVmtCb29sMzIgVktBUElfQ0FMTCBkZWJ1Z1JlcG9ydFRodW5rKFZrRGVidWdSZXBvcnRGbGFnc0VYVCBmbGFncywgVmtEZWJ1Z1JlcG9ydE9iamVjdFR5cGVFWFQgb2JqZWN0VHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBvYmplY3QsIHNpemVfdCBsb2NhdGlvbiwgaW50MzJfdCBtZXNzYWdlQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyKiBwTGF5ZXJQcmVmaXgsIGNvbnN0IGNoYXIqIHBNZXNzYWdlLCB2b2lkKiBwVXNlckRhdGEpIHsKICAgICAgICByZXR1cm4gc3RhdGljX2Nhc3Q8VnVsa2FuR3JhcGhpY3NQbHVnaW4qPihwVXNlckRhdGEpLT5kZWJ1Z1JlcG9ydChmbGFncywgb2JqZWN0VHlwZSwgb2JqZWN0LCBsb2NhdGlvbiwgbWVzc2FnZUNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcExheWVyUHJlZml4LCBwTWVzc2FnZSk7CiAgICB9CgogICAgdmlydHVhbCBYclN0cnVjdHVyZVR5cGUgR2V0R3JhcGhpY3NCaW5kaW5nVHlwZSgpIGNvbnN0IHsgcmV0dXJuIFhSX1RZUEVfR1JBUEhJQ1NfQklORElOR19WVUxLQU4yX0tIUjsgfQogICAgdmlydHVhbCBYclN0cnVjdHVyZVR5cGUgR2V0U3dhcGNoYWluSW1hZ2VUeXBlKCkgY29uc3QgeyByZXR1cm4gWFJfVFlQRV9TV0FQQ0hBSU5fSU1BR0VfVlVMS0FOMl9LSFI7IH0KCiAgICB2aXJ0dWFsIFhyUmVzdWx0IENyZWF0ZVZ1bGthbkluc3RhbmNlS0hSKFhySW5zdGFuY2UgaW5zdGFuY2UsIGNvbnN0IFhyVnVsa2FuSW5zdGFuY2VDcmVhdGVJbmZvS0hSKiBjcmVhdGVJbmZvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWa0luc3RhbmNlKiB2dWxrYW5JbnN0YW5jZSwgVmtSZXN1bHQqIHZ1bGthblJlc3VsdCkgewogICAgICAgIFBGTl94ckNyZWF0ZVZ1bGthbkluc3RhbmNlS0hSIHBmbkNyZWF0ZVZ1bGthbkluc3RhbmNlS0hSID0gbnVsbHB0cjsKICAgICAgICBDSEVDS19YUkNNRCh4ckdldEluc3RhbmNlUHJvY0FkZHIoaW5zdGFuY2UsICJ4ckNyZWF0ZVZ1bGthbkluc3RhbmNlS0hSIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDxQRk5feHJWb2lkRnVuY3Rpb24qPigmcGZuQ3JlYXRlVnVsa2FuSW5zdGFuY2VLSFIpKSk7CgogICAgICAgIHJldHVybiBwZm5DcmVhdGVWdWxrYW5JbnN0YW5jZUtIUihpbnN0YW5jZSwgY3JlYXRlSW5mbywgdnVsa2FuSW5zdGFuY2UsIHZ1bGthblJlc3VsdCk7CiAgICB9CgogICAgdmlydHVhbCBYclJlc3VsdCBDcmVhdGVWdWxrYW5EZXZpY2VLSFIoWHJJbnN0YW5jZSBpbnN0YW5jZSwgY29uc3QgWHJWdWxrYW5EZXZpY2VDcmVhdGVJbmZvS0hSKiBjcmVhdGVJbmZvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmtEZXZpY2UqIHZ1bGthbkRldmljZSwgVmtSZXN1bHQqIHZ1bGthblJlc3VsdCkgewogICAgICAgIFBGTl94ckNyZWF0ZVZ1bGthbkRldmljZUtIUiBwZm5DcmVhdGVWdWxrYW5EZXZpY2VLSFIgPSBudWxscHRyOwogICAgICAgIENIRUNLX1hSQ01EKHhyR2V0SW5zdGFuY2VQcm9jQWRkcihpbnN0YW5jZSwgInhyQ3JlYXRlVnVsa2FuRGV2aWNlS0hSIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDxQRk5feHJWb2lkRnVuY3Rpb24qPigmcGZuQ3JlYXRlVnVsa2FuRGV2aWNlS0hSKSkpOwoKICAgICAgICByZXR1cm4gcGZuQ3JlYXRlVnVsa2FuRGV2aWNlS0hSKGluc3RhbmNlLCBjcmVhdGVJbmZvLCB2dWxrYW5EZXZpY2UsIHZ1bGthblJlc3VsdCk7CiAgICB9CgogICAgdmlydHVhbCBYclJlc3VsdCBHZXRWdWxrYW5HcmFwaGljc0RldmljZTJLSFIoWHJJbnN0YW5jZSBpbnN0YW5jZSwgY29uc3QgWHJWdWxrYW5HcmFwaGljc0RldmljZUdldEluZm9LSFIqIGdldEluZm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWa1BoeXNpY2FsRGV2aWNlKiB2dWxrYW5QaHlzaWNhbERldmljZSkgewogICAgICAgIFBGTl94ckdldFZ1bGthbkdyYXBoaWNzRGV2aWNlMktIUiBwZm5HZXRWdWxrYW5HcmFwaGljc0RldmljZTJLSFIgPSBudWxscHRyOwogICAgICAgIENIRUNLX1hSQ01EKHhyR2V0SW5zdGFuY2VQcm9jQWRkcihpbnN0YW5jZSwgInhyR2V0VnVsa2FuR3JhcGhpY3NEZXZpY2UyS0hSIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDxQRk5feHJWb2lkRnVuY3Rpb24qPigmcGZuR2V0VnVsa2FuR3JhcGhpY3NEZXZpY2UyS0hSKSkpOwoKICAgICAgICByZXR1cm4gcGZuR2V0VnVsa2FuR3JhcGhpY3NEZXZpY2UyS0hSKGluc3RhbmNlLCBnZXRJbmZvLCB2dWxrYW5QaHlzaWNhbERldmljZSk7CiAgICB9CgogICAgdmlydHVhbCBYclJlc3VsdCBHZXRWdWxrYW5HcmFwaGljc1JlcXVpcmVtZW50czJLSFIoWHJJbnN0YW5jZSBpbnN0YW5jZSwgWHJTeXN0ZW1JZCBzeXN0ZW1JZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhyR3JhcGhpY3NSZXF1aXJlbWVudHNWdWxrYW4yS0hSKiBncmFwaGljc1JlcXVpcmVtZW50cykgewogICAgICAgIFBGTl94ckdldFZ1bGthbkdyYXBoaWNzUmVxdWlyZW1lbnRzMktIUiBwZm5HZXRWdWxrYW5HcmFwaGljc1JlcXVpcmVtZW50czJLSFIgPSBudWxscHRyOwogICAgICAgIENIRUNLX1hSQ01EKHhyR2V0SW5zdGFuY2VQcm9jQWRkcihpbnN0YW5jZSwgInhyR2V0VnVsa2FuR3JhcGhpY3NSZXF1aXJlbWVudHMyS0hSIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVpbnRlcnByZXRfY2FzdDxQRk5feHJWb2lkRnVuY3Rpb24qPigmcGZuR2V0VnVsa2FuR3JhcGhpY3NSZXF1aXJlbWVudHMyS0hSKSkpOwoKICAgICAgICByZXR1cm4gcGZuR2V0VnVsa2FuR3JhcGhpY3NSZXF1aXJlbWVudHMyS0hSKGluc3RhbmNlLCBzeXN0ZW1JZCwgZ3JhcGhpY3NSZXF1aXJlbWVudHMpOwogICAgfQp9OwoKCn0gIC8vIG5hbWVzcGFjZQoKc3RkOjpzaGFyZWRfcHRyPElHcmFwaGljc1BsdWdpbj4gQ3JlYXRlR3JhcGhpY3NQbHVnaW5fVnVsa2FuKGNvbnN0IHN0ZDo6c2hhcmVkX3B0cjxPcHRpb25zPiYgb3B0aW9ucywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6c2hhcmVkX3B0cjxJUGxhdGZvcm1QbHVnaW4+IHBsYXRmb3JtUGx1Z2luKSB7CiAgICByZXR1cm4gc3RkOjptYWtlX3NoYXJlZDxWdWxrYW5HcmFwaGljc1BsdWdpbj4ob3B0aW9ucywgc3RkOjptb3ZlKHBsYXRmb3JtUGx1Z2luKSk7Cn0KCgojZW5kaWYgIC8vIFhSX1VTRV9HUkFQSElDU19BUElfVlVMS0FOCgAAAAAAAAAA2ekAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0AAAAAAAAADQAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pico_remoting_player/graphicsplugin_factory.cpp",
			"settings":
			{
				"buffer_size": 1990,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"ssC",
				"Set Syntax: C#"
			],
			[
				"ss cmak",
				"Set Syntax: CMake"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"ss bash",
				"Set Syntax: Bash"
			],
			[
				"ss uni",
				"Set Syntax: UnityShader"
			],
			[
				"ssp",
				"Set Syntax: Python"
			],
			[
				"cuda",
				"Set Syntax: CUDA C++"
			],
			[
				"insta",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/vulkan_shaders"
	],
	"file_history":
	[
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/my_asset_manager.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/my_asset_manager.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/pch.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/common.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/openxr_loader/include/openxr/openxr.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/graphicsapi.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/platformplugin_factory.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/graphicsplugin_factory.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/platformplugin.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/platformplugin_android.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/platformdata.h",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/PicoRemotingPlayer.sublime-project",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/CMakeLists.txt",
		"/C/Users/flufy3d/AppData/Local/Temp/scp28018/home/dev/projects/RenderStreamKube/deployments/deployment.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp28299/home/dev/projects/RenderStreamKube/scripts/build_image.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp28861/home/dev/projects/RenderStreamKube/pods/render-stream-hub-pod.yaml",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/build.gradle",
		"/D/Projects/VulkanTutorial/code/31_shader_compute.vert",
		"/D/Projects/VulkanTutorial/code/31_shader_compute.comp",
		"/D/Projects/VulkanTutorial/code/31_shader_compute.frag",
		"/D/Projects/VulkanTutorial/code/22_shader_ubo.vert",
		"/D/Projects/VulkanTutorial/code/CMakeLists.txt",
		"/D/Projects/VulkanTutorial/code/22_shader_ubo.frag",
		"/D/Projects/VulkanTutorial/code/27_shader_depth.vert",
		"/D/Projects/VulkanTutorial/code/27_shader_depth.frag",
		"/D/Projects/VulkanTutorial/code/18_shader_vertexbuffer.frag",
		"/D/Projects/VulkanTutorial/code/18_shader_vertexbuffer.vert",
		"/D/Projects/VulkanTutorial/code/09_shader_base.vert",
		"/D/Projects/VulkanTutorial/code/09_shader_base.frag",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/.gitignore",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/graphicsplugin_vulkan.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/pico_remoting_player/openxr_program.cpp",
		"/C/Users/flufy3d/Downloads/openxr_program_impl.cpp",
		"/C/Users/flufy3d/Downloads/vulkan_helpers.cpp",
		"/C/Users/flufy3d/Downloads/vulkan_plugin_impl.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/settings.gradle",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/AndroidManifest.xml",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/graphicsplugin_vulkan.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/logger.cpp",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/java/com/khronos/hello_xr/MainActivity.java",
		"/D/Projects/VulkanTutorial/code/.gitignore",
		"/C/Users/flufy3d/Downloads/modified_graphicsplugin.h",
		"/C/Users/flufy3d/Downloads/modified_graphicsplugin_vulkan.cpp",
		"/C/Users/flufy3d/Downloads/updated_graphicsplugin_vulkan.cpp",
		"/C/Users/flufy3d/AppData/Local/Temp/scp02762/home/dev/projects/RenderStreamKube/deployments/deployment.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp42274/home/dev/projects/RenderStreamKube/build/controller/api/api.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp58514/home/dev/projects/RenderStreamKube/services/service.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp42235/home/dev/projects/RenderStreamKube/build/controller/main.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp11009/home/dev/projects/RenderStreamKube/pods/render-stream-hub-pod.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp11474/home/dev/projects/RenderStreamKube/scripts/build_image.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp59496/home/dev/projects/RenderStreamKube/scripts/setup_accounts.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp11284/home/dev/projects/RenderStreamKube/scripts/manage_metallb.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp39205/home/dev/projects/RenderStreamKube/scripts/create_configmap.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp30747/home/dev/projects/RenderStreamKube/deployments/deployment-static.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp30082/home/dev/projects/RenderStreamKube/services/service-static.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp07461/home/dev/projects/RenderStreamKube/build/controller/Dockerfile",
		"/C/Users/flufy3d/AppData/Local/Temp/scp59089/home/dev/projects/RenderStreamKube/accounts/my-admin-sa",
		"/C/Users/flufy3d/AppData/Local/Temp/scp03200/home/dev/projects/RenderStreamKube/build/controller/config/config.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp42725/home/dev/projects/RenderStreamKube/configmaps/pod-definition-configmap.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp19029/home/dev/projects/RenderStreamKube/scripts/create_secret.sh",
		"/C/Users/flufy3d/AppData/Local/Temp/scp45965/home/dev/projects/RenderStreamKube/pods/render-stream-hub-pod.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp30001/home/dev/projects/RenderStreamKube/build/webserver/client/public/receiver/index.html",
		"/C/Users/flufy3d/AppData/Local/Temp/scp14196/home/dev/projects/RenderStreamKube/build/webserver/client/public/receiver/js/main.js",
		"/C/Users/flufy3d/AppData/Local/Temp/scp17274/home/dev/projects/RenderStreamKube/pods/render-stream-hub-pod.yaml",
		"/C/Users/flufy3d/AppData/Local/Temp/scp13413/home/dev/projects/RenderStreamKube/build/controller/main.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp36754/home/dev/projects/RenderStreamKube/build/controller/ws/hub.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp07202/home/dev/projects/RenderStreamKube/build/webserver/client/public/js/config.js",
		"/C/Users/flufy3d/AppData/Local/Temp/scp05274/home/dev/projects/RenderStreamKube/build/controller/api/api.go",
		"/C/Users/flufy3d/AppData/Local/Temp/scp30542/home/dev/projects/RenderStreamKube/build/webserver/client/public/receiver/css/style.css",
		"/C/Users/flufy3d/AppData/Local/Temp/scp10623/home/dev/projects/RenderStreamKube/build/webserver/client/public/index.html",
		"/C/Users/flufy3d/AppData/Local/Temp/scp03589/etc/nginx/sites-available/bitsea",
		"/C/Users/flufy3d/AppData/Local/Temp/scp21573/home/dev/projects/RenderStreamKube/build/controller/README.md",
		"/C/Users/flufy3d/AppData/Local/Programs/WinSCP/Text",
		"/C/Users/flufy3d/AppData/Local/Programs/WinSCP/Files/Sublime",
		"/C/Users/flufy3d/Downloads/components.yaml",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/vulkan_shaders/frag.spv",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/.gitattributes",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/main.cpp",
		"/C/Users/flufy3d/Desktop/run.log",
		"/C/Users/flufy3d/Documents/GitHub/TestNative/app/src/main/cpp/native-lib.cpp",
		"/C/Users/flufy3d/Documents/GitHub/TestNative/app/src/main/java/com/example/myapplication/MainActivity.kt",
		"/C/Users/flufy3d/Desktop/debug.log",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/local.properties",
		"/C/Users/flufy3d/Documents/GitHub/EndlessTunnel/gradle/wrapper/gradle-wrapper.properties",
		"/D/Projects/endless-tunnel/endless-tunnel/endless-tunnel.vcxproj",
		"/C/Users/flufy3d/Documents/GitHub/MIGPT/MIGPT.py",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/build/outputs/apk/debug/output-metadata.json",
		"/C/Users/flufy3d/Documents/GitHub/PicoRemotingPlayer/hello_xr/openxr_program.cpp",
		"/C/Users/flufy3d/Documents/GitHub/HelloXR/build.gradle",
		"/C/Users/flufy3d/Documents/GitHub/HelloXR/gradle/wrapper/gradle-wrapper.properties",
		"/D/Projects/PicoStart/Plugins/PICOLivePreview/Source/ThirdParty/Libs/Include/streamingDriverInterface/streaming_driver_interface.h",
		"/D/Projects/PicoStart/PicoStart.uproject",
		"/D/Projects/PicoStart/Plugins/PICOLivePreview/Source/ThirdParty/Libs/Include/pxr_base/stream/video_stream.h",
		"/D/Projects/PicoStart/Plugins/PICOLivePreview/Source/PICOXRDPEditor/Private/PXR_DPEditor.cpp",
		"/D/Projects/PicoStart/Plugins/PICOLivePreview/Source/PICOXRDPHMD/Private/PXR_DPManager.cpp",
		"/D/Projects/PicoStart/Intermediate/Android/arm64/gradle/gradle.properties",
		"/D/Projects/PicoStart/Intermediate/Android/arm64/gradle/gradle/wrapper/gradle-wrapper.properties",
		"/D/Projects/PicoStart/Intermediate/Android/arm64/gradle/gradlew.bat",
		"/D/Projects/PicoStart/Intermediate/Android/arm64/gradle/local.properties",
		"/C/Users/flufy3d/Documents/Unreal Projects/TestMetaHuman/TestMetaHuman.uproject",
		"/D/Projects/PicoStart 5.1 - 2/PicoStart.uproject",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/UnrealHitchParser/UnrealHitchParser.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/UnrealGameSync/PostBadgeStatus/PostBadgeStatus.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/PrereqInstaller/CustomAction/CustomAction.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/ImageValidator/ImageValidator.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithSolidworksExporter/RegistryKeyExistsCustomAction/RegistryKeyExistsCustomAction.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithSolidworksExporter/PreprocessWxs/PreprocessWxs.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithSolidworksExporter/DatasmithSolidworks/DatasmithSolidworks.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithRhinoExporter/DatasmithRhino7/DatasmithRhino7.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithRhinoExporter/DatasmithRhino6/DatasmithRhino6.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/Enterprise/Datasmith/DatasmithRevitExporter/Resources/DatasmithRevitResources.csproj",
		"/D/Projects/UnrealEngine/Engine/Source/Programs/NetworkProfiler/NetworkProfiler/NetworkProfiler.csproj",
		"/D/Projects/UnrealEngine/Engine/Saved/CsTools/Engine/Source/Programs/NetworkProfiler/NetworkProfiler/NetworkProfiler.csproj",
		"/D/Projects/UnrealEngine/Engine/Build/InstalledEngineBuild.xml",
		"/D/Projects/UnrealEngine/Engine/Intermediate/Build/Win64/UnrealEditor/Development/WorldBrowser/UnrealEditor-WorldBrowser.lib.response",
		"/C/Users/flufy3d/.condarc",
		"/D/Projects/UnrealEngine/Engine/Source/ThirdParty/Android/package.xml",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/.gitignore",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/Engine/Programs/UnrealBuildTool/Log_GPF.txt",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/Engine/Source/Programs/UnrealBuildTool/Platform/Windows/VCToolChain.cs",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/Engine/Plugins/Runtime/Database/ADOSupport/Source/ADOSupport/Private/ADOSupport.cpp",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/Engine/Intermediate/Build/Win64/UnrealEditor/Development/VisualStudioDTE/dte80a.cpp",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/Engine/Extras/Android/SetupAndroid.bat",
		"/C/Users/flufy3d/Documents/GitHub/UnrealEngine/cpp.hint",
		"/C/Users/flufy3d/Documents/GitHub/Teapot/README.md",
		"/C/Users/flufy3d/Documents/GitHub/Hologram/.gitignore",
		"/C/Users/flufy3d/Documents/GitHub/Hologram/Assets/Hologram/HologramRenderer.shader",
		"/C/Users/flufy3d/Documents/GitHub/Hologram/Assets/Hologram/hologramRendererGL.shader"
	],
	"find":
	{
		"height": 48.0
	},
	"find_in_files":
	{
		"height": 128.0,
		"where_history":
		[
			"",
			"C:\\Users\\flufy3d\\Documents\\GitHub\\PicoRemotingPlayer",
			"C:\\Users\\flufy3d\\Documents\\GitHub\\HelloXR",
			"",
			"D:\\Projects\\UnrealEngine\\Engine\\Source\\Programs"
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"LOCAL_SOURCE",
			"my",
			"fmt",
			"resource",
			"__android_log_print",
			"CmdBuffer",
			"m_memAllocator",
			"MemoryAllocator",
			"depthBuffer",
			"DepthBuffer",
			"GetVulkanGraphicsRequirements2KHR",
			"XrFovf",
			"XrCompositionLayerProjectionView",
			"CreateGraphicsPlugin",
			"Cube",
			"IGraphicsPlugin",
			"graphicsapi.h",
			"CreateGraphicsAPI",
			"IGraphicsApi",
			"CreateGraphicsAPI",
			"IGraphicsApi",
			"IGraphicsAdapter",
			"GetSwapchainImageType",
			"debugReportThunk",
			"LIST_OBJECT_TYPES",
			"VulkanGraphicsPlugin",
			"graphicsPluginMap",
			"CreateGraphicsPlugin_OpenGLES",
			"XR_TYPE_INSTANCE_CREATE_INFO_ANDROID_KHR",
			"instanceCreateInfoAndroid",
			"UNUSED_PARM",
			"UpdateOptionsFromSystemProperties",
			"ShowHelp",
			"UpdateOptionsFromSystemProperties",
			"ShowHelp",
			"InputRemoting",
			"class",
			"actionEvent",
			"performed ",
			"InitializeActions",
			"System Properties: Name",
			"System Graphics Properties",
			"add_shaders_target",
			"add_chapter",
			"VK_EXT",
			"Extension name",
			"extens",
			"extension",
			"add_shaders_target",
			"CHAPTER_SHADER",
			"add_chapter",
			"CHECK_XRCMD",
			"CreateVulkanInstanceKHR",
			"CreateVulkanDeviceKHR",
			"GetVulkanGraphicsDevice2KHR",
			"GetVulkanGraphicsRequirements2KHR",
			"createvulkan",
			"m_instance",
			"m_instance =",
			"m_instance",
			"m_instance ",
			"m_instance = ",
			"m_instance =",
			"m_instance",
			"InitializeDevice",
			"CreateVulkanInstanceKHR",
			"device",
			"createin",
			"vk",
			"vkCreateInstance",
			"hello_xr",
			"com.khronos.hello_xr",
			"hello_xr",
			"EGL",
			"gle",
			"gl",
			"gles",
			"STB_INCLUDEDIR",
			"LIBS",
			"tinyobjloader",
			"STB_INCLUDEDIR",
			"include",
			"SHADER",
			"Port",
			"render-stream-hub",
			"s",
			"pod",
			"message",
			"SP",
			"SPK",
			"LOGI",
			"SPK",
			"SP",
			"SPK",
			"Current graph",
			"VULKAN_SHADERS",
			"device_id",
			"do_tts",
			"",
			"get_latest_ask_from_xiaoai",
			"run_forever",
			"tts_command",
			"HARDWARE_COMMAND_DICT",
			"x08c",
			"get_latest_ask_from_xiaoai",
			"_init_first_data_and_chatbot",
			"_init_cookie",
			"check_new_query",
			"init_all_data",
			"_init_cookie",
			"login_miboy",
			"HARDWARE_COMMAND_DICT",
			"Pro",
			"SOUND_TYPE",
			"compile_glsl",
			"HelloXR",
			"Hello",
			"com.android.tools.build:gradle",
			"base-extension",
			"prepareKotlinBuildScriptModel",
			"SubmitLayerImage",
			"StreamingDriverInterfacePtr =",
			"StreamingDriverInterfacePtr",
			"ConnectStreamingServer",
			"<TargetFrameworkVersion>v4",
			"v4",
			"4.5",
			".net"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"pico_remoting_player",
			"com.spk.pico_remoting_player"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "pico_remoting_player/main.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7153,
						"regions":
						{
						},
						"selection":
						[
							[
								110,
								94
							]
						],
						"settings":
						{
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "CMakeLists.txt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2096,
						"regions":
						{
						},
						"selection":
						[
							[
								1072,
								1084
							]
						],
						"settings":
						{
							"syntax": "Packages/CMake/CMake.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1053.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "pico_remoting_player/graphicsplugin.h",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2172,
						"regions":
						{
						},
						"selection":
						[
							[
								928,
								928
							]
						],
						"settings":
						{
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 405.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "pico_remoting_player/graphicsplugin_vulkan.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 59865,
						"regions":
						{
						},
						"selection":
						[
							[
								208,
								208
							]
						],
						"settings":
						{
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "pico_remoting_player/graphicsplugin_factory.cpp",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1990,
						"regions":
						{
						},
						"selection":
						[
							[
								1410,
								1430
							]
						],
						"settings":
						{
							"syntax": "Packages/C++/C++.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 36.0
	},
	"input":
	{
		"height": 48.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "PicoRemotingPlayer.sublime-project",
	"replace":
	{
		"height": 68.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 284.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
